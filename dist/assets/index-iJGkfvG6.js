var _k=Object.defineProperty;var Sk=(t,e,n)=>e in t?_k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var s0=(t,e,n)=>Sk(t,typeof e!="symbol"?e+"":e,n);function Ak(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l0={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function Tk(){if(NE)return xu;NE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return xu.Fragment=e,xu.jsx=n,xu.jsxs=n,xu}var DE;function Ck(){return DE||(DE=1,l0.exports=Tk()),l0.exports}var E=Ck(),u0={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function Nk(){if(RE)return pt;RE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function T($,se,Ae){this.props=$,this.context=se,this.refs=b,this.updater=Ae||C}T.prototype.isReactComponent={},T.prototype.setState=function($,se){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,se,"setState")},T.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function D(){}D.prototype=T.prototype;function I($,se,Ae){this.props=$,this.context=se,this.refs=b,this.updater=Ae||C}var P=I.prototype=new D;P.constructor=I,S(P,T.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function O(){}var L={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function B($,se,Ae){var we=Ae.ref;return{$$typeof:t,type:$,key:se,ref:we!==void 0?we:null,props:Ae}}function q($,se){return B($.type,se,$.props)}function Y($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function W($){var se={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ae){return se[Ae]})}var re=/\/+/g;function me($,se){return typeof $=="object"&&$!==null&&$.key!=null?W(""+$.key):se.toString(36)}function Z($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(O,O):($.status="pending",$.then(function(se){$.status==="pending"&&($.status="fulfilled",$.value=se)},function(se){$.status==="pending"&&($.status="rejected",$.reason=se)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function X($,se,Ae,we,Ue){var $e=typeof $;($e==="undefined"||$e==="boolean")&&($=null);var qe=!1;if($===null)qe=!0;else switch($e){case"bigint":case"string":case"number":qe=!0;break;case"object":switch($.$$typeof){case t:case e:qe=!0;break;case h:return qe=$._init,X(qe($._payload),se,Ae,we,Ue)}}if(qe)return Ue=Ue($),qe=we===""?"."+me($,0):we,M(Ue)?(Ae="",qe!=null&&(Ae=qe.replace(re,"$&/")+"/"),X(Ue,se,Ae,"",function(We){return We})):Ue!=null&&(Y(Ue)&&(Ue=q(Ue,Ae+(Ue.key==null||$&&$.key===Ue.key?"":(""+Ue.key).replace(re,"$&/")+"/")+qe)),se.push(Ue)),1;qe=0;var Ge=we===""?".":we+":";if(M($))for(var ye=0;ye<$.length;ye++)we=$[ye],$e=Ge+me(we,ye),qe+=X(we,se,Ae,$e,Ue);else if(ye=y($),typeof ye=="function")for($=ye.call($),ye=0;!(we=$.next()).done;)we=we.value,$e=Ge+me(we,ye++),qe+=X(we,se,Ae,$e,Ue);else if($e==="object"){if(typeof $.then=="function")return X(Z($),se,Ae,we,Ue);throw se=String($),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return qe}function Q($,se,Ae){if($==null)return $;var we=[],Ue=0;return X($,we,"","",function($e){return se.call(Ae,$e,Ue++)}),we}function oe($){if($._status===-1){var se=$._result;se=se(),se.then(function(Ae){($._status===0||$._status===-1)&&($._status=1,$._result=Ae)},function(Ae){($._status===0||$._status===-1)&&($._status=2,$._result=Ae)}),$._status===-1&&($._status=0,$._result=se)}if($._status===1)return $._result.default;throw $._result}var de=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Ce={map:Q,forEach:function($,se,Ae){Q($,function(){se.apply(this,arguments)},Ae)},count:function($){var se=0;return Q($,function(){se++}),se},toArray:function($){return Q($,function(se){return se})||[]},only:function($){if(!Y($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return pt.Activity=p,pt.Children=Ce,pt.Component=T,pt.Fragment=n,pt.Profiler=i,pt.PureComponent=I,pt.StrictMode=r,pt.Suspense=c,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,pt.__COMPILER_RUNTIME={__proto__:null,c:function($){return L.H.useMemoCache($)}},pt.cache=function($){return function(){return $.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function($,se,Ae){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var we=S({},$.props),Ue=$.key;if(se!=null)for($e in se.key!==void 0&&(Ue=""+se.key),se)!z.call(se,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&se.ref===void 0||(we[$e]=se[$e]);var $e=arguments.length-2;if($e===1)we.children=Ae;else if(1<$e){for(var qe=Array($e),Ge=0;Ge<$e;Ge++)qe[Ge]=arguments[Ge+2];we.children=qe}return B($.type,Ue,we)},pt.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},pt.createElement=function($,se,Ae){var we,Ue={},$e=null;if(se!=null)for(we in se.key!==void 0&&($e=""+se.key),se)z.call(se,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Ue[we]=se[we]);var qe=arguments.length-2;if(qe===1)Ue.children=Ae;else if(1<qe){for(var Ge=Array(qe),ye=0;ye<qe;ye++)Ge[ye]=arguments[ye+2];Ue.children=Ge}if($&&$.defaultProps)for(we in qe=$.defaultProps,qe)Ue[we]===void 0&&(Ue[we]=qe[we]);return B($,$e,Ue)},pt.createRef=function(){return{current:null}},pt.forwardRef=function($){return{$$typeof:u,render:$}},pt.isValidElement=Y,pt.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:oe}},pt.memo=function($,se){return{$$typeof:f,type:$,compare:se===void 0?null:se}},pt.startTransition=function($){var se=L.T,Ae={};L.T=Ae;try{var we=$(),Ue=L.S;Ue!==null&&Ue(Ae,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(O,de)}catch($e){de($e)}finally{se!==null&&Ae.types!==null&&(se.types=Ae.types),L.T=se}},pt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},pt.use=function($){return L.H.use($)},pt.useActionState=function($,se,Ae){return L.H.useActionState($,se,Ae)},pt.useCallback=function($,se){return L.H.useCallback($,se)},pt.useContext=function($){return L.H.useContext($)},pt.useDebugValue=function(){},pt.useDeferredValue=function($,se){return L.H.useDeferredValue($,se)},pt.useEffect=function($,se){return L.H.useEffect($,se)},pt.useEffectEvent=function($){return L.H.useEffectEvent($)},pt.useId=function(){return L.H.useId()},pt.useImperativeHandle=function($,se,Ae){return L.H.useImperativeHandle($,se,Ae)},pt.useInsertionEffect=function($,se){return L.H.useInsertionEffect($,se)},pt.useLayoutEffect=function($,se){return L.H.useLayoutEffect($,se)},pt.useMemo=function($,se){return L.H.useMemo($,se)},pt.useOptimistic=function($,se){return L.H.useOptimistic($,se)},pt.useReducer=function($,se,Ae){return L.H.useReducer($,se,Ae)},pt.useRef=function($){return L.H.useRef($)},pt.useState=function($){return L.H.useState($)},pt.useSyncExternalStore=function($,se,Ae){return L.H.useSyncExternalStore($,se,Ae)},pt.useTransition=function(){return L.H.useTransition()},pt.version="19.2.0",pt}var IE;function yl(){return IE||(IE=1,u0.exports=Nk()),u0.exports}var R=yl();const xN=hr(R),Dk=Ak({__proto__:null,default:xN},[R]);var c0={exports:{}},bu={},f0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function Rk(){return ME||(ME=1,(function(t){function e(X,Q){var oe=X.length;X.push(Q);e:for(;0<oe;){var de=oe-1>>>1,Ce=X[de];if(0<i(Ce,Q))X[de]=Q,X[oe]=Ce,oe=de;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Q=X[0],oe=X.pop();if(oe!==Q){X[0]=oe;e:for(var de=0,Ce=X.length,$=Ce>>>1;de<$;){var se=2*(de+1)-1,Ae=X[se],we=se+1,Ue=X[we];if(0>i(Ae,oe))we<Ce&&0>i(Ue,Ae)?(X[de]=Ue,X[we]=oe,de=we):(X[de]=Ae,X[se]=oe,de=se);else if(we<Ce&&0>i(Ue,oe))X[de]=Ue,X[we]=oe,de=we;else break e}}return Q}function i(X,Q){var oe=X.sortIndex-Q.sortIndex;return oe!==0?oe:X.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,v=3,y=!1,C=!1,S=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=X)r(f),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(f)}}function M(X){if(S=!1,P(X),!C)if(n(c)!==null)C=!0,O||(O=!0,W());else{var Q=n(f);Q!==null&&Z(M,Q.startTime-X)}}var O=!1,L=-1,z=5,B=-1;function q(){return b?!0:!(t.unstable_now()-B<z)}function Y(){if(b=!1,O){var X=t.unstable_now();B=X;var Q=!0;try{e:{C=!1,S&&(S=!1,D(L),L=-1),y=!0;var oe=v;try{t:{for(P(X),p=n(c);p!==null&&!(p.expirationTime>X&&q());){var de=p.callback;if(typeof de=="function"){p.callback=null,v=p.priorityLevel;var Ce=de(p.expirationTime<=X);if(X=t.unstable_now(),typeof Ce=="function"){p.callback=Ce,P(X),Q=!0;break t}p===n(c)&&r(c),P(X)}else r(c);p=n(c)}if(p!==null)Q=!0;else{var $=n(f);$!==null&&Z(M,$.startTime-X),Q=!1}}break e}finally{p=null,v=oe,y=!1}Q=void 0}}finally{Q?W():O=!1}}}var W;if(typeof I=="function")W=function(){I(Y)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,me=re.port2;re.port1.onmessage=Y,W=function(){me.postMessage(null)}}else W=function(){T(Y,0)};function Z(X,Q){L=T(function(){X(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var oe=v;v=Q;try{return X()}finally{v=oe}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=v;v=X;try{return Q()}finally{v=oe}},t.unstable_scheduleCallback=function(X,Q,oe){var de=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?de+oe:de):oe=de,X){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=oe+Ce,X={id:h++,callback:Q,priorityLevel:X,startTime:oe,expirationTime:Ce,sortIndex:-1},oe>de?(X.sortIndex=oe,e(f,X),n(c)===null&&X===n(f)&&(S?(D(L),L=-1):S=!0,Z(M,oe-de))):(X.sortIndex=Ce,e(c,X),C||y||(C=!0,O||(O=!0,W()))),X},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(X){var Q=v;return function(){var oe=v;v=Q;try{return X.apply(this,arguments)}finally{v=oe}}}})(d0)),d0}var OE;function Ik(){return OE||(OE=1,f0.exports=Rk()),f0.exports}var h0={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function Mk(){if(kE)return ur;kE=1;var t=yl();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},ur.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},ur.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},ur.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ur.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ur.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},ur.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ur.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},ur.requestFormReset=function(c){r.d.r(c)},ur.unstable_batchedUpdates=function(c,f){return c(f)},ur.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},ur.useFormStatus=function(){return s.H.useHostTransitionStatus()},ur.version="19.2.0",ur}var PE;function bN(){if(PE)return h0.exports;PE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h0.exports=Mk(),h0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function Ok(){if(LE)return bu;LE=1;var t=Ik(),e=yl(),n=bN();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,m=l;;){var w=d.return;if(w===null)break;var _=w.alternate;if(_===null){if(m=w.return,m!==null){d=m;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===d)return c(w),o;if(_===m)return c(w),l;_=_.sibling}throw Error(r(188))}if(d.return!==m.return)d=w,m=_;else{for(var k=!1,F=w.child;F;){if(F===d){k=!0,d=w,m=_;break}if(F===m){k=!0,m=w,d=_;break}F=F.sibling}if(!k){for(F=_.child;F;){if(F===d){k=!0,d=_,m=w;break}if(F===m){k=!0,m=_,d=w;break}F=F.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=Y&&o[Y]||o["@@iterator"],typeof o=="function"?o:null)}var re=Symbol.for("react.client.reference");function me(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===re?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case T:return"Profiler";case b:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case C:return"Portal";case I:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case P:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return l=o.displayName||null,l!==null?l:me(o.type)||"Memo";case z:l=o._payload,o=o._init;try{return me(o(l))}catch{}}return null}var Z=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},de=[],Ce=-1;function $(o){return{current:o}}function se(o){0>Ce||(o.current=de[Ce],de[Ce]=null,Ce--)}function Ae(o,l){Ce++,de[Ce]=o.current,o.current=l}var we=$(null),Ue=$(null),$e=$(null),qe=$(null);function Ge(o,l){switch(Ae($e,l),Ae(Ue,o),Ae(we,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?Zw(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=Zw(l),o=Jw(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}se(we),Ae(we,o)}function ye(){se(we),se(Ue),se($e)}function We(o){o.memoizedState!==null&&Ae(qe,o);var l=we.current,d=Jw(l,o.type);l!==d&&(Ae(Ue,o),Ae(we,d))}function je(o){Ue.current===o&&(se(we),se(Ue)),qe.current===o&&(se(qe),mu._currentValue=oe)}var Ee,Qe;function Ye(o){if(Ee===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Ee=l&&l[1]||"",Qe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+o+Qe}var tt=!1;function rt(o,l){if(!o||tt)return"";tt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(be){var xe=be}Reflect.construct(o,[],Ie)}else{try{Ie.call()}catch(be){xe=be}o.call(Ie.prototype)}}else{try{throw Error()}catch(be){xe=be}(Ie=o())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(be){if(be&&xe&&typeof be.stack=="string")return[be.stack,xe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),k=_[0],F=_[1];if(k&&F){var te=k.split(`
`),ve=F.split(`
`);for(w=m=0;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;for(;w<ve.length&&!ve[w].includes("DetermineComponentFrameRoot");)w++;if(m===te.length||w===ve.length)for(m=te.length-1,w=ve.length-1;1<=m&&0<=w&&te[m]!==ve[w];)w--;for(;1<=m&&0<=w;m--,w--)if(te[m]!==ve[w]){if(m!==1||w!==1)do if(m--,w--,0>w||te[m]!==ve[w]){var Te=`
`+te[m].replace(" at new "," at ");return o.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",o.displayName)),Te}while(1<=m&&0<=w);break}}}finally{tt=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Ye(d):""}function ot(o,l){switch(o.tag){case 26:case 27:case 5:return Ye(o.type);case 16:return Ye("Lazy");case 13:return o.child!==l&&l!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return rt(o.type,!1);case 11:return rt(o.type.render,!1);case 1:return rt(o.type,!0);case 31:return Ye("Activity");default:return""}}function Mt(o){try{var l="",d=null;do l+=ot(o,d),d=o,o=o.return;while(o);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ot=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,it=t.unstable_cancelCallback,ut=t.unstable_shouldYield,st=t.unstable_requestPaint,_t=t.unstable_now,or=t.unstable_getCurrentPriorityLevel,wn=t.unstable_ImmediatePriority,en=t.unstable_UserBlockingPriority,kn=t.unstable_NormalPriority,Fn=t.unstable_LowPriority,sn=t.unstable_IdlePriority,Tn=t.log,mn=t.unstable_setDisableYieldValue,zt=null,St=null;function gn(o){if(typeof Tn=="function"&&mn(o),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(zt,o)}catch{}}var V=Math.clz32?Math.clz32:He,Re=Math.log,Oe=Math.LN2;function He(o){return o>>>=0,o===0?32:31-(Re(o)/Oe|0)|0}var ae=256,_e=262144,N=4194304;function U(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function H(o,l,d){var m=o.pendingLanes;if(m===0)return 0;var w=0,_=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var F=m&134217727;return F!==0?(m=F&~_,m!==0?w=U(m):(k&=F,k!==0?w=U(k):d||(d=F&~o,d!==0&&(w=U(d))))):(F=m&~_,F!==0?w=U(F):k!==0?w=U(k):d||(d=m&~o,d!==0&&(w=U(d)))),w===0?0:l!==0&&l!==w&&(l&_)===0&&(_=w&-w,d=l&-l,_>=d||_===32&&(d&4194048)!==0)?l:w}function A(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function J(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ie(){var o=N;return N<<=1,(N&62914560)===0&&(N=4194304),o}function j(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function ee(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function pe(o,l,d,m,w,_){var k=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var F=o.entanglements,te=o.expirationTimes,ve=o.hiddenUpdates;for(d=k&~d;0<d;){var Te=31-V(d),Ie=1<<Te;F[Te]=0,te[Te]=-1;var xe=ve[Te];if(xe!==null)for(ve[Te]=null,Te=0;Te<xe.length;Te++){var be=xe[Te];be!==null&&(be.lane&=-536870913)}d&=~Ie}m!==0&&ze(o,m,0),_!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=_&~(k&~l))}function ze(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-V(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|d&261930}function Pe(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-V(d),w=1<<m;w&l|o[m]&l&&(o[m]|=l),d&=~w}}function Fe(o,l){var d=l&-l;return d=(d&42)!==0?1:ft(d),(d&(o.suspendedLanes|l))!==0?0:d}function ft(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function dn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function yt(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:wE(o.type))}function ht(o,l){var d=Q.p;try{return Q.p=o,l()}finally{Q.p=d}}var At=Math.random().toString(36).slice(2),at="__reactFiber$"+At,It="__reactProps$"+At,Cn="__reactContainer$"+At,Ir="__reactEvents$"+At,ln="__reactListeners$"+At,sr="__reactHandles$"+At,vn="__reactResources$"+At,Xn="__reactMarker$"+At;function lr(o){delete o[at],delete o[It],delete o[Ir],delete o[ln],delete o[sr]}function di(o){var l=o[at];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Cn]||d[at]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=aE(o);o!==null;){if(d=o[at])return d;o=aE(o)}return l}o=d,d=o.parentNode}return null}function Ma(o){if(o=o[at]||o[Cn]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Oa(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function $r(o){var l=o[vn];return l||(l=o[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function En(o){o[Xn]=!0}var Hi=new Set,_c={};function Yr(o,l){Ri(o,l),Ri(o+"Capture",l)}function Ri(o,l){for(_c[o]=l,o=0;o<l.length;o++)Hi.add(l[o])}var rp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},as={};function ip(o){return Ot.call(as,o)?!0:Ot.call(Sc,o)?!1:rp.test(o)?as[o]=!0:(Sc[o]=!0,!1)}function os(o,l,d){if(ip(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function G(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function ne(o,l,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+m)}}function K(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ce(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function he(o,l,d){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,_=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return w.call(this)},set:function(k){d=""+k,_.call(this,k)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ue(o){if(!o._valueTracker){var l=ce(o)?"checked":"value";o._valueTracker=he(o,l,""+o[l])}}function Ne(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=ce(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Me(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Le=/[\n"\\]/g;function ke(o){return o.replace(Le,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Be(o,l,d,m,w,_,k,F){o.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.type=k:o.removeAttribute("type"),l!=null?k==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+K(l)):o.value!==""+K(l)&&(o.value=""+K(l)):k!=="submit"&&k!=="reset"||o.removeAttribute("value"),l!=null?mt(o,k,K(l)):d!=null?mt(o,k,K(d)):m!=null&&o.removeAttribute("value"),w==null&&_!=null&&(o.defaultChecked=!!_),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?o.name=""+K(F):o.removeAttribute("name")}function Je(o,l,d,m,w,_,k,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),l!=null||d!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){ue(o);return}d=d!=null?""+K(d):"",l=l!=null?""+K(l):d,F||l===o.value||(o.value=l),o.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=F?o.checked:!!m,o.defaultChecked=!!m,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.name=k),ue(o)}function mt(o,l,d){l==="number"&&Me(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function xt(o,l,d,m){if(o=o.options,l){l={};for(var w=0;w<d.length;w++)l["$"+d[w]]=!0;for(d=0;d<o.length;d++)w=l.hasOwnProperty("$"+o[d].value),o[d].selected!==w&&(o[d].selected=w),w&&m&&(o[d].defaultSelected=!0)}else{for(d=""+K(d),l=null,w=0;w<o.length;w++){if(o[w].value===d){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}l!==null||o[w].disabled||(l=o[w])}l!==null&&(l.selected=!0)}}function kt(o,l,d){if(l!=null&&(l=""+K(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+K(d):""}function hn(o,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(Z(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=K(l),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m),ue(o)}function Vt(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ka(o,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,d):typeof d!="number"||d===0||xr.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function ss(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&d[w]!==m&&ka(o,w,m)}else for(var _ in l)l.hasOwnProperty(_)&&ka(o,_,l[_])}function Rl(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(o){return Kb.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function hi(){}var us=null;function ap(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var cs=null,fs=null;function Xb(o){var l=Ma(o);if(l&&(o=l.stateNode)){var d=o[It]||null;e:switch(o=l.stateNode,l.type){case"input":if(Be(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ke(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var w=m[It]||null;if(!w)throw Error(r(90));Be(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===o.form&&Ne(m)}break e;case"textarea":kt(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&xt(o,!!d.multiple,l,!1)}}}var op=!1;function Zb(o,l,d){if(op)return o(l,d);op=!0;try{var m=o(l);return m}finally{if(op=!1,(cs!==null||fs!==null)&&(df(),cs&&(l=cs,o=fs,fs=cs=null,Xb(l),o)))for(l=0;l<o.length;l++)Xb(o[l])}}function Ml(o,l){var d=o.stateNode;if(d===null)return null;var m=d[It]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=!1;if(Gi)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){sp=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{sp=!1}var Pa=null,lp=null,Ac=null;function Jb(){if(Ac)return Ac;var o,l=lp,d=l.length,m,w="value"in Pa?Pa.value:Pa.textContent,_=w.length;for(o=0;o<d&&l[o]===w[o];o++);var k=d-o;for(m=1;m<=k&&l[d-m]===w[_-m];m++);return Ac=w.slice(o,1<m?1-m:void 0)}function Tc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Cc(){return!0}function Qb(){return!1}function br(o){function l(d,m,w,_,k){this._reactName=d,this._targetInst=w,this.type=m,this.nativeEvent=_,this.target=k,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(d=o[F],this[F]=d?d(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Cc:Qb,this.isPropagationStopped=Qb,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),l}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=br(_o),kl=p({},_o,{view:0,detail:0}),w4=br(kl),up,cp,Pl,Dc=p({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Pl&&(Pl&&o.type==="mousemove"?(up=o.screenX-Pl.screenX,cp=o.screenY-Pl.screenY):cp=up=0,Pl=o),up)},movementY:function(o){return"movementY"in o?o.movementY:cp}}),e1=br(Dc),E4=p({},Dc,{dataTransfer:0}),_4=br(E4),S4=p({},kl,{relatedTarget:0}),fp=br(S4),A4=p({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),T4=br(A4),C4=p({},_o,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),N4=br(C4),D4=p({},_o,{data:0}),t1=br(D4),R4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O4(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=M4[o])?!!l[o]:!1}function dp(){return O4}var k4=p({},kl,{key:function(o){if(o.key){var l=R4[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Tc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?I4[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(o){return o.type==="keypress"?Tc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Tc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),P4=br(k4),L4=p({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n1=br(L4),U4=p({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),B4=br(U4),j4=p({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),z4=br(j4),F4=p({},Dc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),q4=br(F4),H4=p({},_o,{newState:0,oldState:0}),G4=br(H4),V4=[9,13,27,32],hp=Gi&&"CompositionEvent"in window,Ll=null;Gi&&"documentMode"in document&&(Ll=document.documentMode);var $4=Gi&&"TextEvent"in window&&!Ll,r1=Gi&&(!hp||Ll&&8<Ll&&11>=Ll),i1=" ",a1=!1;function o1(o,l){switch(o){case"keyup":return V4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ds=!1;function Y4(o,l){switch(o){case"compositionend":return s1(l);case"keypress":return l.which!==32?null:(a1=!0,i1);case"textInput":return o=l.data,o===i1&&a1?null:o;default:return null}}function W4(o,l){if(ds)return o==="compositionend"||!hp&&o1(o,l)?(o=Jb(),Ac=lp=Pa=null,ds=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return r1&&l.locale!=="ko"?null:l.data;default:return null}}var K4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!K4[o.type]:l==="textarea"}function u1(o,l,d,m){cs?fs?fs.push(m):fs=[m]:cs=m,l=xf(l,"onChange"),0<l.length&&(d=new Nc("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var Ul=null,Bl=null;function X4(o){Vw(o,0)}function Rc(o){var l=Oa(o);if(Ne(l))return o}function c1(o,l){if(o==="change")return l}var f1=!1;if(Gi){var pp;if(Gi){var mp="oninput"in document;if(!mp){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),mp=typeof d1.oninput=="function"}pp=mp}else pp=!1;f1=pp&&(!document.documentMode||9<document.documentMode)}function h1(){Ul&&(Ul.detachEvent("onpropertychange",p1),Bl=Ul=null)}function p1(o){if(o.propertyName==="value"&&Rc(Bl)){var l=[];u1(l,Bl,o,ap(o)),Zb(X4,l)}}function Z4(o,l,d){o==="focusin"?(h1(),Ul=l,Bl=d,Ul.attachEvent("onpropertychange",p1)):o==="focusout"&&h1()}function J4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Rc(Bl)}function Q4(o,l){if(o==="click")return Rc(l)}function eO(o,l){if(o==="input"||o==="change")return Rc(l)}function tO(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Mr=typeof Object.is=="function"?Object.is:tO;function jl(o,l){if(Mr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var w=d[m];if(!Ot.call(l,w)||!Mr(o[w],l[w]))return!1}return!0}function m1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function g1(o,l){var d=m1(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=m1(d)}}function v1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?v1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function y1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Me(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Me(o.document)}return l}function gp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var nO=Gi&&"documentMode"in document&&11>=document.documentMode,hs=null,vp=null,zl=null,yp=!1;function x1(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;yp||hs==null||hs!==Me(m)||(m=hs,"selectionStart"in m&&gp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zl&&jl(zl,m)||(zl=m,m=xf(vp,"onSelect"),0<m.length&&(l=new Nc("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=hs)))}function So(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var ps={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionrun:So("Transition","TransitionRun"),transitionstart:So("Transition","TransitionStart"),transitioncancel:So("Transition","TransitionCancel"),transitionend:So("Transition","TransitionEnd")},xp={},b1={};Gi&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Ao(o){if(xp[o])return xp[o];if(!ps[o])return o;var l=ps[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in b1)return xp[o]=l[d];return o}var w1=Ao("animationend"),E1=Ao("animationiteration"),_1=Ao("animationstart"),rO=Ao("transitionrun"),iO=Ao("transitionstart"),aO=Ao("transitioncancel"),S1=Ao("transitionend"),A1=new Map,bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bp.push("scrollEnd");function pi(o,l){A1.set(o,l),Yr(l,[o])}var Ic=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Wr=[],ms=0,wp=0;function Mc(){for(var o=ms,l=wp=ms=0;l<o;){var d=Wr[l];Wr[l++]=null;var m=Wr[l];Wr[l++]=null;var w=Wr[l];Wr[l++]=null;var _=Wr[l];if(Wr[l++]=null,m!==null&&w!==null){var k=m.pending;k===null?w.next=w:(w.next=k.next,k.next=w),m.pending=w}_!==0&&T1(d,w,_)}}function Oc(o,l,d,m){Wr[ms++]=o,Wr[ms++]=l,Wr[ms++]=d,Wr[ms++]=m,wp|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Ep(o,l,d,m){return Oc(o,l,d,m),kc(o)}function To(o,l){return Oc(o,null,null,l),kc(o)}function T1(o,l,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var w=!1,_=o.return;_!==null;)_.childLanes|=d,m=_.alternate,m!==null&&(m.childLanes|=d),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(w=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,w&&l!==null&&(w=31-V(d),o=_.hiddenUpdates,m=o[w],m===null?o[w]=[l]:m.push(l),l.lane=d|536870912),_):null}function kc(o){if(50<lu)throw lu=0,Im=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var gs={};function oO(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(o,l,d,m){return new oO(o,l,d,m)}function _p(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Vi(o,l){var d=o.alternate;return d===null?(d=Or(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function C1(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Pc(o,l,d,m,w,_){var k=0;if(m=o,typeof o=="function")_p(o)&&(k=1);else if(typeof o=="string")k=fk(o,d,we.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Or(31,d,l,w),o.elementType=B,o.lanes=_,o;case S:return Co(d.children,w,_,l);case b:k=8,w|=24;break;case T:return o=Or(12,d,l,w|2),o.elementType=T,o.lanes=_,o;case M:return o=Or(13,d,l,w),o.elementType=M,o.lanes=_,o;case O:return o=Or(19,d,l,w),o.elementType=O,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:k=10;break e;case D:k=9;break e;case P:k=11;break e;case L:k=14;break e;case z:k=16,m=null;break e}k=29,d=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=Or(k,d,l,w),l.elementType=o,l.type=m,l.lanes=_,l}function Co(o,l,d,m){return o=Or(7,o,m,l),o.lanes=d,o}function Sp(o,l,d){return o=Or(6,o,null,l),o.lanes=d,o}function N1(o){var l=Or(18,null,null,0);return l.stateNode=o,l}function Ap(o,l,d){return l=Or(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var D1=new WeakMap;function Kr(o,l){if(typeof o=="object"&&o!==null){var d=D1.get(o);return d!==void 0?d:(l={value:o,source:l,stack:Mt(l)},D1.set(o,l),l)}return{value:o,source:l,stack:Mt(l)}}var vs=[],ys=0,Lc=null,Fl=0,Xr=[],Zr=0,La=null,Ii=1,Mi="";function $i(o,l){vs[ys++]=Fl,vs[ys++]=Lc,Lc=o,Fl=l}function R1(o,l,d){Xr[Zr++]=Ii,Xr[Zr++]=Mi,Xr[Zr++]=La,La=o;var m=Ii;o=Mi;var w=32-V(m)-1;m&=~(1<<w),d+=1;var _=32-V(l)+w;if(30<_){var k=w-w%5;_=(m&(1<<k)-1).toString(32),m>>=k,w-=k,Ii=1<<32-V(l)+w|d<<w|m,Mi=_+o}else Ii=1<<_|d<<w|m,Mi=o}function Tp(o){o.return!==null&&($i(o,1),R1(o,1,0))}function Cp(o){for(;o===Lc;)Lc=vs[--ys],vs[ys]=null,Fl=vs[--ys],vs[ys]=null;for(;o===La;)La=Xr[--Zr],Xr[Zr]=null,Mi=Xr[--Zr],Xr[Zr]=null,Ii=Xr[--Zr],Xr[Zr]=null}function I1(o,l){Xr[Zr++]=Ii,Xr[Zr++]=Mi,Xr[Zr++]=La,Ii=l.id,Mi=l.overflow,La=o}var Zn=null,tn=null,Nt=!1,Ua=null,Jr=!1,Np=Error(r(519));function Ba(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Kr(l,o)),Np}function M1(o){var l=o.stateNode,d=o.type,m=o.memoizedProps;switch(l[at]=o,l[It]=m,d){case"dialog":wt("cancel",l),wt("close",l);break;case"iframe":case"object":case"embed":wt("load",l);break;case"video":case"audio":for(d=0;d<cu.length;d++)wt(cu[d],l);break;case"source":wt("error",l);break;case"img":case"image":case"link":wt("error",l),wt("load",l);break;case"details":wt("toggle",l);break;case"input":wt("invalid",l),Je(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":wt("invalid",l);break;case"textarea":wt("invalid",l),hn(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||Kw(l.textContent,d)?(m.popover!=null&&(wt("beforetoggle",l),wt("toggle",l)),m.onScroll!=null&&wt("scroll",l),m.onScrollEnd!=null&&wt("scrollend",l),m.onClick!=null&&(l.onclick=hi),l=!0):l=!1,l||Ba(o,!0)}function O1(o){for(Zn=o.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Zn=Zn.return}}function xs(o){if(o!==Zn)return!1;if(!Nt)return O1(o),Nt=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||$m(o.type,o.memoizedProps)),d=!d),d&&tn&&Ba(o),O1(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));tn=iE(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));tn=iE(o)}else l===27?(l=tn,Ja(o.type)?(o=Zm,Zm=null,tn=o):tn=l):tn=Zn?ei(o.stateNode.nextSibling):null;return!0}function No(){tn=Zn=null,Nt=!1}function Dp(){var o=Ua;return o!==null&&(Sr===null?Sr=o:Sr.push.apply(Sr,o),Ua=null),o}function ql(o){Ua===null?Ua=[o]:Ua.push(o)}var Rp=$(null),Do=null,Yi=null;function ja(o,l,d){Ae(Rp,l._currentValue),l._currentValue=d}function Wi(o){o._currentValue=Rp.current,se(Rp)}function Ip(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Mp(o,l,d,m){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var _=w.dependencies;if(_!==null){var k=w.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=w;for(var te=0;te<l.length;te++)if(F.context===l[te]){_.lanes|=d,F=_.alternate,F!==null&&(F.lanes|=d),Ip(_.return,d,o),m||(k=null);break e}_=F.next}}else if(w.tag===18){if(k=w.return,k===null)throw Error(r(341));k.lanes|=d,_=k.alternate,_!==null&&(_.lanes|=d),Ip(k,d,o),k=null}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===o){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}}function bs(o,l,d,m){o=null;for(var w=l,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var k=w.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var F=w.type;Mr(w.pendingProps.value,k.value)||(o!==null?o.push(F):o=[F])}}else if(w===qe.current){if(k=w.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(mu):o=[mu])}w=w.return}o!==null&&Mp(l,o,d,m),l.flags|=262144}function Uc(o){for(o=o.firstContext;o!==null;){if(!Mr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ro(o){Do=o,Yi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Jn(o){return k1(Do,o)}function Bc(o,l){return Do===null&&Ro(o),k1(o,l)}function k1(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Yi===null){if(o===null)throw Error(r(308));Yi=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Yi=Yi.next=l;return d}var sO=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},lO=t.unstable_scheduleCallback,uO=t.unstable_NormalPriority,Nn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new sO,data:new Map,refCount:0}}function Hl(o){o.refCount--,o.refCount===0&&lO(uO,function(){o.controller.abort()})}var Gl=null,kp=0,ws=0,Es=null;function cO(o,l){if(Gl===null){var d=Gl=[];kp=0,ws=Um(),Es={status:"pending",value:void 0,then:function(m){d.push(m)}}}return kp++,l.then(P1,P1),l}function P1(){if(--kp===0&&Gl!==null){Es!==null&&(Es.status="fulfilled");var o=Gl;Gl=null,ws=0,Es=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function fO(o,l){var d=[],m={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<d.length;w++)(0,d[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),m}var L1=X.S;X.S=function(o,l){xw=_t(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&cO(o,l),L1!==null&&L1(o,l)};var Io=$(null);function Pp(){var o=Io.current;return o!==null?o:Kt.pooledCache}function jc(o,l){l===null?Ae(Io,Io.current):Ae(Io,l.pool)}function U1(){var o=Pp();return o===null?null:{parent:Nn._currentValue,pool:o}}var _s=Error(r(460)),Lp=Error(r(474)),zc=Error(r(542)),Fc={then:function(){}};function B1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function j1(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(hi,hi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,F1(o),o;default:if(typeof l.status=="string")l.then(hi,hi);else{if(o=Kt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,F1(o),o}throw Oo=l,_s}}function Mo(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Oo=d,_s):d}}var Oo=null;function z1(){if(Oo===null)throw Error(r(459));var o=Oo;return Oo=null,o}function F1(o){if(o===_s||o===zc)throw Error(r(483))}var Ss=null,Vl=0;function qc(o){var l=Vl;return Vl+=1,Ss===null&&(Ss=[]),j1(Ss,o,l)}function $l(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Hc(o,l){throw l.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function q1(o){function l(fe,le){if(o){var ge=fe.deletions;ge===null?(fe.deletions=[le],fe.flags|=16):ge.push(le)}}function d(fe,le){if(!o)return null;for(;le!==null;)l(fe,le),le=le.sibling;return null}function m(fe){for(var le=new Map;fe!==null;)fe.key!==null?le.set(fe.key,fe):le.set(fe.index,fe),fe=fe.sibling;return le}function w(fe,le){return fe=Vi(fe,le),fe.index=0,fe.sibling=null,fe}function _(fe,le,ge){return fe.index=ge,o?(ge=fe.alternate,ge!==null?(ge=ge.index,ge<le?(fe.flags|=67108866,le):ge):(fe.flags|=67108866,le)):(fe.flags|=1048576,le)}function k(fe){return o&&fe.alternate===null&&(fe.flags|=67108866),fe}function F(fe,le,ge,De){return le===null||le.tag!==6?(le=Sp(ge,fe.mode,De),le.return=fe,le):(le=w(le,ge),le.return=fe,le)}function te(fe,le,ge,De){var nt=ge.type;return nt===S?Te(fe,le,ge.props.children,De,ge.key):le!==null&&(le.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===z&&Mo(nt)===le.type)?(le=w(le,ge.props),$l(le,ge),le.return=fe,le):(le=Pc(ge.type,ge.key,ge.props,null,fe.mode,De),$l(le,ge),le.return=fe,le)}function ve(fe,le,ge,De){return le===null||le.tag!==4||le.stateNode.containerInfo!==ge.containerInfo||le.stateNode.implementation!==ge.implementation?(le=Ap(ge,fe.mode,De),le.return=fe,le):(le=w(le,ge.children||[]),le.return=fe,le)}function Te(fe,le,ge,De,nt){return le===null||le.tag!==7?(le=Co(ge,fe.mode,De,nt),le.return=fe,le):(le=w(le,ge),le.return=fe,le)}function Ie(fe,le,ge){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Sp(""+le,fe.mode,ge),le.return=fe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return ge=Pc(le.type,le.key,le.props,null,fe.mode,ge),$l(ge,le),ge.return=fe,ge;case C:return le=Ap(le,fe.mode,ge),le.return=fe,le;case z:return le=Mo(le),Ie(fe,le,ge)}if(Z(le)||W(le))return le=Co(le,fe.mode,ge,null),le.return=fe,le;if(typeof le.then=="function")return Ie(fe,qc(le),ge);if(le.$$typeof===I)return Ie(fe,Bc(fe,le),ge);Hc(fe,le)}return null}function xe(fe,le,ge,De){var nt=le!==null?le.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return nt!==null?null:F(fe,le,""+ge,De);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return ge.key===nt?te(fe,le,ge,De):null;case C:return ge.key===nt?ve(fe,le,ge,De):null;case z:return ge=Mo(ge),xe(fe,le,ge,De)}if(Z(ge)||W(ge))return nt!==null?null:Te(fe,le,ge,De,null);if(typeof ge.then=="function")return xe(fe,le,qc(ge),De);if(ge.$$typeof===I)return xe(fe,le,Bc(fe,ge),De);Hc(fe,ge)}return null}function be(fe,le,ge,De,nt){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return fe=fe.get(ge)||null,F(le,fe,""+De,nt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return fe=fe.get(De.key===null?ge:De.key)||null,te(le,fe,De,nt);case C:return fe=fe.get(De.key===null?ge:De.key)||null,ve(le,fe,De,nt);case z:return De=Mo(De),be(fe,le,ge,De,nt)}if(Z(De)||W(De))return fe=fe.get(ge)||null,Te(le,fe,De,nt,null);if(typeof De.then=="function")return be(fe,le,ge,qc(De),nt);if(De.$$typeof===I)return be(fe,le,ge,Bc(le,De),nt);Hc(le,De)}return null}function Ze(fe,le,ge,De){for(var nt=null,Pt=null,et=le,vt=le=0,Ct=null;et!==null&&vt<ge.length;vt++){et.index>vt?(Ct=et,et=null):Ct=et.sibling;var Lt=xe(fe,et,ge[vt],De);if(Lt===null){et===null&&(et=Ct);break}o&&et&&Lt.alternate===null&&l(fe,et),le=_(Lt,le,vt),Pt===null?nt=Lt:Pt.sibling=Lt,Pt=Lt,et=Ct}if(vt===ge.length)return d(fe,et),Nt&&$i(fe,vt),nt;if(et===null){for(;vt<ge.length;vt++)et=Ie(fe,ge[vt],De),et!==null&&(le=_(et,le,vt),Pt===null?nt=et:Pt.sibling=et,Pt=et);return Nt&&$i(fe,vt),nt}for(et=m(et);vt<ge.length;vt++)Ct=be(et,fe,vt,ge[vt],De),Ct!==null&&(o&&Ct.alternate!==null&&et.delete(Ct.key===null?vt:Ct.key),le=_(Ct,le,vt),Pt===null?nt=Ct:Pt.sibling=Ct,Pt=Ct);return o&&et.forEach(function(ro){return l(fe,ro)}),Nt&&$i(fe,vt),nt}function ct(fe,le,ge,De){if(ge==null)throw Error(r(151));for(var nt=null,Pt=null,et=le,vt=le=0,Ct=null,Lt=ge.next();et!==null&&!Lt.done;vt++,Lt=ge.next()){et.index>vt?(Ct=et,et=null):Ct=et.sibling;var ro=xe(fe,et,Lt.value,De);if(ro===null){et===null&&(et=Ct);break}o&&et&&ro.alternate===null&&l(fe,et),le=_(ro,le,vt),Pt===null?nt=ro:Pt.sibling=ro,Pt=ro,et=Ct}if(Lt.done)return d(fe,et),Nt&&$i(fe,vt),nt;if(et===null){for(;!Lt.done;vt++,Lt=ge.next())Lt=Ie(fe,Lt.value,De),Lt!==null&&(le=_(Lt,le,vt),Pt===null?nt=Lt:Pt.sibling=Lt,Pt=Lt);return Nt&&$i(fe,vt),nt}for(et=m(et);!Lt.done;vt++,Lt=ge.next())Lt=be(et,fe,vt,Lt.value,De),Lt!==null&&(o&&Lt.alternate!==null&&et.delete(Lt.key===null?vt:Lt.key),le=_(Lt,le,vt),Pt===null?nt=Lt:Pt.sibling=Lt,Pt=Lt);return o&&et.forEach(function(Ek){return l(fe,Ek)}),Nt&&$i(fe,vt),nt}function Wt(fe,le,ge,De){if(typeof ge=="object"&&ge!==null&&ge.type===S&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:e:{for(var nt=ge.key;le!==null;){if(le.key===nt){if(nt=ge.type,nt===S){if(le.tag===7){d(fe,le.sibling),De=w(le,ge.props.children),De.return=fe,fe=De;break e}}else if(le.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===z&&Mo(nt)===le.type){d(fe,le.sibling),De=w(le,ge.props),$l(De,ge),De.return=fe,fe=De;break e}d(fe,le);break}else l(fe,le);le=le.sibling}ge.type===S?(De=Co(ge.props.children,fe.mode,De,ge.key),De.return=fe,fe=De):(De=Pc(ge.type,ge.key,ge.props,null,fe.mode,De),$l(De,ge),De.return=fe,fe=De)}return k(fe);case C:e:{for(nt=ge.key;le!==null;){if(le.key===nt)if(le.tag===4&&le.stateNode.containerInfo===ge.containerInfo&&le.stateNode.implementation===ge.implementation){d(fe,le.sibling),De=w(le,ge.children||[]),De.return=fe,fe=De;break e}else{d(fe,le);break}else l(fe,le);le=le.sibling}De=Ap(ge,fe.mode,De),De.return=fe,fe=De}return k(fe);case z:return ge=Mo(ge),Wt(fe,le,ge,De)}if(Z(ge))return Ze(fe,le,ge,De);if(W(ge)){if(nt=W(ge),typeof nt!="function")throw Error(r(150));return ge=nt.call(ge),ct(fe,le,ge,De)}if(typeof ge.then=="function")return Wt(fe,le,qc(ge),De);if(ge.$$typeof===I)return Wt(fe,le,Bc(fe,ge),De);Hc(fe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,le!==null&&le.tag===6?(d(fe,le.sibling),De=w(le,ge),De.return=fe,fe=De):(d(fe,le),De=Sp(ge,fe.mode,De),De.return=fe,fe=De),k(fe)):d(fe,le)}return function(fe,le,ge,De){try{Vl=0;var nt=Wt(fe,le,ge,De);return Ss=null,nt}catch(et){if(et===_s||et===zc)throw et;var Pt=Or(29,et,null,fe.mode);return Pt.lanes=De,Pt.return=fe,Pt}finally{}}}var ko=q1(!0),H1=q1(!1),za=!1;function Up(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bp(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Fa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function qa(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=kc(o),T1(o,null,d),l}return Oc(o,m,l,d),kc(o)}function Yl(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Pe(o,d)}}function jp(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var w=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};_===null?w=_=k:_=_.next=k,d=d.next}while(d!==null);_===null?w=_=l:_=_.next=l}else w=_=l;d={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var zp=!1;function Wl(){if(zp){var o=Es;if(o!==null)throw o}}function Kl(o,l,d,m){zp=!1;var w=o.updateQueue;za=!1;var _=w.firstBaseUpdate,k=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var te=F,ve=te.next;te.next=null,k===null?_=ve:k.next=ve,k=te;var Te=o.alternate;Te!==null&&(Te=Te.updateQueue,F=Te.lastBaseUpdate,F!==k&&(F===null?Te.firstBaseUpdate=ve:F.next=ve,Te.lastBaseUpdate=te))}if(_!==null){var Ie=w.baseState;k=0,Te=ve=te=null,F=_;do{var xe=F.lane&-536870913,be=xe!==F.lane;if(be?(Tt&xe)===xe:(m&xe)===xe){xe!==0&&xe===ws&&(zp=!0),Te!==null&&(Te=Te.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ze=o,ct=F;xe=l;var Wt=d;switch(ct.tag){case 1:if(Ze=ct.payload,typeof Ze=="function"){Ie=Ze.call(Wt,Ie,xe);break e}Ie=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ct.payload,xe=typeof Ze=="function"?Ze.call(Wt,Ie,xe):Ze,xe==null)break e;Ie=p({},Ie,xe);break e;case 2:za=!0}}xe=F.callback,xe!==null&&(o.flags|=64,be&&(o.flags|=8192),be=w.callbacks,be===null?w.callbacks=[xe]:be.push(xe))}else be={lane:xe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Te===null?(ve=Te=be,te=Ie):Te=Te.next=be,k|=xe;if(F=F.next,F===null){if(F=w.shared.pending,F===null)break;be=F,F=be.next,be.next=null,w.lastBaseUpdate=be,w.shared.pending=null}}while(!0);Te===null&&(te=Ie),w.baseState=te,w.firstBaseUpdate=ve,w.lastBaseUpdate=Te,_===null&&(w.shared.lanes=0),Ya|=k,o.lanes=k,o.memoizedState=Ie}}function G1(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function V1(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)G1(d[o],l)}var As=$(null),Gc=$(0);function $1(o,l){o=ra,Ae(Gc,o),Ae(As,l),ra=o|l.baseLanes}function Fp(){Ae(Gc,ra),Ae(As,As.current)}function qp(){ra=Gc.current,se(As),se(Gc)}var kr=$(null),Qr=null;function Ha(o){var l=o.alternate;Ae(_n,_n.current&1),Ae(kr,o),Qr===null&&(l===null||As.current!==null||l.memoizedState!==null)&&(Qr=o)}function Hp(o){Ae(_n,_n.current),Ae(kr,o),Qr===null&&(Qr=o)}function Y1(o){o.tag===22?(Ae(_n,_n.current),Ae(kr,o),Qr===null&&(Qr=o)):Ga()}function Ga(){Ae(_n,_n.current),Ae(kr,kr.current)}function Pr(o){se(kr),Qr===o&&(Qr=null),se(_n)}var _n=$(0);function Vc(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Km(d)||Xm(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ki=0,gt=null,$t=null,Dn=null,$c=!1,Ts=!1,Po=!1,Yc=0,Xl=0,Cs=null,dO=0;function yn(){throw Error(r(321))}function Gp(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Mr(o[d],l[d]))return!1;return!0}function Vp(o,l,d,m,w,_){return Ki=_,gt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=o===null||o.memoizedState===null?R2:om,Po=!1,_=d(m,w),Po=!1,Ts&&(_=K1(l,d,m,w)),W1(o),_}function W1(o){X.H=Ql;var l=$t!==null&&$t.next!==null;if(Ki=0,Dn=$t=gt=null,$c=!1,Xl=0,Cs=null,l)throw Error(r(300));o===null||Rn||(o=o.dependencies,o!==null&&Uc(o)&&(Rn=!0))}function K1(o,l,d,m){gt=o;var w=0;do{if(Ts&&(Cs=null),Xl=0,Ts=!1,25<=w)throw Error(r(301));if(w+=1,Dn=$t=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}X.H=I2,_=l(d,m)}while(Ts);return _}function hO(){var o=X.H,l=o.useState()[0];return l=typeof l.then=="function"?Zl(l):l,o=o.useState()[0],($t!==null?$t.memoizedState:null)!==o&&(gt.flags|=1024),l}function $p(){var o=Yc!==0;return Yc=0,o}function Yp(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function Wp(o){if($c){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}$c=!1}Ki=0,Dn=$t=gt=null,Ts=!1,Xl=Yc=0,Cs=null}function pr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?gt.memoizedState=Dn=o:Dn=Dn.next=o,Dn}function Sn(){if($t===null){var o=gt.alternate;o=o!==null?o.memoizedState:null}else o=$t.next;var l=Dn===null?gt.memoizedState:Dn.next;if(l!==null)Dn=l,$t=o;else{if(o===null)throw gt.alternate===null?Error(r(467)):Error(r(310));$t=o,o={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Dn===null?gt.memoizedState=Dn=o:Dn=Dn.next=o}return Dn}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(o){var l=Xl;return Xl+=1,Cs===null&&(Cs=[]),o=j1(Cs,o,l),l=gt,(Dn===null?l.memoizedState:Dn.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?R2:om),o}function Kc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Zl(o);if(o.$$typeof===I)return Jn(o)}throw Error(r(438,String(o)))}function Kp(o){var l=null,d=gt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=gt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Wc(),gt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),m=0;m<o;m++)d[m]=q;return l.index++,d}function Xi(o,l){return typeof l=="function"?l(o):l}function Xc(o){var l=Sn();return Xp(l,$t,o)}function Xp(o,l,d){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var w=o.baseQueue,_=m.pending;if(_!==null){if(w!==null){var k=w.next;w.next=_.next,_.next=k}l.baseQueue=w=_,m.pending=null}if(_=o.baseState,w===null)o.memoizedState=_;else{l=w.next;var F=k=null,te=null,ve=l,Te=!1;do{var Ie=ve.lane&-536870913;if(Ie!==ve.lane?(Tt&Ie)===Ie:(Ki&Ie)===Ie){var xe=ve.revertLane;if(xe===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Ie===ws&&(Te=!0);else if((Ki&xe)===xe){ve=ve.next,xe===ws&&(Te=!0);continue}else Ie={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},te===null?(F=te=Ie,k=_):te=te.next=Ie,gt.lanes|=xe,Ya|=xe;Ie=ve.action,Po&&d(_,Ie),_=ve.hasEagerState?ve.eagerState:d(_,Ie)}else xe={lane:Ie,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},te===null?(F=te=xe,k=_):te=te.next=xe,gt.lanes|=Ie,Ya|=Ie;ve=ve.next}while(ve!==null&&ve!==l);if(te===null?k=_:te.next=F,!Mr(_,o.memoizedState)&&(Rn=!0,Te&&(d=Es,d!==null)))throw d;o.memoizedState=_,o.baseState=k,o.baseQueue=te,m.lastRenderedState=_}return w===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Zp(o){var l=Sn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,w=d.pending,_=l.memoizedState;if(w!==null){d.pending=null;var k=w=w.next;do _=o(_,k.action),k=k.next;while(k!==w);Mr(_,l.memoizedState)||(Rn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,m]}function X1(o,l,d){var m=gt,w=Sn(),_=Nt;if(_){if(d===void 0)throw Error(r(407));d=d()}else d=l();var k=!Mr(($t||w).memoizedState,d);if(k&&(w.memoizedState=d,Rn=!0),w=w.queue,em(Q1.bind(null,m,w,o),[o]),w.getSnapshot!==l||k||Dn!==null&&Dn.memoizedState.tag&1){if(m.flags|=2048,Ns(9,{destroy:void 0},J1.bind(null,m,w,d,l),null),Kt===null)throw Error(r(349));_||(Ki&127)!==0||Z1(m,l,d)}return d}function Z1(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=gt.updateQueue,l===null?(l=Wc(),gt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function J1(o,l,d,m){l.value=d,l.getSnapshot=m,e2(l)&&t2(o)}function Q1(o,l,d){return d(function(){e2(l)&&t2(o)})}function e2(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Mr(o,d)}catch{return!0}}function t2(o){var l=To(o,2);l!==null&&Ar(l,o,2)}function Jp(o){var l=pr();if(typeof o=="function"){var d=o;if(o=d(),Po){gn(!0);try{d()}finally{gn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:o},l}function n2(o,l,d,m){return o.baseState=d,Xp(o,$t,typeof m=="function"?m:Xi)}function pO(o,l,d,m,w){if(Qc(o))throw Error(r(485));if(o=l.action,o!==null){var _={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){_.listeners.push(k)}};X.T!==null?d(!0):_.isTransition=!1,m(_),d=l.pending,d===null?(_.next=l.pending=_,r2(l,_)):(_.next=d.next,l.pending=d.next=_)}}function r2(o,l){var d=l.action,m=l.payload,w=o.state;if(l.isTransition){var _=X.T,k={};X.T=k;try{var F=d(w,m),te=X.S;te!==null&&te(k,F),i2(o,l,F)}catch(ve){Qp(o,l,ve)}finally{_!==null&&k.types!==null&&(_.types=k.types),X.T=_}}else try{_=d(w,m),i2(o,l,_)}catch(ve){Qp(o,l,ve)}}function i2(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){a2(o,l,m)},function(m){return Qp(o,l,m)}):a2(o,l,d)}function a2(o,l,d){l.status="fulfilled",l.value=d,o2(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,r2(o,d)))}function Qp(o,l,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,o2(l),l=l.next;while(l!==m)}o.action=null}function o2(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function s2(o,l){return l}function l2(o,l){if(Nt){var d=Kt.formState;if(d!==null){e:{var m=gt;if(Nt){if(tn){t:{for(var w=tn,_=Jr;w.nodeType!==8;){if(!_){w=null;break t}if(w=ei(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){tn=ei(w.nextSibling),m=w.data==="F!";break e}}Ba(m)}m=!1}m&&(l=d[0])}}return d=pr(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s2,lastRenderedState:l},d.queue=m,d=C2.bind(null,gt,m),m.dispatch=d,m=Jp(!1),_=am.bind(null,gt,!1,m.queue),m=pr(),w={state:l,dispatch:null,action:o,pending:null},m.queue=w,d=pO.bind(null,gt,w,_,d),w.dispatch=d,m.memoizedState=o,[l,d,!1]}function u2(o){var l=Sn();return c2(l,$t,o)}function c2(o,l,d){if(l=Xp(o,l,s2)[0],o=Xc(Xi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Zl(l)}catch(k){throw k===_s?zc:k}else m=l;l=Sn();var w=l.queue,_=w.dispatch;return d!==l.memoizedState&&(gt.flags|=2048,Ns(9,{destroy:void 0},mO.bind(null,w,d),null)),[m,_,o]}function mO(o,l){o.action=l}function f2(o){var l=Sn(),d=$t;if(d!==null)return c2(l,d,o);Sn(),l=l.memoizedState,d=Sn();var m=d.queue.dispatch;return d.memoizedState=o,[l,m,!1]}function Ns(o,l,d,m){return o={tag:o,create:d,deps:m,inst:l,next:null},l=gt.updateQueue,l===null&&(l=Wc(),gt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o),o}function d2(){return Sn().memoizedState}function Zc(o,l,d,m){var w=pr();gt.flags|=o,w.memoizedState=Ns(1|l,{destroy:void 0},d,m===void 0?null:m)}function Jc(o,l,d,m){var w=Sn();m=m===void 0?null:m;var _=w.memoizedState.inst;$t!==null&&m!==null&&Gp(m,$t.memoizedState.deps)?w.memoizedState=Ns(l,_,d,m):(gt.flags|=o,w.memoizedState=Ns(1|l,_,d,m))}function h2(o,l){Zc(8390656,8,o,l)}function em(o,l){Jc(2048,8,o,l)}function gO(o){gt.flags|=4;var l=gt.updateQueue;if(l===null)l=Wc(),gt.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function p2(o){var l=Sn().memoizedState;return gO({ref:l,nextImpl:o}),function(){if((jt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function m2(o,l){return Jc(4,2,o,l)}function g2(o,l){return Jc(4,4,o,l)}function v2(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function y2(o,l,d){d=d!=null?d.concat([o]):null,Jc(4,4,v2.bind(null,l,o),d)}function tm(){}function x2(o,l){var d=Sn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&Gp(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function b2(o,l){var d=Sn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&Gp(l,m[1]))return m[0];if(m=o(),Po){gn(!0);try{o()}finally{gn(!1)}}return d.memoizedState=[m,l],m}function nm(o,l,d){return d===void 0||(Ki&1073741824)!==0&&(Tt&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=ww(),gt.lanes|=o,Ya|=o,d)}function w2(o,l,d,m){return Mr(d,l)?d:As.current!==null?(o=nm(o,d,m),Mr(o,l)||(Rn=!0),o):(Ki&42)===0||(Ki&1073741824)!==0&&(Tt&261930)===0?(Rn=!0,o.memoizedState=d):(o=ww(),gt.lanes|=o,Ya|=o,l)}function E2(o,l,d,m,w){var _=Q.p;Q.p=_!==0&&8>_?_:8;var k=X.T,F={};X.T=F,am(o,!1,l,d);try{var te=w(),ve=X.S;if(ve!==null&&ve(F,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Te=fO(te,m);Jl(o,l,Te,Br(o))}else Jl(o,l,m,Br(o))}catch(Ie){Jl(o,l,{then:function(){},status:"rejected",reason:Ie},Br())}finally{Q.p=_,k!==null&&F.types!==null&&(k.types=F.types),X.T=k}}function vO(){}function rm(o,l,d,m){if(o.tag!==5)throw Error(r(476));var w=_2(o).queue;E2(o,w,l,oe,d===null?vO:function(){return S2(o),d(m)})}function _2(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:oe},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function S2(o){var l=_2(o);l.next===null&&(l=o.alternate.memoizedState),Jl(o,l.next.queue,{},Br())}function im(){return Jn(mu)}function A2(){return Sn().memoizedState}function T2(){return Sn().memoizedState}function yO(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=Br();o=Fa(d);var m=qa(l,o,d);m!==null&&(Ar(m,l,d),Yl(m,l,d)),l={cache:Op()},o.payload=l;return}l=l.return}}function xO(o,l,d){var m=Br();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Qc(o)?N2(l,d):(d=Ep(o,l,d,m),d!==null&&(Ar(d,o,m),D2(d,l,m)))}function C2(o,l,d){var m=Br();Jl(o,l,d,m)}function Jl(o,l,d,m){var w={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Qc(o))N2(l,w);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var k=l.lastRenderedState,F=_(k,d);if(w.hasEagerState=!0,w.eagerState=F,Mr(F,k))return Oc(o,l,w,0),Kt===null&&Mc(),!1}catch{}finally{}if(d=Ep(o,l,w,m),d!==null)return Ar(d,o,m),D2(d,l,m),!0}return!1}function am(o,l,d,m){if(m={lane:2,revertLane:Um(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Qc(o)){if(l)throw Error(r(479))}else l=Ep(o,d,m,2),l!==null&&Ar(l,o,2)}function Qc(o){var l=o.alternate;return o===gt||l!==null&&l===gt}function N2(o,l){Ts=$c=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function D2(o,l,d){if((d&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Pe(o,d)}}var Ql={readContext:Jn,use:Kc,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};Ql.useEffectEvent=yn;var R2={readContext:Jn,use:Kc,useCallback:function(o,l){return pr().memoizedState=[o,l===void 0?null:l],o},useContext:Jn,useEffect:h2,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,Zc(4194308,4,v2.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Zc(4194308,4,o,l)},useInsertionEffect:function(o,l){Zc(4,2,o,l)},useMemo:function(o,l){var d=pr();l=l===void 0?null:l;var m=o();if(Po){gn(!0);try{o()}finally{gn(!1)}}return d.memoizedState=[m,l],m},useReducer:function(o,l,d){var m=pr();if(d!==void 0){var w=d(l);if(Po){gn(!0);try{d(l)}finally{gn(!1)}}}else w=l;return m.memoizedState=m.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},m.queue=o,o=o.dispatch=xO.bind(null,gt,o),[m.memoizedState,o]},useRef:function(o){var l=pr();return o={current:o},l.memoizedState=o},useState:function(o){o=Jp(o);var l=o.queue,d=C2.bind(null,gt,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:tm,useDeferredValue:function(o,l){var d=pr();return nm(d,o,l)},useTransition:function(){var o=Jp(!1);return o=E2.bind(null,gt,o.queue,!0,!1),pr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var m=gt,w=pr();if(Nt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Kt===null)throw Error(r(349));(Tt&127)!==0||Z1(m,l,d)}w.memoizedState=d;var _={value:d,getSnapshot:l};return w.queue=_,h2(Q1.bind(null,m,_,o),[o]),m.flags|=2048,Ns(9,{destroy:void 0},J1.bind(null,m,_,d,l),null),d},useId:function(){var o=pr(),l=Kt.identifierPrefix;if(Nt){var d=Mi,m=Ii;d=(m&~(1<<32-V(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Yc++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=dO++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:im,useFormState:l2,useActionState:l2,useOptimistic:function(o){var l=pr();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=am.bind(null,gt,!0,d),d.dispatch=l,[o,l]},useMemoCache:Kp,useCacheRefresh:function(){return pr().memoizedState=yO.bind(null,gt)},useEffectEvent:function(o){var l=pr(),d={impl:o};return l.memoizedState=d,function(){if((jt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},om={readContext:Jn,use:Kc,useCallback:x2,useContext:Jn,useEffect:em,useImperativeHandle:y2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:b2,useReducer:Xc,useRef:d2,useState:function(){return Xc(Xi)},useDebugValue:tm,useDeferredValue:function(o,l){var d=Sn();return w2(d,$t.memoizedState,o,l)},useTransition:function(){var o=Xc(Xi)[0],l=Sn().memoizedState;return[typeof o=="boolean"?o:Zl(o),l]},useSyncExternalStore:X1,useId:A2,useHostTransitionStatus:im,useFormState:u2,useActionState:u2,useOptimistic:function(o,l){var d=Sn();return n2(d,$t,o,l)},useMemoCache:Kp,useCacheRefresh:T2};om.useEffectEvent=p2;var I2={readContext:Jn,use:Kc,useCallback:x2,useContext:Jn,useEffect:em,useImperativeHandle:y2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:b2,useReducer:Zp,useRef:d2,useState:function(){return Zp(Xi)},useDebugValue:tm,useDeferredValue:function(o,l){var d=Sn();return $t===null?nm(d,o,l):w2(d,$t.memoizedState,o,l)},useTransition:function(){var o=Zp(Xi)[0],l=Sn().memoizedState;return[typeof o=="boolean"?o:Zl(o),l]},useSyncExternalStore:X1,useId:A2,useHostTransitionStatus:im,useFormState:f2,useActionState:f2,useOptimistic:function(o,l){var d=Sn();return $t!==null?n2(d,$t,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:T2};I2.useEffectEvent=p2;function sm(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var lm={enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Br(),w=Fa(m);w.payload=l,d!=null&&(w.callback=d),l=qa(o,w,m),l!==null&&(Ar(l,o,m),Yl(l,o,m))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Br(),w=Fa(m);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=qa(o,w,m),l!==null&&(Ar(l,o,m),Yl(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Br(),m=Fa(d);m.tag=2,l!=null&&(m.callback=l),l=qa(o,m,d),l!==null&&(Ar(l,o,d),Yl(l,o,d))}};function M2(o,l,d,m,w,_,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,_,k):l.prototype&&l.prototype.isPureReactComponent?!jl(d,m)||!jl(w,_):!0}function O2(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&lm.enqueueReplaceState(l,l.state,null)}function Lo(o,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(o=o.defaultProps){d===l&&(d=p({},d));for(var w in o)d[w]===void 0&&(d[w]=o[w])}return d}function k2(o){Ic(o)}function P2(o){console.error(o)}function L2(o){Ic(o)}function ef(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function U2(o,l,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function um(o,l,d){return d=Fa(d),d.tag=3,d.payload={element:null},d.callback=function(){ef(o,l)},d}function B2(o){return o=Fa(o),o.tag=3,o}function j2(o,l,d,m){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var _=m.value;o.payload=function(){return w(_)},o.callback=function(){U2(l,d,m)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){U2(l,d,m),typeof w!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function bO(o,l,d,m,w){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&bs(l,d,w,!0),d=kr.current,d!==null){switch(d.tag){case 31:case 13:return Qr===null?hf():d.alternate===null&&xn===0&&(xn=3),d.flags&=-257,d.flags|=65536,d.lanes=w,m===Fc?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),km(o,m,w)),!1;case 22:return d.flags|=65536,m===Fc?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),km(o,m,w)),!1}throw Error(r(435,d.tag))}return km(o,m,w),hf(),!1}if(Nt)return l=kr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==Np&&(o=Error(r(422),{cause:m}),ql(Kr(o,d)))):(m!==Np&&(l=Error(r(423),{cause:m}),ql(Kr(l,d))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,m=Kr(m,d),w=um(o.stateNode,m,w),jp(o,w),xn!==4&&(xn=2)),!1;var _=Error(r(520),{cause:m});if(_=Kr(_,d),su===null?su=[_]:su.push(_),xn!==4&&(xn=2),l===null)return!0;m=Kr(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=w&-w,d.lanes|=o,o=um(d.stateNode,m,o),jp(d,o),!1;case 1:if(l=d.type,_=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Wa===null||!Wa.has(_))))return d.flags|=65536,w&=-w,d.lanes|=w,w=B2(w),j2(w,o,d,m),jp(d,w),!1}d=d.return}while(d!==null);return!1}var cm=Error(r(461)),Rn=!1;function Qn(o,l,d,m){l.child=o===null?H1(l,null,d,m):ko(l,o.child,d,m)}function z2(o,l,d,m,w){d=d.render;var _=l.ref;if("ref"in m){var k={};for(var F in m)F!=="ref"&&(k[F]=m[F])}else k=m;return Ro(l),m=Vp(o,l,d,k,_,w),F=$p(),o!==null&&!Rn?(Yp(o,l,w),Zi(o,l,w)):(Nt&&F&&Tp(l),l.flags|=1,Qn(o,l,m,w),l.child)}function F2(o,l,d,m,w){if(o===null){var _=d.type;return typeof _=="function"&&!_p(_)&&_.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=_,q2(o,l,_,m,w)):(o=Pc(d.type,null,m,l,l.mode,w),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,!ym(o,w)){var k=_.memoizedProps;if(d=d.compare,d=d!==null?d:jl,d(k,m)&&o.ref===l.ref)return Zi(o,l,w)}return l.flags|=1,o=Vi(_,m),o.ref=l.ref,o.return=l,l.child=o}function q2(o,l,d,m,w){if(o!==null){var _=o.memoizedProps;if(jl(_,m)&&o.ref===l.ref)if(Rn=!1,l.pendingProps=m=_,ym(o,w))(o.flags&131072)!==0&&(Rn=!0);else return l.lanes=o.lanes,Zi(o,l,w)}return fm(o,l,d,m,w)}function H2(o,l,d,m){var w=m.children,_=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|d:d,o!==null){for(m=l.child=o.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~_}else m=0,l.child=null;return G2(o,l,_,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&jc(l,_!==null?_.cachePool:null),_!==null?$1(l,_):Fp(),Y1(l);else return m=l.lanes=536870912,G2(o,l,_!==null?_.baseLanes|d:d,d,m)}else _!==null?(jc(l,_.cachePool),$1(l,_),Ga(),l.memoizedState=null):(o!==null&&jc(l,null),Fp(),Ga());return Qn(o,l,w,d),l.child}function eu(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function G2(o,l,d,m,w){var _=Pp();return _=_===null?null:{parent:Nn._currentValue,pool:_},l.memoizedState={baseLanes:d,cachePool:_},o!==null&&jc(l,null),Fp(),Y1(l),o!==null&&bs(o,l,m,!0),l.childLanes=w,null}function tf(o,l){return l=rf({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function V2(o,l,d){return ko(l,o.child,null,d),o=tf(l,l.pendingProps),o.flags|=2,Pr(l),l.memoizedState=null,o}function wO(o,l,d){var m=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(Nt){if(m.mode==="hidden")return o=tf(l,m),l.lanes=536870912,eu(null,o);if(Hp(l),(o=tn)?(o=rE(o,Jr),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:La!==null?{id:Ii,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},d=N1(o),d.return=l,l.child=d,Zn=l,tn=null)):o=null,o===null)throw Ba(l);return l.lanes=536870912,null}return tf(l,m)}var _=o.memoizedState;if(_!==null){var k=_.dehydrated;if(Hp(l),w)if(l.flags&256)l.flags&=-257,l=V2(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Rn||bs(o,l,d,!1),w=(d&o.childLanes)!==0,Rn||w){if(m=Kt,m!==null&&(k=Fe(m,d),k!==0&&k!==_.retryLane))throw _.retryLane=k,To(o,k),Ar(m,o,k),cm;hf(),l=V2(o,l,d)}else o=_.treeContext,tn=ei(k.nextSibling),Zn=l,Nt=!0,Ua=null,Jr=!1,o!==null&&I1(l,o),l=tf(l,m),l.flags|=4096;return l}return o=Vi(o.child,{mode:m.mode,children:m.children}),o.ref=l.ref,l.child=o,o.return=l,o}function nf(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function fm(o,l,d,m,w){return Ro(l),d=Vp(o,l,d,m,void 0,w),m=$p(),o!==null&&!Rn?(Yp(o,l,w),Zi(o,l,w)):(Nt&&m&&Tp(l),l.flags|=1,Qn(o,l,d,w),l.child)}function $2(o,l,d,m,w,_){return Ro(l),l.updateQueue=null,d=K1(l,m,d,w),W1(o),m=$p(),o!==null&&!Rn?(Yp(o,l,_),Zi(o,l,_)):(Nt&&m&&Tp(l),l.flags|=1,Qn(o,l,d,_),l.child)}function Y2(o,l,d,m,w){if(Ro(l),l.stateNode===null){var _=gs,k=d.contextType;typeof k=="object"&&k!==null&&(_=Jn(k)),_=new d(m,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=lm,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=m,_.state=l.memoizedState,_.refs={},Up(l),k=d.contextType,_.context=typeof k=="object"&&k!==null?Jn(k):gs,_.state=l.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(sm(l,d,k,m),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(k=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),k!==_.state&&lm.enqueueReplaceState(_,_.state,null),Kl(l,m,_,w),Wl(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){_=l.stateNode;var F=l.memoizedProps,te=Lo(d,F);_.props=te;var ve=_.context,Te=d.contextType;k=gs,typeof Te=="object"&&Te!==null&&(k=Jn(Te));var Ie=d.getDerivedStateFromProps;Te=typeof Ie=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=l.pendingProps!==F,Te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||ve!==k)&&O2(l,_,m,k),za=!1;var xe=l.memoizedState;_.state=xe,Kl(l,m,_,w),Wl(),ve=l.memoizedState,F||xe!==ve||za?(typeof Ie=="function"&&(sm(l,d,Ie,m),ve=l.memoizedState),(te=za||M2(l,d,te,m,xe,ve,k))?(Te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ve),_.props=m,_.state=ve,_.context=k,m=te):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,Bp(o,l),k=l.memoizedProps,Te=Lo(d,k),_.props=Te,Ie=l.pendingProps,xe=_.context,ve=d.contextType,te=gs,typeof ve=="object"&&ve!==null&&(te=Jn(ve)),F=d.getDerivedStateFromProps,(ve=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==Ie||xe!==te)&&O2(l,_,m,te),za=!1,xe=l.memoizedState,_.state=xe,Kl(l,m,_,w),Wl();var be=l.memoizedState;k!==Ie||xe!==be||za||o!==null&&o.dependencies!==null&&Uc(o.dependencies)?(typeof F=="function"&&(sm(l,d,F,m),be=l.memoizedState),(Te=za||M2(l,d,Te,m,xe,be,te)||o!==null&&o.dependencies!==null&&Uc(o.dependencies))?(ve||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,be,te),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,be,te)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===o.memoizedProps&&xe===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&xe===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=be),_.props=m,_.state=be,_.context=te,m=Te):(typeof _.componentDidUpdate!="function"||k===o.memoizedProps&&xe===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&xe===o.memoizedState||(l.flags|=1024),m=!1)}return _=m,nf(o,l),m=(l.flags&128)!==0,_||m?(_=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,o!==null&&m?(l.child=ko(l,o.child,null,w),l.child=ko(l,null,d,w)):Qn(o,l,d,w),l.memoizedState=_.state,o=l.child):o=Zi(o,l,w),o}function W2(o,l,d,m){return No(),l.flags|=256,Qn(o,l,d,m),l.child}var dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(o){return{baseLanes:o,cachePool:U1()}}function pm(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=Ur),o}function K2(o,l,d){var m=l.pendingProps,w=!1,_=(l.flags&128)!==0,k;if((k=_)||(k=o!==null&&o.memoizedState===null?!1:(_n.current&2)!==0),k&&(w=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,o===null){if(Nt){if(w?Ha(l):Ga(),(o=tn)?(o=rE(o,Jr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:La!==null?{id:Ii,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},d=N1(o),d.return=l,l.child=d,Zn=l,tn=null)):o=null,o===null)throw Ba(l);return Xm(o)?l.lanes=32:l.lanes=536870912,null}var F=m.children;return m=m.fallback,w?(Ga(),w=l.mode,F=rf({mode:"hidden",children:F},w),m=Co(m,w,d,null),F.return=l,m.return=l,F.sibling=m,l.child=F,m=l.child,m.memoizedState=hm(d),m.childLanes=pm(o,k,d),l.memoizedState=dm,eu(null,m)):(Ha(l),mm(l,F))}var te=o.memoizedState;if(te!==null&&(F=te.dehydrated,F!==null)){if(_)l.flags&256?(Ha(l),l.flags&=-257,l=gm(o,l,d)):l.memoizedState!==null?(Ga(),l.child=o.child,l.flags|=128,l=null):(Ga(),F=m.fallback,w=l.mode,m=rf({mode:"visible",children:m.children},w),F=Co(F,w,d,null),F.flags|=2,m.return=l,F.return=l,m.sibling=F,l.child=m,ko(l,o.child,null,d),m=l.child,m.memoizedState=hm(d),m.childLanes=pm(o,k,d),l.memoizedState=dm,l=eu(null,m));else if(Ha(l),Xm(F)){if(k=F.nextSibling&&F.nextSibling.dataset,k)var ve=k.dgst;k=ve,m=Error(r(419)),m.stack="",m.digest=k,ql({value:m,source:null,stack:null}),l=gm(o,l,d)}else if(Rn||bs(o,l,d,!1),k=(d&o.childLanes)!==0,Rn||k){if(k=Kt,k!==null&&(m=Fe(k,d),m!==0&&m!==te.retryLane))throw te.retryLane=m,To(o,m),Ar(k,o,m),cm;Km(F)||hf(),l=gm(o,l,d)}else Km(F)?(l.flags|=192,l.child=o.child,l=null):(o=te.treeContext,tn=ei(F.nextSibling),Zn=l,Nt=!0,Ua=null,Jr=!1,o!==null&&I1(l,o),l=mm(l,m.children),l.flags|=4096);return l}return w?(Ga(),F=m.fallback,w=l.mode,te=o.child,ve=te.sibling,m=Vi(te,{mode:"hidden",children:m.children}),m.subtreeFlags=te.subtreeFlags&65011712,ve!==null?F=Vi(ve,F):(F=Co(F,w,d,null),F.flags|=2),F.return=l,m.return=l,m.sibling=F,l.child=m,eu(null,m),m=l.child,F=o.child.memoizedState,F===null?F=hm(d):(w=F.cachePool,w!==null?(te=Nn._currentValue,w=w.parent!==te?{parent:te,pool:te}:w):w=U1(),F={baseLanes:F.baseLanes|d,cachePool:w}),m.memoizedState=F,m.childLanes=pm(o,k,d),l.memoizedState=dm,eu(o.child,m)):(Ha(l),d=o.child,o=d.sibling,d=Vi(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,o!==null&&(k=l.deletions,k===null?(l.deletions=[o],l.flags|=16):k.push(o)),l.child=d,l.memoizedState=null,d)}function mm(o,l){return l=rf({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function rf(o,l){return o=Or(22,o,null,l),o.lanes=0,o}function gm(o,l,d){return ko(l,o.child,null,d),o=mm(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function X2(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Ip(o.return,l,d)}function vm(o,l,d,m,w,_){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:w,treeForkCount:_}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=d,k.tailMode=w,k.treeForkCount=_)}function Z2(o,l,d){var m=l.pendingProps,w=m.revealOrder,_=m.tail;m=m.children;var k=_n.current,F=(k&2)!==0;if(F?(k=k&1|2,l.flags|=128):k&=1,Ae(_n,k),Qn(o,l,m,d),m=Nt?Fl:0,!F&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&X2(o,d,l);else if(o.tag===19)X2(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(d=l.child,w=null;d!==null;)o=d.alternate,o!==null&&Vc(o)===null&&(w=d),d=d.sibling;d=w,d===null?(w=l.child,l.child=null):(w=d.sibling,d.sibling=null),vm(l,!1,w,d,_,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=l.child,l.child=null;w!==null;){if(o=w.alternate,o!==null&&Vc(o)===null){l.child=w;break}o=w.sibling,w.sibling=d,d=w,w=o}vm(l,!0,d,null,_,m);break;case"together":vm(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Zi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ya|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(bs(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Vi(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Vi(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function ym(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Uc(o)))}function EO(o,l,d){switch(l.tag){case 3:Ge(l,l.stateNode.containerInfo),ja(l,Nn,o.memoizedState.cache),No();break;case 27:case 5:We(l);break;case 4:Ge(l,l.stateNode.containerInfo);break;case 10:ja(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Hp(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Ha(l),l.flags|=128,null):(d&l.child.childLanes)!==0?K2(o,l,d):(Ha(l),o=Zi(o,l,d),o!==null?o.sibling:null);Ha(l);break;case 19:var w=(o.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(bs(o,l,d,!1),m=(d&l.childLanes)!==0),w){if(m)return Z2(o,l,d);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ae(_n,_n.current),m)break;return null;case 22:return l.lanes=0,H2(o,l,d,l.pendingProps);case 24:ja(l,Nn,o.memoizedState.cache)}return Zi(o,l,d)}function J2(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)Rn=!0;else{if(!ym(o,d)&&(l.flags&128)===0)return Rn=!1,EO(o,l,d);Rn=(o.flags&131072)!==0}else Rn=!1,Nt&&(l.flags&1048576)!==0&&R1(l,Fl,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(o=Mo(l.elementType),l.type=o,typeof o=="function")_p(o)?(m=Lo(o,m),l.tag=1,l=Y2(null,l,o,m,d)):(l.tag=0,l=fm(null,l,o,m,d));else{if(o!=null){var w=o.$$typeof;if(w===P){l.tag=11,l=z2(null,l,o,m,d);break e}else if(w===L){l.tag=14,l=F2(null,l,o,m,d);break e}}throw l=me(o)||o,Error(r(306,l,""))}}return l;case 0:return fm(o,l,l.type,l.pendingProps,d);case 1:return m=l.type,w=Lo(m,l.pendingProps),Y2(o,l,m,w,d);case 3:e:{if(Ge(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var _=l.memoizedState;w=_.element,Bp(o,l),Kl(l,m,null,d);var k=l.memoizedState;if(m=k.cache,ja(l,Nn,m),m!==_.cache&&Mp(l,[Nn],d,!0),Wl(),m=k.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=W2(o,l,m,d);break e}else if(m!==w){w=Kr(Error(r(424)),l),ql(w),l=W2(o,l,m,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(tn=ei(o.firstChild),Zn=l,Nt=!0,Ua=null,Jr=!0,d=H1(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(No(),m===w){l=Zi(o,l,d);break e}Qn(o,l,m,d)}l=l.child}return l;case 26:return nf(o,l),o===null?(d=uE(l.type,null,l.pendingProps,null))?l.memoizedState=d:Nt||(d=l.type,o=l.pendingProps,m=bf($e.current).createElement(d),m[at]=l,m[It]=o,er(m,d,o),En(m),l.stateNode=m):l.memoizedState=uE(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return We(l),o===null&&Nt&&(m=l.stateNode=oE(l.type,l.pendingProps,$e.current),Zn=l,Jr=!0,w=tn,Ja(l.type)?(Zm=w,tn=ei(m.firstChild)):tn=w),Qn(o,l,l.pendingProps.children,d),nf(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&Nt&&((w=m=tn)&&(m=JO(m,l.type,l.pendingProps,Jr),m!==null?(l.stateNode=m,Zn=l,tn=ei(m.firstChild),Jr=!1,w=!0):w=!1),w||Ba(l)),We(l),w=l.type,_=l.pendingProps,k=o!==null?o.memoizedProps:null,m=_.children,$m(w,_)?m=null:k!==null&&$m(w,k)&&(l.flags|=32),l.memoizedState!==null&&(w=Vp(o,l,hO,null,null,d),mu._currentValue=w),nf(o,l),Qn(o,l,m,d),l.child;case 6:return o===null&&Nt&&((o=d=tn)&&(d=QO(d,l.pendingProps,Jr),d!==null?(l.stateNode=d,Zn=l,tn=null,o=!0):o=!1),o||Ba(l)),null;case 13:return K2(o,l,d);case 4:return Ge(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=ko(l,null,m,d):Qn(o,l,m,d),l.child;case 11:return z2(o,l,l.type,l.pendingProps,d);case 7:return Qn(o,l,l.pendingProps,d),l.child;case 8:return Qn(o,l,l.pendingProps.children,d),l.child;case 12:return Qn(o,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ja(l,l.type,m.value),Qn(o,l,m.children,d),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,Ro(l),w=Jn(w),m=m(w),l.flags|=1,Qn(o,l,m,d),l.child;case 14:return F2(o,l,l.type,l.pendingProps,d);case 15:return q2(o,l,l.type,l.pendingProps,d);case 19:return Z2(o,l,d);case 31:return wO(o,l,d);case 22:return H2(o,l,d,l.pendingProps);case 24:return Ro(l),m=Jn(Nn),o===null?(w=Pp(),w===null&&(w=Kt,_=Op(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=d),w=_),l.memoizedState={parent:m,cache:w},Up(l),ja(l,Nn,w)):((o.lanes&d)!==0&&(Bp(o,l),Kl(l,null,null,d),Wl()),w=o.memoizedState,_=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),ja(l,Nn,m)):(m=_.cache,ja(l,Nn,m),m!==w.cache&&Mp(l,[Nn],d,!0))),Qn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ji(o){o.flags|=4}function xm(o,l,d,m,w){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(Aw())o.flags|=8192;else throw Oo=Fc,Lp}else o.flags&=-16777217}function Q2(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!pE(l))if(Aw())o.flags|=8192;else throw Oo=Fc,Lp}function af(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?ie():536870912,o.lanes|=l,Ms|=l)}function tu(o,l){if(!Nt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function nn(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var w=o.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function _O(o,l,d){var m=l.pendingProps;switch(Cp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(l),null;case 1:return nn(l),null;case 3:return d=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Wi(Nn),ye(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(xs(l)?Ji(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Dp())),nn(l),null;case 26:var w=l.type,_=l.memoizedState;return o===null?(Ji(l),_!==null?(nn(l),Q2(l,_)):(nn(l),xm(l,w,null,m,d))):_?_!==o.memoizedState?(Ji(l),nn(l),Q2(l,_)):(nn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==m&&Ji(l),nn(l),xm(l,w,o,m,d)),null;case 27:if(je(l),d=$e.current,w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&Ji(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return nn(l),null}o=we.current,xs(l)?M1(l):(o=oE(w,m,d),l.stateNode=o,Ji(l))}return nn(l),null;case 5:if(je(l),w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&Ji(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return nn(l),null}if(_=we.current,xs(l))M1(l);else{var k=bf($e.current);switch(_){case 1:_=k.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=k.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=k.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?k.createElement("select",{is:m.is}):k.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?k.createElement(w,{is:m.is}):k.createElement(w)}}_[at]=l,_[It]=m;e:for(k=l.child;k!==null;){if(k.tag===5||k.tag===6)_.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===l)break e;for(;k.sibling===null;){if(k.return===null||k.return===l)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l.stateNode=_;e:switch(er(_,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ji(l)}}return nn(l),xm(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&Ji(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=$e.current,xs(l)){if(o=l.stateNode,d=l.memoizedProps,m=null,w=Zn,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}o[at]=l,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||Kw(o.nodeValue,d)),o||Ba(l,!0)}else o=bf(o).createTextNode(m),o[at]=l,l.stateNode=o}return nn(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(m=xs(l),d!==null){if(o===null){if(!m)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[at]=l}else No(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nn(l),o=!1}else d=Dp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(Pr(l),l):(Pr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return nn(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=xs(l),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[at]=l}else No(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nn(l),w=!1}else w=Dp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(Pr(l),l):(Pr(l),null)}return Pr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,o=o!==null&&o.memoizedState!==null,d&&(m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==w&&(m.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),af(l,l.updateQueue),nn(l),null);case 4:return ye(),o===null&&Fm(l.stateNode.containerInfo),nn(l),null;case 10:return Wi(l.type),nn(l),null;case 19:if(se(_n),m=l.memoizedState,m===null)return nn(l),null;if(w=(l.flags&128)!==0,_=m.rendering,_===null)if(w)tu(m,!1);else{if(xn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(_=Vc(o),_!==null){for(l.flags|=128,tu(m,!1),o=_.updateQueue,l.updateQueue=o,af(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)C1(d,o),d=d.sibling;return Ae(_n,_n.current&1|2),Nt&&$i(l,m.treeForkCount),l.child}o=o.sibling}m.tail!==null&&_t()>cf&&(l.flags|=128,w=!0,tu(m,!1),l.lanes=4194304)}else{if(!w)if(o=Vc(_),o!==null){if(l.flags|=128,w=!0,o=o.updateQueue,l.updateQueue=o,af(l,o),tu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Nt)return nn(l),null}else 2*_t()-m.renderingStartTime>cf&&d!==536870912&&(l.flags|=128,w=!0,tu(m,!1),l.lanes=4194304);m.isBackwards?(_.sibling=l.child,l.child=_):(o=m.last,o!==null?o.sibling=_:l.child=_,m.last=_)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=_t(),o.sibling=null,d=_n.current,Ae(_n,w?d&1|2:d&1),Nt&&$i(l,m.treeForkCount),o):(nn(l),null);case 22:case 23:return Pr(l),qp(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(nn(l),l.subtreeFlags&6&&(l.flags|=8192)):nn(l),d=l.updateQueue,d!==null&&af(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),o!==null&&se(Io),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Wi(Nn),nn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function SO(o,l){switch(Cp(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Wi(Nn),ye(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return je(l),null;case 31:if(l.memoizedState!==null){if(Pr(l),l.alternate===null)throw Error(r(340));No()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Pr(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));No()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return se(_n),null;case 4:return ye(),null;case 10:return Wi(l.type),null;case 22:case 23:return Pr(l),qp(),o!==null&&se(Io),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Wi(Nn),null;case 25:return null;default:return null}}function ew(o,l){switch(Cp(l),l.tag){case 3:Wi(Nn),ye();break;case 26:case 27:case 5:je(l);break;case 4:ye();break;case 31:l.memoizedState!==null&&Pr(l);break;case 13:Pr(l);break;case 19:se(_n);break;case 10:Wi(l.type);break;case 22:case 23:Pr(l),qp(),o!==null&&se(Io);break;case 24:Wi(Nn)}}function nu(o,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var w=m.next;d=w;do{if((d.tag&o)===o){m=void 0;var _=d.create,k=d.inst;m=_(),k.destroy=m}d=d.next}while(d!==w)}}catch(F){Ht(l,l.return,F)}}function Va(o,l,d){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var _=w.next;m=_;do{if((m.tag&o)===o){var k=m.inst,F=k.destroy;if(F!==void 0){k.destroy=void 0,w=l;var te=d,ve=F;try{ve()}catch(Te){Ht(w,te,Te)}}}m=m.next}while(m!==_)}}catch(Te){Ht(l,l.return,Te)}}function tw(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{V1(l,d)}catch(m){Ht(o,o.return,m)}}}function nw(o,l,d){d.props=Lo(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){Ht(o,l,m)}}function ru(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(w){Ht(o,l,w)}}function Oi(o,l){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(w){Ht(o,l,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){Ht(o,l,w)}else d.current=null}function rw(o){var l=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(w){Ht(o,o.return,w)}}function bm(o,l,d){try{var m=o.stateNode;$O(m,o.type,d,l),m[It]=l}catch(w){Ht(o,o.return,w)}}function iw(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ja(o.type)||o.tag===4}function wm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||iw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ja(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Em(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=hi));else if(m!==4&&(m===27&&Ja(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(Em(o,l,d),o=o.sibling;o!==null;)Em(o,l,d),o=o.sibling}function of(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(m===27&&Ja(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(of(o,l,d),o=o.sibling;o!==null;)of(o,l,d),o=o.sibling}function aw(o){var l=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);er(l,m,d),l[at]=o,l[It]=d}catch(_){Ht(o,o.return,_)}}var Qi=!1,In=!1,_m=!1,ow=typeof WeakSet=="function"?WeakSet:Set,qn=null;function AO(o,l){if(o=o.containerInfo,Gm=Cf,o=y1(o),gp(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var w=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var k=0,F=-1,te=-1,ve=0,Te=0,Ie=o,xe=null;t:for(;;){for(var be;Ie!==d||w!==0&&Ie.nodeType!==3||(F=k+w),Ie!==_||m!==0&&Ie.nodeType!==3||(te=k+m),Ie.nodeType===3&&(k+=Ie.nodeValue.length),(be=Ie.firstChild)!==null;)xe=Ie,Ie=be;for(;;){if(Ie===o)break t;if(xe===d&&++ve===w&&(F=k),xe===_&&++Te===m&&(te=k),(be=Ie.nextSibling)!==null)break;Ie=xe,xe=Ie.parentNode}Ie=be}d=F===-1||te===-1?null:{start:F,end:te}}else d=null}d=d||{start:0,end:0}}else d=null;for(Vm={focusedElem:o,selectionRange:d},Cf=!1,qn=l;qn!==null;)if(l=qn,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,qn=o;else for(;qn!==null;){switch(l=qn,_=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)w=o[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,d=l,w=_.memoizedProps,_=_.memoizedState,m=d.stateNode;try{var Ze=Lo(d.type,w);o=m.getSnapshotBeforeUpdate(Ze,_),m.__reactInternalSnapshotBeforeUpdate=o}catch(ct){Ht(d,d.return,ct)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)Wm(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Wm(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,qn=o;break}qn=l.return}}function sw(o,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:ta(o,d),m&4&&nu(5,d);break;case 1:if(ta(o,d),m&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(k){Ht(d,d.return,k)}else{var w=Lo(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(w,l,o.__reactInternalSnapshotBeforeUpdate)}catch(k){Ht(d,d.return,k)}}m&64&&tw(d),m&512&&ru(d,d.return);break;case 3:if(ta(o,d),m&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{V1(o,l)}catch(k){Ht(d,d.return,k)}}break;case 27:l===null&&m&4&&aw(d);case 26:case 5:ta(o,d),l===null&&m&4&&rw(d),m&512&&ru(d,d.return);break;case 12:ta(o,d);break;case 31:ta(o,d),m&4&&cw(o,d);break;case 13:ta(o,d),m&4&&fw(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=kO.bind(null,d),ek(o,d))));break;case 22:if(m=d.memoizedState!==null||Qi,!m){l=l!==null&&l.memoizedState!==null||In,w=Qi;var _=In;Qi=m,(In=l)&&!_?na(o,d,(d.subtreeFlags&8772)!==0):ta(o,d),Qi=w,In=_}break;case 30:break;default:ta(o,d)}}function lw(o){var l=o.alternate;l!==null&&(o.alternate=null,lw(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&lr(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var un=null,wr=!1;function ea(o,l,d){for(d=d.child;d!==null;)uw(o,l,d),d=d.sibling}function uw(o,l,d){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(zt,d)}catch{}switch(d.tag){case 26:In||Oi(d,l),ea(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:In||Oi(d,l);var m=un,w=wr;Ja(d.type)&&(un=d.stateNode,wr=!1),ea(o,l,d),du(d.stateNode),un=m,wr=w;break;case 5:In||Oi(d,l);case 6:if(m=un,w=wr,un=null,ea(o,l,d),un=m,wr=w,un!==null)if(wr)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(d.stateNode)}catch(_){Ht(d,l,_)}else try{un.removeChild(d.stateNode)}catch(_){Ht(d,l,_)}break;case 18:un!==null&&(wr?(o=un,tE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),zs(o)):tE(un,d.stateNode));break;case 4:m=un,w=wr,un=d.stateNode.containerInfo,wr=!0,ea(o,l,d),un=m,wr=w;break;case 0:case 11:case 14:case 15:Va(2,d,l),In||Va(4,d,l),ea(o,l,d);break;case 1:In||(Oi(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&nw(d,l,m)),ea(o,l,d);break;case 21:ea(o,l,d);break;case 22:In=(m=In)||d.memoizedState!==null,ea(o,l,d),In=m;break;default:ea(o,l,d)}}function cw(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{zs(o)}catch(d){Ht(l,l.return,d)}}}function fw(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{zs(o)}catch(d){Ht(l,l.return,d)}}function TO(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new ow),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new ow),l;default:throw Error(r(435,o.tag))}}function sf(o,l){var d=TO(o);l.forEach(function(m){if(!d.has(m)){d.add(m);var w=PO.bind(null,o,m);m.then(w,w)}})}function Er(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var w=d[m],_=o,k=l,F=k;e:for(;F!==null;){switch(F.tag){case 27:if(Ja(F.type)){un=F.stateNode,wr=!1;break e}break;case 5:un=F.stateNode,wr=!1;break e;case 3:case 4:un=F.stateNode.containerInfo,wr=!0;break e}F=F.return}if(un===null)throw Error(r(160));uw(_,k,w),un=null,wr=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)dw(l,o),l=l.sibling}var mi=null;function dw(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Er(l,o),_r(o),m&4&&(Va(3,o,o.return),nu(3,o),Va(5,o,o.return));break;case 1:Er(l,o),_r(o),m&512&&(In||d===null||Oi(d,d.return)),m&64&&Qi&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var w=mi;if(Er(l,o),_r(o),m&512&&(In||d===null||Oi(d,d.return)),m&4){var _=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":_=w.getElementsByTagName("title")[0],(!_||_[Xn]||_[at]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(m),w.head.insertBefore(_,w.querySelector("head > title"))),er(_,m,d),_[at]=o,En(_),m=_;break e;case"link":var k=dE("link","href",w).get(m+(d.href||""));if(k){for(var F=0;F<k.length;F++)if(_=k[F],_.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&_.getAttribute("rel")===(d.rel==null?null:d.rel)&&_.getAttribute("title")===(d.title==null?null:d.title)&&_.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(F,1);break t}}_=w.createElement(m),er(_,m,d),w.head.appendChild(_);break;case"meta":if(k=dE("meta","content",w).get(m+(d.content||""))){for(F=0;F<k.length;F++)if(_=k[F],_.getAttribute("content")===(d.content==null?null:""+d.content)&&_.getAttribute("name")===(d.name==null?null:d.name)&&_.getAttribute("property")===(d.property==null?null:d.property)&&_.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&_.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(F,1);break t}}_=w.createElement(m),er(_,m,d),w.head.appendChild(_);break;default:throw Error(r(468,m))}_[at]=o,En(_),m=_}o.stateNode=m}else hE(w,o.type,o.stateNode);else o.stateNode=fE(w,m,o.memoizedProps);else _!==m?(_===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):_.count--,m===null?hE(w,o.type,o.stateNode):fE(w,m,o.memoizedProps)):m===null&&o.stateNode!==null&&bm(o,o.memoizedProps,d.memoizedProps)}break;case 27:Er(l,o),_r(o),m&512&&(In||d===null||Oi(d,d.return)),d!==null&&m&4&&bm(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Er(l,o),_r(o),m&512&&(In||d===null||Oi(d,d.return)),o.flags&32){w=o.stateNode;try{Vt(w,"")}catch(Ze){Ht(o,o.return,Ze)}}m&4&&o.stateNode!=null&&(w=o.memoizedProps,bm(o,w,d!==null?d.memoizedProps:w)),m&1024&&(_m=!0);break;case 6:if(Er(l,o),_r(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(Ze){Ht(o,o.return,Ze)}}break;case 3:if(_f=null,w=mi,mi=wf(l.containerInfo),Er(l,o),mi=w,_r(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{zs(l.containerInfo)}catch(Ze){Ht(o,o.return,Ze)}_m&&(_m=!1,hw(o));break;case 4:m=mi,mi=wf(o.stateNode.containerInfo),Er(l,o),_r(o),mi=m;break;case 12:Er(l,o),_r(o);break;case 31:Er(l,o),_r(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,sf(o,m)));break;case 13:Er(l,o),_r(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(uf=_t()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,sf(o,m)));break;case 22:w=o.memoizedState!==null;var te=d!==null&&d.memoizedState!==null,ve=Qi,Te=In;if(Qi=ve||w,In=Te||te,Er(l,o),In=Te,Qi=ve,_r(o),m&8192)e:for(l=o.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(d===null||te||Qi||In||Uo(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){te=d=l;try{if(_=te.stateNode,w)k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{F=te.stateNode;var Ie=te.memoizedProps.style,xe=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;F.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(Ze){Ht(te,te.return,Ze)}}}else if(l.tag===6){if(d===null){te=l;try{te.stateNode.nodeValue=w?"":te.memoizedProps}catch(Ze){Ht(te,te.return,Ze)}}}else if(l.tag===18){if(d===null){te=l;try{var be=te.stateNode;w?nE(be,!0):nE(te.stateNode,!1)}catch(Ze){Ht(te,te.return,Ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,sf(o,d))));break;case 19:Er(l,o),_r(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,sf(o,m)));break;case 30:break;case 21:break;default:Er(l,o),_r(o)}}function _r(o){var l=o.flags;if(l&2){try{for(var d,m=o.return;m!==null;){if(iw(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,_=wm(o);of(o,_,w);break;case 5:var k=d.stateNode;d.flags&32&&(Vt(k,""),d.flags&=-33);var F=wm(o);of(o,F,k);break;case 3:case 4:var te=d.stateNode.containerInfo,ve=wm(o);Em(o,ve,te);break;default:throw Error(r(161))}}catch(Te){Ht(o,o.return,Te)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function hw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;hw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ta(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)sw(o,l.alternate,l),l=l.sibling}function Uo(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Va(4,l,l.return),Uo(l);break;case 1:Oi(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&nw(l,l.return,d),Uo(l);break;case 27:du(l.stateNode);case 26:case 5:Oi(l,l.return),Uo(l);break;case 22:l.memoizedState===null&&Uo(l);break;case 30:Uo(l);break;default:Uo(l)}o=o.sibling}}function na(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=o,_=l,k=_.flags;switch(_.tag){case 0:case 11:case 15:na(w,_,d),nu(4,_);break;case 1:if(na(w,_,d),m=_,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ve){Ht(m,m.return,ve)}if(m=_,w=m.updateQueue,w!==null){var F=m.stateNode;try{var te=w.shared.hiddenCallbacks;if(te!==null)for(w.shared.hiddenCallbacks=null,w=0;w<te.length;w++)G1(te[w],F)}catch(ve){Ht(m,m.return,ve)}}d&&k&64&&tw(_),ru(_,_.return);break;case 27:aw(_);case 26:case 5:na(w,_,d),d&&m===null&&k&4&&rw(_),ru(_,_.return);break;case 12:na(w,_,d);break;case 31:na(w,_,d),d&&k&4&&cw(w,_);break;case 13:na(w,_,d),d&&k&4&&fw(w,_);break;case 22:_.memoizedState===null&&na(w,_,d),ru(_,_.return);break;case 30:break;default:na(w,_,d)}l=l.sibling}}function Sm(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Hl(d))}function Am(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Hl(o))}function gi(o,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)pw(o,l,d,m),l=l.sibling}function pw(o,l,d,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:gi(o,l,d,m),w&2048&&nu(9,l);break;case 1:gi(o,l,d,m);break;case 3:gi(o,l,d,m),w&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Hl(o)));break;case 12:if(w&2048){gi(o,l,d,m),o=l.stateNode;try{var _=l.memoizedProps,k=_.id,F=_.onPostCommit;typeof F=="function"&&F(k,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(te){Ht(l,l.return,te)}}else gi(o,l,d,m);break;case 31:gi(o,l,d,m);break;case 13:gi(o,l,d,m);break;case 23:break;case 22:_=l.stateNode,k=l.alternate,l.memoizedState!==null?_._visibility&2?gi(o,l,d,m):iu(o,l):_._visibility&2?gi(o,l,d,m):(_._visibility|=2,Ds(o,l,d,m,(l.subtreeFlags&10256)!==0||!1)),w&2048&&Sm(k,l);break;case 24:gi(o,l,d,m),w&2048&&Am(l.alternate,l);break;default:gi(o,l,d,m)}}function Ds(o,l,d,m,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=o,k=l,F=d,te=m,ve=k.flags;switch(k.tag){case 0:case 11:case 15:Ds(_,k,F,te,w),nu(8,k);break;case 23:break;case 22:var Te=k.stateNode;k.memoizedState!==null?Te._visibility&2?Ds(_,k,F,te,w):iu(_,k):(Te._visibility|=2,Ds(_,k,F,te,w)),w&&ve&2048&&Sm(k.alternate,k);break;case 24:Ds(_,k,F,te,w),w&&ve&2048&&Am(k.alternate,k);break;default:Ds(_,k,F,te,w)}l=l.sibling}}function iu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,m=l,w=m.flags;switch(m.tag){case 22:iu(d,m),w&2048&&Sm(m.alternate,m);break;case 24:iu(d,m),w&2048&&Am(m.alternate,m);break;default:iu(d,m)}l=l.sibling}}var au=8192;function Rs(o,l,d){if(o.subtreeFlags&au)for(o=o.child;o!==null;)mw(o,l,d),o=o.sibling}function mw(o,l,d){switch(o.tag){case 26:Rs(o,l,d),o.flags&au&&o.memoizedState!==null&&dk(d,mi,o.memoizedState,o.memoizedProps);break;case 5:Rs(o,l,d);break;case 3:case 4:var m=mi;mi=wf(o.stateNode.containerInfo),Rs(o,l,d),mi=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=au,au=16777216,Rs(o,l,d),au=m):Rs(o,l,d));break;default:Rs(o,l,d)}}function gw(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function ou(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];qn=m,yw(m,o)}gw(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vw(o),o=o.sibling}function vw(o){switch(o.tag){case 0:case 11:case 15:ou(o),o.flags&2048&&Va(9,o,o.return);break;case 3:ou(o);break;case 12:ou(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,lf(o)):ou(o);break;default:ou(o)}}function lf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];qn=m,yw(m,o)}gw(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Va(8,l,l.return),lf(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,lf(l));break;default:lf(l)}o=o.sibling}}function yw(o,l){for(;qn!==null;){var d=qn;switch(d.tag){case 0:case 11:case 15:Va(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Hl(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,qn=m;else e:for(d=o;qn!==null;){m=qn;var w=m.sibling,_=m.return;if(lw(m),m===d){qn=null;break e}if(w!==null){w.return=_,qn=w;break e}qn=_}}}var CO={getCacheForType:function(o){var l=Jn(Nn),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return Jn(Nn).controller.signal}},NO=typeof WeakMap=="function"?WeakMap:Map,jt=0,Kt=null,bt=null,Tt=0,qt=0,Lr=null,$a=!1,Is=!1,Tm=!1,ra=0,xn=0,Ya=0,Bo=0,Cm=0,Ur=0,Ms=0,su=null,Sr=null,Nm=!1,uf=0,xw=0,cf=1/0,ff=null,Wa=null,Pn=0,Ka=null,Os=null,ia=0,Dm=0,Rm=null,bw=null,lu=0,Im=null;function Br(){return(jt&2)!==0&&Tt!==0?Tt&-Tt:X.T!==null?Um():yt()}function ww(){if(Ur===0)if((Tt&536870912)===0||Nt){var o=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),Ur=o}else Ur=536870912;return o=kr.current,o!==null&&(o.flags|=32),Ur}function Ar(o,l,d){(o===Kt&&(qt===2||qt===9)||o.cancelPendingCommit!==null)&&(ks(o,0),Xa(o,Tt,Ur,!1)),ee(o,d),((jt&2)===0||o!==Kt)&&(o===Kt&&((jt&2)===0&&(Bo|=d),xn===4&&Xa(o,Tt,Ur,!1)),ki(o))}function Ew(o,l,d){if((jt&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&o.expiredLanes)===0||A(o,l),w=m?IO(o,l):Om(o,l,!0),_=m;do{if(w===0){Is&&!m&&Xa(o,l,0,!1);break}else{if(d=o.current.alternate,_&&!DO(d)){w=Om(o,l,!1),_=!1;continue}if(w===2){if(_=l,o.errorRecoveryDisabledLanes&_)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var F=o;w=su;var te=F.current.memoizedState.isDehydrated;if(te&&(ks(F,k).flags|=256),k=Om(F,k,!1),k!==2){if(Tm&&!te){F.errorRecoveryDisabledLanes|=_,Bo|=_,w=4;break e}_=Sr,Sr=w,_!==null&&(Sr===null?Sr=_:Sr.push.apply(Sr,_))}w=k}if(_=!1,w!==2)continue}}if(w===1){ks(o,0),Xa(o,l,0,!0);break}e:{switch(m=o,_=w,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Xa(m,l,Ur,!$a);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(w=uf+300-_t(),10<w)){if(Xa(m,l,Ur,!$a),H(m,0,!0)!==0)break e;ia=l,m.timeoutHandle=Qw(_w.bind(null,m,d,Sr,ff,Nm,l,Ur,Bo,Ms,$a,_,"Throttled",-0,0),w);break e}_w(m,d,Sr,ff,Nm,l,Ur,Bo,Ms,$a,_,null,-0,0)}}break}while(!0);ki(o)}function _w(o,l,d,m,w,_,k,F,te,ve,Te,Ie,xe,be){if(o.timeoutHandle=-1,Ie=l.subtreeFlags,Ie&8192||(Ie&16785408)===16785408){Ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},mw(l,_,Ie);var Ze=(_&62914560)===_?uf-_t():(_&4194048)===_?xw-_t():0;if(Ze=hk(Ie,Ze),Ze!==null){ia=_,o.cancelPendingCommit=Ze(Iw.bind(null,o,l,_,d,m,w,k,F,te,Te,Ie,null,xe,be)),Xa(o,_,k,!ve);return}}Iw(o,l,_,d,m,w,k,F,te)}function DO(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var w=d[m],_=w.getSnapshot;w=w.value;try{if(!Mr(_(),w))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Xa(o,l,d,m){l&=~Cm,l&=~Bo,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var w=l;0<w;){var _=31-V(w),k=1<<_;m[_]=-1,w&=~k}d!==0&&ze(o,d,l)}function df(){return(jt&6)===0?(uu(0),!1):!0}function Mm(){if(bt!==null){if(qt===0)var o=bt.return;else o=bt,Yi=Do=null,Wp(o),Ss=null,Vl=0,o=bt;for(;o!==null;)ew(o.alternate,o),o=o.return;bt=null}}function ks(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,KO(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),ia=0,Mm(),Kt=o,bt=d=Vi(o.current,null),Tt=l,qt=0,Lr=null,$a=!1,Is=A(o,l),Tm=!1,Ms=Ur=Cm=Bo=Ya=xn=0,Sr=su=null,Nm=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var w=31-V(m),_=1<<w;l|=o[w],m&=~_}return ra=l,Mc(),d}function Sw(o,l){gt=null,X.H=Ql,l===_s||l===zc?(l=z1(),qt=3):l===Lp?(l=z1(),qt=4):qt=l===cm?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Lr=l,bt===null&&(xn=1,ef(o,Kr(l,o.current)))}function Aw(){var o=kr.current;return o===null?!0:(Tt&4194048)===Tt?Qr===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?o===Qr:!1}function Tw(){var o=X.H;return X.H=Ql,o===null?Ql:o}function Cw(){var o=X.A;return X.A=CO,o}function hf(){xn=4,$a||(Tt&4194048)!==Tt&&kr.current!==null||(Is=!0),(Ya&134217727)===0&&(Bo&134217727)===0||Kt===null||Xa(Kt,Tt,Ur,!1)}function Om(o,l,d){var m=jt;jt|=2;var w=Tw(),_=Cw();(Kt!==o||Tt!==l)&&(ff=null,ks(o,l)),l=!1;var k=xn;e:do try{if(qt!==0&&bt!==null){var F=bt,te=Lr;switch(qt){case 8:Mm(),k=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(l=!0);var ve=qt;if(qt=0,Lr=null,Ps(o,F,te,ve),d&&Is){k=0;break e}break;default:ve=qt,qt=0,Lr=null,Ps(o,F,te,ve)}}RO(),k=xn;break}catch(Te){Sw(o,Te)}while(!0);return l&&o.shellSuspendCounter++,Yi=Do=null,jt=m,X.H=w,X.A=_,bt===null&&(Kt=null,Tt=0,Mc()),k}function RO(){for(;bt!==null;)Nw(bt)}function IO(o,l){var d=jt;jt|=2;var m=Tw(),w=Cw();Kt!==o||Tt!==l?(ff=null,cf=_t()+500,ks(o,l)):Is=A(o,l);e:do try{if(qt!==0&&bt!==null){l=bt;var _=Lr;t:switch(qt){case 1:qt=0,Lr=null,Ps(o,l,_,1);break;case 2:case 9:if(B1(_)){qt=0,Lr=null,Dw(l);break}l=function(){qt!==2&&qt!==9||Kt!==o||(qt=7),ki(o)},_.then(l,l);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:B1(_)?(qt=0,Lr=null,Dw(l)):(qt=0,Lr=null,Ps(o,l,_,7));break;case 5:var k=null;switch(bt.tag){case 26:k=bt.memoizedState;case 5:case 27:var F=bt;if(k?pE(k):F.stateNode.complete){qt=0,Lr=null;var te=F.sibling;if(te!==null)bt=te;else{var ve=F.return;ve!==null?(bt=ve,pf(ve)):bt=null}break t}}qt=0,Lr=null,Ps(o,l,_,5);break;case 6:qt=0,Lr=null,Ps(o,l,_,6);break;case 8:Mm(),xn=6;break e;default:throw Error(r(462))}}MO();break}catch(Te){Sw(o,Te)}while(!0);return Yi=Do=null,X.H=m,X.A=w,jt=d,bt!==null?0:(Kt=null,Tt=0,Mc(),xn)}function MO(){for(;bt!==null&&!ut();)Nw(bt)}function Nw(o){var l=J2(o.alternate,o,ra);o.memoizedProps=o.pendingProps,l===null?pf(o):bt=l}function Dw(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=$2(d,l,l.pendingProps,l.type,void 0,Tt);break;case 11:l=$2(d,l,l.pendingProps,l.type.render,l.ref,Tt);break;case 5:Wp(l);default:ew(d,l),l=bt=C1(l,ra),l=J2(d,l,ra)}o.memoizedProps=o.pendingProps,l===null?pf(o):bt=l}function Ps(o,l,d,m){Yi=Do=null,Wp(l),Ss=null,Vl=0;var w=l.return;try{if(bO(o,w,l,d,Tt)){xn=1,ef(o,Kr(d,o.current)),bt=null;return}}catch(_){if(w!==null)throw bt=w,_;xn=1,ef(o,Kr(d,o.current)),bt=null;return}l.flags&32768?(Nt||m===1?o=!0:Is||(Tt&536870912)!==0?o=!1:($a=o=!0,(m===2||m===9||m===3||m===6)&&(m=kr.current,m!==null&&m.tag===13&&(m.flags|=16384))),Rw(l,o)):pf(l)}function pf(o){var l=o;do{if((l.flags&32768)!==0){Rw(l,$a);return}o=l.return;var d=_O(l.alternate,l,ra);if(d!==null){bt=d;return}if(l=l.sibling,l!==null){bt=l;return}bt=l=o}while(l!==null);xn===0&&(xn=5)}function Rw(o,l){do{var d=SO(o.alternate,o);if(d!==null){d.flags&=32767,bt=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){bt=o;return}bt=o=d}while(o!==null);xn=6,bt=null}function Iw(o,l,d,m,w,_,k,F,te){o.cancelPendingCommit=null;do mf();while(Pn!==0);if((jt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=wp,pe(o,d,_,k,F,te),o===Kt&&(bt=Kt=null,Tt=0),Os=l,Ka=o,ia=d,Dm=_,Rm=w,bw=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,LO(kn,function(){return Lw(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,w=Q.p,Q.p=2,k=jt,jt|=4;try{AO(o,l,d)}finally{jt=k,Q.p=w,X.T=m}}Pn=1,Mw(),Ow(),kw()}}function Mw(){if(Pn===1){Pn=0;var o=Ka,l=Os,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=X.T,X.T=null;var m=Q.p;Q.p=2;var w=jt;jt|=4;try{dw(l,o);var _=Vm,k=y1(o.containerInfo),F=_.focusedElem,te=_.selectionRange;if(k!==F&&F&&F.ownerDocument&&v1(F.ownerDocument.documentElement,F)){if(te!==null&&gp(F)){var ve=te.start,Te=te.end;if(Te===void 0&&(Te=ve),"selectionStart"in F)F.selectionStart=ve,F.selectionEnd=Math.min(Te,F.value.length);else{var Ie=F.ownerDocument||document,xe=Ie&&Ie.defaultView||window;if(xe.getSelection){var be=xe.getSelection(),Ze=F.textContent.length,ct=Math.min(te.start,Ze),Wt=te.end===void 0?ct:Math.min(te.end,Ze);!be.extend&&ct>Wt&&(k=Wt,Wt=ct,ct=k);var fe=g1(F,ct),le=g1(F,Wt);if(fe&&le&&(be.rangeCount!==1||be.anchorNode!==fe.node||be.anchorOffset!==fe.offset||be.focusNode!==le.node||be.focusOffset!==le.offset)){var ge=Ie.createRange();ge.setStart(fe.node,fe.offset),be.removeAllRanges(),ct>Wt?(be.addRange(ge),be.extend(le.node,le.offset)):(ge.setEnd(le.node,le.offset),be.addRange(ge))}}}}for(Ie=[],be=F;be=be.parentNode;)be.nodeType===1&&Ie.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ie.length;F++){var De=Ie[F];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Cf=!!Gm,Vm=Gm=null}finally{jt=w,Q.p=m,X.T=d}}o.current=l,Pn=2}}function Ow(){if(Pn===2){Pn=0;var o=Ka,l=Os,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=X.T,X.T=null;var m=Q.p;Q.p=2;var w=jt;jt|=4;try{sw(o,l.alternate,l)}finally{jt=w,Q.p=m,X.T=d}}Pn=3}}function kw(){if(Pn===4||Pn===3){Pn=0,st();var o=Ka,l=Os,d=ia,m=bw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pn=5:(Pn=0,Os=Ka=null,Pw(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Wa=null),dn(d),l=l.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(zt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=X.T,w=Q.p,Q.p=2,X.T=null;try{for(var _=o.onRecoverableError,k=0;k<m.length;k++){var F=m[k];_(F.value,{componentStack:F.stack})}}finally{X.T=l,Q.p=w}}(ia&3)!==0&&mf(),ki(o),w=o.pendingLanes,(d&261930)!==0&&(w&42)!==0?o===Im?lu++:(lu=0,Im=o):lu=0,uu(0)}}function Pw(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Hl(l)))}function mf(){return Mw(),Ow(),kw(),Lw()}function Lw(){if(Pn!==5)return!1;var o=Ka,l=Dm;Dm=0;var d=dn(ia),m=X.T,w=Q.p;try{Q.p=32>d?32:d,X.T=null,d=Rm,Rm=null;var _=Ka,k=ia;if(Pn=0,Os=Ka=null,ia=0,(jt&6)!==0)throw Error(r(331));var F=jt;if(jt|=4,vw(_.current),pw(_,_.current,k,d),jt=F,uu(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(zt,_)}catch{}return!0}finally{Q.p=w,X.T=m,Pw(o,l)}}function Uw(o,l,d){l=Kr(d,l),l=um(o.stateNode,l,2),o=qa(o,l,2),o!==null&&(ee(o,2),ki(o))}function Ht(o,l,d){if(o.tag===3)Uw(o,o,d);else for(;l!==null;){if(l.tag===3){Uw(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Wa===null||!Wa.has(m))){o=Kr(d,o),d=B2(2),m=qa(l,d,2),m!==null&&(j2(d,m,l,o),ee(m,2),ki(m));break}}l=l.return}}function km(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new NO;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(d)||(Tm=!0,w.add(d),o=OO.bind(null,o,l,d),l.then(o,o))}function OO(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Kt===o&&(Tt&d)===d&&(xn===4||xn===3&&(Tt&62914560)===Tt&&300>_t()-uf?(jt&2)===0&&ks(o,0):Cm|=d,Ms===Tt&&(Ms=0)),ki(o)}function Bw(o,l){l===0&&(l=ie()),o=To(o,l),o!==null&&(ee(o,l),ki(o))}function kO(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Bw(o,d)}function PO(o,l){var d=0;switch(o.tag){case 31:case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(d=w.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),Bw(o,d)}function LO(o,l){return Ft(o,l)}var gf=null,Ls=null,Pm=!1,vf=!1,Lm=!1,Za=0;function ki(o){o!==Ls&&o.next===null&&(Ls===null?gf=Ls=o:Ls=Ls.next=o),vf=!0,Pm||(Pm=!0,BO())}function uu(o,l){if(!Lm&&vf){Lm=!0;do for(var d=!1,m=gf;m!==null;){if(o!==0){var w=m.pendingLanes;if(w===0)var _=0;else{var k=m.suspendedLanes,F=m.pingedLanes;_=(1<<31-V(42|o)+1)-1,_&=w&~(k&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(d=!0,qw(m,_))}else _=Tt,_=H(m,m===Kt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||A(m,_)||(d=!0,qw(m,_));m=m.next}while(d);Lm=!1}}function UO(){jw()}function jw(){vf=Pm=!1;var o=0;Za!==0&&WO()&&(o=Za);for(var l=_t(),d=null,m=gf;m!==null;){var w=m.next,_=zw(m,l);_===0?(m.next=null,d===null?gf=w:d.next=w,w===null&&(Ls=d)):(d=m,(o!==0||(_&3)!==0)&&(vf=!0)),m=w}Pn!==0&&Pn!==5||uu(o),Za!==0&&(Za=0)}function zw(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var k=31-V(_),F=1<<k,te=w[k];te===-1?((F&d)===0||(F&m)!==0)&&(w[k]=J(F,l)):te<=l&&(o.expiredLanes|=F),_&=~F}if(l=Kt,d=Tt,d=H(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===l&&(qt===2||qt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&it(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||A(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(m!==null&&it(m),dn(d)){case 2:case 8:d=en;break;case 32:d=kn;break;case 268435456:d=sn;break;default:d=kn}return m=Fw.bind(null,o),d=Ft(d,m),o.callbackPriority=l,o.callbackNode=d,l}return m!==null&&m!==null&&it(m),o.callbackPriority=2,o.callbackNode=null,2}function Fw(o,l){if(Pn!==0&&Pn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(mf()&&o.callbackNode!==d)return null;var m=Tt;return m=H(o,o===Kt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(Ew(o,m,l),zw(o,_t()),o.callbackNode!=null&&o.callbackNode===d?Fw.bind(null,o):null)}function qw(o,l){if(mf())return null;Ew(o,l,!0)}function BO(){XO(function(){(jt&6)!==0?Ft(wn,UO):jw()})}function Um(){if(Za===0){var o=ws;o===0&&(o=ae,ae<<=1,(ae&261888)===0&&(ae=256)),Za=o}return Za}function Hw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ls(""+o)}function Gw(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function jO(o,l,d,m,w){if(l==="submit"&&d&&d.stateNode===w){var _=Hw((w[It]||null).action),k=m.submitter;k&&(l=(l=k[It]||null)?Hw(l.formAction):k.getAttribute("formAction"),l!==null&&(_=l,k=null));var F=new Nc("action","action",null,m,w);o.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Za!==0){var te=k?Gw(w,k):new FormData(w);rm(d,{pending:!0,data:te,method:w.method,action:_},null,te)}}else typeof _=="function"&&(F.preventDefault(),te=k?Gw(w,k):new FormData(w),rm(d,{pending:!0,data:te,method:w.method,action:_},_,te))},currentTarget:w}]})}}for(var Bm=0;Bm<bp.length;Bm++){var jm=bp[Bm],zO=jm.toLowerCase(),FO=jm[0].toUpperCase()+jm.slice(1);pi(zO,"on"+FO)}pi(w1,"onAnimationEnd"),pi(E1,"onAnimationIteration"),pi(_1,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(rO,"onTransitionRun"),pi(iO,"onTransitionStart"),pi(aO,"onTransitionCancel"),pi(S1,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function Vw(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],w=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var k=m.length-1;0<=k;k--){var F=m[k],te=F.instance,ve=F.currentTarget;if(F=F.listener,te!==_&&w.isPropagationStopped())break e;_=F,w.currentTarget=ve;try{_(w)}catch(Te){Ic(Te)}w.currentTarget=null,_=te}else for(k=0;k<m.length;k++){if(F=m[k],te=F.instance,ve=F.currentTarget,F=F.listener,te!==_&&w.isPropagationStopped())break e;_=F,w.currentTarget=ve;try{_(w)}catch(Te){Ic(Te)}w.currentTarget=null,_=te}}}}function wt(o,l){var d=l[Ir];d===void 0&&(d=l[Ir]=new Set);var m=o+"__bubble";d.has(m)||($w(l,o,2,!1),d.add(m))}function zm(o,l,d){var m=0;l&&(m|=4),$w(d,o,m,l)}var yf="_reactListening"+Math.random().toString(36).slice(2);function Fm(o){if(!o[yf]){o[yf]=!0,Hi.forEach(function(d){d!=="selectionchange"&&(qO.has(d)||zm(d,!1,o),zm(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[yf]||(l[yf]=!0,zm("selectionchange",!1,l))}}function $w(o,l,d,m){switch(wE(l)){case 2:var w=gk;break;case 8:w=vk;break;default:w=n0}d=w.bind(null,l,d,o),w=void 0,!sp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(l,d,{capture:!0,passive:w}):o.addEventListener(l,d,!0):w!==void 0?o.addEventListener(l,d,{passive:w}):o.addEventListener(l,d,!1)}function qm(o,l,d,m,w){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var F=m.stateNode.containerInfo;if(F===w)break;if(k===4)for(k=m.return;k!==null;){var te=k.tag;if((te===3||te===4)&&k.stateNode.containerInfo===w)return;k=k.return}for(;F!==null;){if(k=di(F),k===null)return;if(te=k.tag,te===5||te===6||te===26||te===27){m=_=k;continue e}F=F.parentNode}}m=m.return}Zb(function(){var ve=_,Te=ap(d),Ie=[];e:{var xe=A1.get(o);if(xe!==void 0){var be=Nc,Ze=o;switch(o){case"keypress":if(Tc(d)===0)break e;case"keydown":case"keyup":be=P4;break;case"focusin":Ze="focus",be=fp;break;case"focusout":Ze="blur",be=fp;break;case"beforeblur":case"afterblur":be=fp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=e1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=_4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=B4;break;case w1:case E1:case _1:be=T4;break;case S1:be=z4;break;case"scroll":case"scrollend":be=w4;break;case"wheel":be=q4;break;case"copy":case"cut":case"paste":be=N4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=n1;break;case"toggle":case"beforetoggle":be=G4}var ct=(l&4)!==0,Wt=!ct&&(o==="scroll"||o==="scrollend"),fe=ct?xe!==null?xe+"Capture":null:xe;ct=[];for(var le=ve,ge;le!==null;){var De=le;if(ge=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||ge===null||fe===null||(De=Ml(le,fe),De!=null&&ct.push(fu(le,De,ge))),Wt)break;le=le.return}0<ct.length&&(xe=new be(xe,Ze,null,d,Te),Ie.push({event:xe,listeners:ct}))}}if((l&7)===0){e:{if(xe=o==="mouseover"||o==="pointerover",be=o==="mouseout"||o==="pointerout",xe&&d!==us&&(Ze=d.relatedTarget||d.fromElement)&&(di(Ze)||Ze[Cn]))break e;if((be||xe)&&(xe=Te.window===Te?Te:(xe=Te.ownerDocument)?xe.defaultView||xe.parentWindow:window,be?(Ze=d.relatedTarget||d.toElement,be=ve,Ze=Ze?di(Ze):null,Ze!==null&&(Wt=a(Ze),ct=Ze.tag,Ze!==Wt||ct!==5&&ct!==27&&ct!==6)&&(Ze=null)):(be=null,Ze=ve),be!==Ze)){if(ct=e1,De="onMouseLeave",fe="onMouseEnter",le="mouse",(o==="pointerout"||o==="pointerover")&&(ct=n1,De="onPointerLeave",fe="onPointerEnter",le="pointer"),Wt=be==null?xe:Oa(be),ge=Ze==null?xe:Oa(Ze),xe=new ct(De,le+"leave",be,d,Te),xe.target=Wt,xe.relatedTarget=ge,De=null,di(Te)===ve&&(ct=new ct(fe,le+"enter",Ze,d,Te),ct.target=ge,ct.relatedTarget=Wt,De=ct),Wt=De,be&&Ze)t:{for(ct=HO,fe=be,le=Ze,ge=0,De=fe;De;De=ct(De))ge++;De=0;for(var nt=le;nt;nt=ct(nt))De++;for(;0<ge-De;)fe=ct(fe),ge--;for(;0<De-ge;)le=ct(le),De--;for(;ge--;){if(fe===le||le!==null&&fe===le.alternate){ct=fe;break t}fe=ct(fe),le=ct(le)}ct=null}else ct=null;be!==null&&Yw(Ie,xe,be,ct,!1),Ze!==null&&Wt!==null&&Yw(Ie,Wt,Ze,ct,!0)}}e:{if(xe=ve?Oa(ve):window,be=xe.nodeName&&xe.nodeName.toLowerCase(),be==="select"||be==="input"&&xe.type==="file")var Pt=c1;else if(l1(xe))if(f1)Pt=eO;else{Pt=J4;var et=Z4}else be=xe.nodeName,!be||be.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?ve&&Rl(ve.elementType)&&(Pt=c1):Pt=Q4;if(Pt&&(Pt=Pt(o,ve))){u1(Ie,Pt,d,Te);break e}et&&et(o,xe,ve),o==="focusout"&&ve&&xe.type==="number"&&ve.memoizedProps.value!=null&&mt(xe,"number",xe.value)}switch(et=ve?Oa(ve):window,o){case"focusin":(l1(et)||et.contentEditable==="true")&&(hs=et,vp=ve,zl=null);break;case"focusout":zl=vp=hs=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,x1(Ie,d,Te);break;case"selectionchange":if(nO)break;case"keydown":case"keyup":x1(Ie,d,Te)}var vt;if(hp)e:{switch(o){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ds?o1(o,d)&&(Ct="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ct="onCompositionStart");Ct&&(r1&&d.locale!=="ko"&&(ds||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ds&&(vt=Jb()):(Pa=Te,lp="value"in Pa?Pa.value:Pa.textContent,ds=!0)),et=xf(ve,Ct),0<et.length&&(Ct=new t1(Ct,o,null,d,Te),Ie.push({event:Ct,listeners:et}),vt?Ct.data=vt:(vt=s1(d),vt!==null&&(Ct.data=vt)))),(vt=$4?Y4(o,d):W4(o,d))&&(Ct=xf(ve,"onBeforeInput"),0<Ct.length&&(et=new t1("onBeforeInput","beforeinput",null,d,Te),Ie.push({event:et,listeners:Ct}),et.data=vt)),jO(Ie,o,ve,d,Te)}Vw(Ie,l)})}function fu(o,l,d){return{instance:o,listener:l,currentTarget:d}}function xf(o,l){for(var d=l+"Capture",m=[];o!==null;){var w=o,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=Ml(o,d),w!=null&&m.unshift(fu(o,w,_)),w=Ml(o,l),w!=null&&m.push(fu(o,w,_))),o.tag===3)return m;o=o.return}return[]}function HO(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Yw(o,l,d,m,w){for(var _=l._reactName,k=[];d!==null&&d!==m;){var F=d,te=F.alternate,ve=F.stateNode;if(F=F.tag,te!==null&&te===m)break;F!==5&&F!==26&&F!==27||ve===null||(te=ve,w?(ve=Ml(d,_),ve!=null&&k.unshift(fu(d,ve,te))):w||(ve=Ml(d,_),ve!=null&&k.push(fu(d,ve,te)))),d=d.return}k.length!==0&&o.push({event:l,listeners:k})}var GO=/\r\n?/g,VO=/\u0000|\uFFFD/g;function Ww(o){return(typeof o=="string"?o:""+o).replace(GO,`
`).replace(VO,"")}function Kw(o,l){return l=Ww(l),Ww(o)===l}function Yt(o,l,d,m,w,_){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Vt(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Vt(o,""+m);break;case"className":G(o,"class",m);break;case"tabIndex":G(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":G(o,d,m);break;case"style":ss(o,m,_);break;case"data":if(l!=="object"){G(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=ls(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(d==="formAction"?(l!=="input"&&Yt(o,l,"name",w.name,w,null),Yt(o,l,"formEncType",w.formEncType,w,null),Yt(o,l,"formMethod",w.formMethod,w,null),Yt(o,l,"formTarget",w.formTarget,w,null)):(Yt(o,l,"encType",w.encType,w,null),Yt(o,l,"method",w.method,w,null),Yt(o,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=ls(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=hi);break;case"onScroll":m!=null&&wt("scroll",o);break;case"onScrollEnd":m!=null&&wt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=ls(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":wt("beforetoggle",o),wt("toggle",o),os(o,"popover",m);break;case"xlinkActuate":ne(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ne(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ne(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ne(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ne(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ne(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ne(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ne(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ne(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":os(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Il.get(d)||d,os(o,d,m))}}function Hm(o,l,d,m,w,_){switch(d){case"style":ss(o,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof m=="string"?Vt(o,m):(typeof m=="number"||typeof m=="bigint")&&Vt(o,""+m);break;case"onScroll":m!=null&&wt("scroll",o);break;case"onScrollEnd":m!=null&&wt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_c.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),l=d.slice(2,w?d.length-7:void 0),_=o[It]||null,_=_!=null?_[d]:null,typeof _=="function"&&o.removeEventListener(l,_,w),typeof m=="function")){typeof _!="function"&&_!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,m,w);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):os(o,d,m)}}}function er(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",o),wt("load",o);var m=!1,w=!1,_;for(_ in d)if(d.hasOwnProperty(_)){var k=d[_];if(k!=null)switch(_){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Yt(o,l,_,k,d,null)}}w&&Yt(o,l,"srcSet",d.srcSet,d,null),m&&Yt(o,l,"src",d.src,d,null);return;case"input":wt("invalid",o);var F=_=k=w=null,te=null,ve=null;for(m in d)if(d.hasOwnProperty(m)){var Te=d[m];if(Te!=null)switch(m){case"name":w=Te;break;case"type":k=Te;break;case"checked":te=Te;break;case"defaultChecked":ve=Te;break;case"value":_=Te;break;case"defaultValue":F=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,l));break;default:Yt(o,l,m,Te,d,null)}}Je(o,_,F,te,ve,k,w,!1);return;case"select":wt("invalid",o),m=k=_=null;for(w in d)if(d.hasOwnProperty(w)&&(F=d[w],F!=null))switch(w){case"value":_=F;break;case"defaultValue":k=F;break;case"multiple":m=F;default:Yt(o,l,w,F,d,null)}l=_,d=k,o.multiple=!!m,l!=null?xt(o,!!m,l,!1):d!=null&&xt(o,!!m,d,!0);return;case"textarea":wt("invalid",o),_=w=m=null;for(k in d)if(d.hasOwnProperty(k)&&(F=d[k],F!=null))switch(k){case"value":m=F;break;case"defaultValue":w=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Yt(o,l,k,F,d,null)}hn(o,m,w,_);return;case"option":for(te in d)if(d.hasOwnProperty(te)&&(m=d[te],m!=null))switch(te){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Yt(o,l,te,m,d,null)}return;case"dialog":wt("beforetoggle",o),wt("toggle",o),wt("cancel",o),wt("close",o);break;case"iframe":case"object":wt("load",o);break;case"video":case"audio":for(m=0;m<cu.length;m++)wt(cu[m],o);break;case"image":wt("error",o),wt("load",o);break;case"details":wt("toggle",o);break;case"embed":case"source":case"link":wt("error",o),wt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in d)if(d.hasOwnProperty(ve)&&(m=d[ve],m!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Yt(o,l,ve,m,d,null)}return;default:if(Rl(l)){for(Te in d)d.hasOwnProperty(Te)&&(m=d[Te],m!==void 0&&Hm(o,l,Te,m,d,void 0));return}}for(F in d)d.hasOwnProperty(F)&&(m=d[F],m!=null&&Yt(o,l,F,m,d,null))}function $O(o,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,k=null,F=null,te=null,ve=null,Te=null;for(be in d){var Ie=d[be];if(d.hasOwnProperty(be)&&Ie!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":te=Ie;default:m.hasOwnProperty(be)||Yt(o,l,be,null,m,Ie)}}for(var xe in m){var be=m[xe];if(Ie=d[xe],m.hasOwnProperty(xe)&&(be!=null||Ie!=null))switch(xe){case"type":_=be;break;case"name":w=be;break;case"checked":ve=be;break;case"defaultChecked":Te=be;break;case"value":k=be;break;case"defaultValue":F=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,l));break;default:be!==Ie&&Yt(o,l,xe,be,m,Ie)}}Be(o,k,F,te,ve,Te,_,w);return;case"select":be=k=F=xe=null;for(_ in d)if(te=d[_],d.hasOwnProperty(_)&&te!=null)switch(_){case"value":break;case"multiple":be=te;default:m.hasOwnProperty(_)||Yt(o,l,_,null,m,te)}for(w in m)if(_=m[w],te=d[w],m.hasOwnProperty(w)&&(_!=null||te!=null))switch(w){case"value":xe=_;break;case"defaultValue":F=_;break;case"multiple":k=_;default:_!==te&&Yt(o,l,w,_,m,te)}l=F,d=k,m=be,xe!=null?xt(o,!!d,xe,!1):!!m!=!!d&&(l!=null?xt(o,!!d,l,!0):xt(o,!!d,d?[]:"",!1));return;case"textarea":be=xe=null;for(F in d)if(w=d[F],d.hasOwnProperty(F)&&w!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Yt(o,l,F,null,m,w)}for(k in m)if(w=m[k],_=d[k],m.hasOwnProperty(k)&&(w!=null||_!=null))switch(k){case"value":xe=w;break;case"defaultValue":be=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==_&&Yt(o,l,k,w,m,_)}kt(o,xe,be);return;case"option":for(var Ze in d)if(xe=d[Ze],d.hasOwnProperty(Ze)&&xe!=null&&!m.hasOwnProperty(Ze))switch(Ze){case"selected":o.selected=!1;break;default:Yt(o,l,Ze,null,m,xe)}for(te in m)if(xe=m[te],be=d[te],m.hasOwnProperty(te)&&xe!==be&&(xe!=null||be!=null))switch(te){case"selected":o.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:Yt(o,l,te,xe,m,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in d)xe=d[ct],d.hasOwnProperty(ct)&&xe!=null&&!m.hasOwnProperty(ct)&&Yt(o,l,ct,null,m,xe);for(ve in m)if(xe=m[ve],be=d[ve],m.hasOwnProperty(ve)&&xe!==be&&(xe!=null||be!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,l));break;default:Yt(o,l,ve,xe,m,be)}return;default:if(Rl(l)){for(var Wt in d)xe=d[Wt],d.hasOwnProperty(Wt)&&xe!==void 0&&!m.hasOwnProperty(Wt)&&Hm(o,l,Wt,void 0,m,xe);for(Te in m)xe=m[Te],be=d[Te],!m.hasOwnProperty(Te)||xe===be||xe===void 0&&be===void 0||Hm(o,l,Te,xe,m,be);return}}for(var fe in d)xe=d[fe],d.hasOwnProperty(fe)&&xe!=null&&!m.hasOwnProperty(fe)&&Yt(o,l,fe,null,m,xe);for(Ie in m)xe=m[Ie],be=d[Ie],!m.hasOwnProperty(Ie)||xe===be||xe==null&&be==null||Yt(o,l,Ie,xe,m,be)}function Xw(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YO(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var w=d[m],_=w.transferSize,k=w.initiatorType,F=w.duration;if(_&&F&&Xw(k)){for(k=0,F=w.responseEnd,m+=1;m<d.length;m++){var te=d[m],ve=te.startTime;if(ve>F)break;var Te=te.transferSize,Ie=te.initiatorType;Te&&Xw(Ie)&&(te=te.responseEnd,k+=Te*(te<F?1:(F-ve)/(te-ve)))}if(--m,l+=8*(_+k)/(w.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Gm=null,Vm=null;function bf(o){return o.nodeType===9?o:o.ownerDocument}function Zw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jw(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function $m(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ym=null;function WO(){var o=window.event;return o&&o.type==="popstate"?o===Ym?!1:(Ym=o,!0):(Ym=null,!1)}var Qw=typeof setTimeout=="function"?setTimeout:void 0,KO=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,XO=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(o){return eE.resolve(null).then(o).catch(ZO)}:Qw;function ZO(o){setTimeout(function(){throw o})}function Ja(o){return o==="head"}function tE(o,l){var d=l,m=0;do{var w=d.nextSibling;if(o.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(m===0){o.removeChild(w),zs(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")du(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,du(d);for(var _=d.firstChild;_;){var k=_.nextSibling,F=_.nodeName;_[Xn]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&_.rel.toLowerCase()==="stylesheet"||d.removeChild(_),_=k}}else d==="body"&&du(o.ownerDocument.body);d=w}while(d);zs(l)}function nE(o,l){var d=o;o=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=m}while(d)}function Wm(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Wm(d),lr(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function JO(o,l,d,m){for(;o.nodeType===1;){var w=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Xn])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=ei(o.nextSibling),o===null)break}return null}function QO(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=ei(o.nextSibling),o===null))return null;return o}function rE(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=ei(o.nextSibling),o===null))return null;return o}function Km(o){return o.data==="$?"||o.data==="$~"}function Xm(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function ek(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function ei(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Zm=null;function iE(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return ei(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function aE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function oE(o,l,d){switch(l=bf(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function du(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);lr(o)}var ti=new Map,sE=new Set;function wf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var aa=Q.d;Q.d={f:tk,r:nk,D:rk,C:ik,L:ak,m:ok,X:lk,S:sk,M:uk};function tk(){var o=aa.f(),l=df();return o||l}function nk(o){var l=Ma(o);l!==null&&l.tag===5&&l.type==="form"?S2(l):aa.r(o)}var Us=typeof document>"u"?null:document;function lE(o,l,d){var m=Us;if(m&&typeof l=="string"&&l){var w=ke(l);w='link[rel="'+o+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),sE.has(w)||(sE.add(w),o={rel:o,crossOrigin:d,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),er(l,"link",o),En(l),m.head.appendChild(l)))}}function rk(o){aa.D(o),lE("dns-prefetch",o,null)}function ik(o,l){aa.C(o,l),lE("preconnect",o,l)}function ak(o,l,d){aa.L(o,l,d);var m=Us;if(m&&o&&l){var w='link[rel="preload"][as="'+ke(l)+'"]';l==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+ke(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+ke(d.imageSizes)+'"]')):w+='[href="'+ke(o)+'"]';var _=w;switch(l){case"style":_=Bs(o);break;case"script":_=js(o)}ti.has(_)||(o=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),ti.set(_,o),m.querySelector(w)!==null||l==="style"&&m.querySelector(hu(_))||l==="script"&&m.querySelector(pu(_))||(l=m.createElement("link"),er(l,"link",o),En(l),m.head.appendChild(l)))}}function ok(o,l){aa.m(o,l);var d=Us;if(d&&o){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+ke(m)+'"][href="'+ke(o)+'"]',_=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=js(o)}if(!ti.has(_)&&(o=p({rel:"modulepreload",href:o},l),ti.set(_,o),d.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(pu(_)))return}m=d.createElement("link"),er(m,"link",o),En(m),d.head.appendChild(m)}}}function sk(o,l,d){aa.S(o,l,d);var m=Us;if(m&&o){var w=$r(m).hoistableStyles,_=Bs(o);l=l||"default";var k=w.get(_);if(!k){var F={loading:0,preload:null};if(k=m.querySelector(hu(_)))F.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},d),(d=ti.get(_))&&Jm(o,d);var te=k=m.createElement("link");En(te),er(te,"link",o),te._p=new Promise(function(ve,Te){te.onload=ve,te.onerror=Te}),te.addEventListener("load",function(){F.loading|=1}),te.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Ef(k,l,m)}k={type:"stylesheet",instance:k,count:1,state:F},w.set(_,k)}}}function lk(o,l){aa.X(o,l);var d=Us;if(d&&o){var m=$r(d).hoistableScripts,w=js(o),_=m.get(w);_||(_=d.querySelector(pu(w)),_||(o=p({src:o,async:!0},l),(l=ti.get(w))&&Qm(o,l),_=d.createElement("script"),En(_),er(_,"link",o),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function uk(o,l){aa.M(o,l);var d=Us;if(d&&o){var m=$r(d).hoistableScripts,w=js(o),_=m.get(w);_||(_=d.querySelector(pu(w)),_||(o=p({src:o,async:!0,type:"module"},l),(l=ti.get(w))&&Qm(o,l),_=d.createElement("script"),En(_),er(_,"link",o),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function uE(o,l,d,m){var w=(w=$e.current)?wf(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Bs(d.href),d=$r(w).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Bs(d.href);var _=$r(w).hoistableStyles,k=_.get(o);if(k||(w=w.ownerDocument||w,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,k),(_=w.querySelector(hu(o)))&&!_._p&&(k.instance=_,k.state.loading=5),ti.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ti.set(o,d),_||ck(w,o,d,k.state))),l&&m===null)throw Error(r(528,""));return k}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=js(d),d=$r(w).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Bs(o){return'href="'+ke(o)+'"'}function hu(o){return'link[rel="stylesheet"]['+o+"]"}function cE(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function ck(o,l,d,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),er(l,"link",d),En(l),o.head.appendChild(l))}function js(o){return'[src="'+ke(o)+'"]'}function pu(o){return"script[async]"+o}function fE(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+ke(d.href)+'"]');if(m)return l.instance=m,En(m),m;var w=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),En(m),er(m,"style",w),Ef(m,d.precedence,o),l.instance=m;case"stylesheet":w=Bs(d.href);var _=o.querySelector(hu(w));if(_)return l.state.loading|=4,l.instance=_,En(_),_;m=cE(d),(w=ti.get(w))&&Jm(m,w),_=(o.ownerDocument||o).createElement("link"),En(_);var k=_;return k._p=new Promise(function(F,te){k.onload=F,k.onerror=te}),er(_,"link",m),l.state.loading|=4,Ef(_,d.precedence,o),l.instance=_;case"script":return _=js(d.src),(w=o.querySelector(pu(_)))?(l.instance=w,En(w),w):(m=d,(w=ti.get(_))&&(m=p({},d),Qm(m,w)),o=o.ownerDocument||o,w=o.createElement("script"),En(w),er(w,"link",m),o.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Ef(m,d.precedence,o));return l.instance}function Ef(o,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,_=w,k=0;k<m.length;k++){var F=m[k];if(F.dataset.precedence===l)_=F;else if(_!==w)break}_?_.parentNode.insertBefore(o,_.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function Jm(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Qm(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var _f=null;function dE(o,l,d){if(_f===null){var m=new Map,w=_f=new Map;w.set(d,m)}else w=_f,m=w.get(d),m||(m=new Map,w.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),w=0;w<d.length;w++){var _=d[w];if(!(_[Xn]||_[at]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var k=_.getAttribute(l)||"";k=o+k;var F=m.get(k);F?F.push(_):m.set(k,[_])}}return m}function hE(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function fk(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function pE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function dk(o,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=Bs(m.href),_=l.querySelector(hu(w));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Sf.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=_,En(_);return}_=l.ownerDocument||l,m=cE(m),(w=ti.get(w))&&Jm(m,w),_=_.createElement("link"),En(_);var k=_;k._p=new Promise(function(F,te){k.onload=F,k.onerror=te}),er(_,"link",m),d.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Sf.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var e0=0;function hk(o,l){return o.stylesheets&&o.count===0&&Tf(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var m=setTimeout(function(){if(o.stylesheets&&Tf(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+l);0<o.imgBytes&&e0===0&&(e0=62500*YO());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Tf(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>e0?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function Sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Af=null;function Tf(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Af=new Map,l.forEach(pk,o),Af=null,Sf.call(o))}function pk(o,l){if(!(l.state.loading&4)){var d=Af.get(o);if(d)var m=d.get(null);else{d=new Map,Af.set(o,d);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var k=w[_];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),m=k)}m&&d.set(null,m)}w=l.instance,k=w.getAttribute("data-precedence"),_=d.get(k)||m,_===m&&d.set(null,w),d.set(k,w),this.count++,m=Sf.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),_?_.parentNode.insertBefore(w,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),l.state.loading|=4}}var mu={$$typeof:I,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function mk(o,l,d,m,w,_,k,F,te){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=j(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.hiddenUpdates=j(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function mE(o,l,d,m,w,_,k,F,te,ve,Te,Ie){return o=new mk(o,l,d,k,te,ve,Te,Ie,F),l=1,_===!0&&(l|=24),_=Or(3,null,null,l),o.current=_,_.stateNode=o,l=Op(),l.refCount++,o.pooledCache=l,l.refCount++,_.memoizedState={element:m,isDehydrated:d,cache:l},Up(_),o}function gE(o){return o?(o=gs,o):gs}function vE(o,l,d,m,w,_){w=gE(w),m.context===null?m.context=w:m.pendingContext=w,m=Fa(l),m.payload={element:d},_=_===void 0?null:_,_!==null&&(m.callback=_),d=qa(o,m,l),d!==null&&(Ar(d,o,l),Yl(d,o,l))}function yE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function t0(o,l){yE(o,l),(o=o.alternate)&&yE(o,l)}function xE(o){if(o.tag===13||o.tag===31){var l=To(o,67108864);l!==null&&Ar(l,o,67108864),t0(o,67108864)}}function bE(o){if(o.tag===13||o.tag===31){var l=Br();l=ft(l);var d=To(o,l);d!==null&&Ar(d,o,l),t0(o,l)}}var Cf=!0;function gk(o,l,d,m){var w=X.T;X.T=null;var _=Q.p;try{Q.p=2,n0(o,l,d,m)}finally{Q.p=_,X.T=w}}function vk(o,l,d,m){var w=X.T;X.T=null;var _=Q.p;try{Q.p=8,n0(o,l,d,m)}finally{Q.p=_,X.T=w}}function n0(o,l,d,m){if(Cf){var w=r0(m);if(w===null)qm(o,l,m,Nf,d),EE(o,m);else if(xk(w,o,l,d,m))m.stopPropagation();else if(EE(o,m),l&4&&-1<yk.indexOf(o)){for(;w!==null;){var _=Ma(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var k=U(_.pendingLanes);if(k!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;k;){var te=1<<31-V(k);F.entanglements[1]|=te,k&=~te}ki(_),(jt&6)===0&&(cf=_t()+500,uu(0))}}break;case 31:case 13:F=To(_,2),F!==null&&Ar(F,_,2),df(),t0(_,2)}if(_=r0(m),_===null&&qm(o,l,m,Nf,d),_===w)break;w=_}w!==null&&m.stopPropagation()}else qm(o,l,m,null,d)}}function r0(o){return o=ap(o),i0(o)}var Nf=null;function i0(o){if(Nf=null,o=di(o),o!==null){var l=a(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Nf=o,null}function wE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case wn:return 2;case en:return 8;case kn:case Fn:return 32;case sn:return 268435456;default:return 32}default:return 32}}var a0=!1,Qa=null,eo=null,to=null,gu=new Map,vu=new Map,no=[],yk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EE(o,l){switch(o){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":gu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(l.pointerId)}}function yu(o,l,d,m,w,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:_,targetContainers:[w]},l!==null&&(l=Ma(l),l!==null&&xE(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),o)}function xk(o,l,d,m,w){switch(l){case"focusin":return Qa=yu(Qa,o,l,d,m,w),!0;case"dragenter":return eo=yu(eo,o,l,d,m,w),!0;case"mouseover":return to=yu(to,o,l,d,m,w),!0;case"pointerover":var _=w.pointerId;return gu.set(_,yu(gu.get(_)||null,o,l,d,m,w)),!0;case"gotpointercapture":return _=w.pointerId,vu.set(_,yu(vu.get(_)||null,o,l,d,m,w)),!0}return!1}function _E(o){var l=di(o.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,ht(o.priority,function(){bE(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,ht(o.priority,function(){bE(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Df(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=r0(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);us=m,d.target.dispatchEvent(m),us=null}else return l=Ma(d),l!==null&&xE(l),o.blockedOn=d,!1;l.shift()}return!0}function SE(o,l,d){Df(o)&&d.delete(l)}function bk(){a0=!1,Qa!==null&&Df(Qa)&&(Qa=null),eo!==null&&Df(eo)&&(eo=null),to!==null&&Df(to)&&(to=null),gu.forEach(SE),vu.forEach(SE)}function Rf(o,l){o.blockedOn===l&&(o.blockedOn=null,a0||(a0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bk)))}var If=null;function AE(o){If!==o&&(If=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){If===o&&(If=null);for(var l=0;l<o.length;l+=3){var d=o[l],m=o[l+1],w=o[l+2];if(typeof m!="function"){if(i0(m||d)===null)continue;break}var _=Ma(d);_!==null&&(o.splice(l,3),l-=3,rm(_,{pending:!0,data:w,method:d.method,action:m},m,w))}}))}function zs(o){function l(te){return Rf(te,o)}Qa!==null&&Rf(Qa,o),eo!==null&&Rf(eo,o),to!==null&&Rf(to,o),gu.forEach(l),vu.forEach(l);for(var d=0;d<no.length;d++){var m=no[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<no.length&&(d=no[0],d.blockedOn===null);)_E(d),d.blockedOn===null&&no.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var w=d[m],_=d[m+1],k=w[It]||null;if(typeof _=="function")k||AE(d);else if(k){var F=null;if(_&&_.hasAttribute("formAction")){if(w=_,k=_[It]||null)F=k.formAction;else if(i0(w)!==null)continue}else F=k.action;typeof F=="function"?d[m+1]=F:(d.splice(m,3),m-=3),AE(d)}}}function TE(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(k){return w=k})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function o0(o){this._internalRoot=o}Mf.prototype.render=o0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=Br();vE(d,m,o,l,null,null)},Mf.prototype.unmount=o0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;vE(o.current,2,null,o,null,null),df(),l[Cn]=null}};function Mf(o){this._internalRoot=o}Mf.prototype.unstable_scheduleHydration=function(o){if(o){var l=yt();o={blockedOn:null,target:o,priority:l};for(var d=0;d<no.length&&l!==0&&l<no[d].priority;d++);no.splice(d,0,o),d===0&&_E(o)}};var CE=e.version;if(CE!=="19.2.0")throw Error(r(527,CE,"19.2.0"));Q.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var wk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{zt=Of.inject(wk),St=Of}catch{}}return bu.createRoot=function(o,l){if(!i(o))throw Error(r(299));var d=!1,m="",w=k2,_=P2,k=L2;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=mE(o,1,!1,null,null,d,m,null,w,_,k,TE),o[Cn]=l.current,Fm(o),new o0(l)},bu.hydrateRoot=function(o,l,d){if(!i(o))throw Error(r(299));var m=!1,w="",_=k2,k=P2,F=L2,te=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(F=d.onRecoverableError),d.formState!==void 0&&(te=d.formState)),l=mE(o,1,!0,l,d??null,m,w,te,_,k,F,TE),l.context=gE(null),d=l.current,m=Br(),m=ft(m),w=Fa(m),w.callback=null,qa(d,w,m),d=m,l.current.lanes=d,ee(l,d),ki(l),o[Cn]=l.current,Fm(o),new Mf(l)},bu.version="19.2.0",bu}var UE;function kk(){if(UE)return c0.exports;UE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),c0.exports=Ok(),c0.exports}var Pk=kk();const Lk=hr(Pk);var nr=(t=>(t.ADMIN="ADMIN",t.PARTICIPANT="PARTICIPANT",t))(nr||{}),Et=(t=>(t.TEXT="TEXT",t.HTML="HTML",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.EPUB="EPUB",t))(Et||{});function Uk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Bk=R.forwardRef(Uk);function jk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const zk=R.forwardRef(jk);function Fk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const BE=R.forwardRef(Fk);function qk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Hk=R.forwardRef(qk);function Gk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Vk=R.forwardRef(Gk);function $k({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const Yk=R.forwardRef($k);function Wk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const wN=R.forwardRef(Wk);function Kk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const EN=R.forwardRef(Kk);function Xk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const _N=R.forwardRef(Xk);function Zk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qo=R.forwardRef(Zk);function Jk({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Qk=R.forwardRef(Jk);function e6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const t6=R.forwardRef(e6);function n6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const SN=R.forwardRef(n6);function r6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ul=R.forwardRef(r6);function i6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const a6=R.forwardRef(i6);function o6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const s6=R.forwardRef(o6);function l6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const u6=R.forwardRef(l6);function c6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const f6=R.forwardRef(c6);function d6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const h6=R.forwardRef(d6);function p6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const m6=R.forwardRef(p6);function g6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))}const v6=R.forwardRef(g6);function y6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const x6=R.forwardRef(y6);function b6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const w6=R.forwardRef(b6);function E6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const _6=R.forwardRef(E6);function S6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const jE=R.forwardRef(S6);function A6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const T6=R.forwardRef(A6);function C6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Zy=R.forwardRef(C6);function N6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const D6=R.forwardRef(N6);function R6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Qf=R.forwardRef(R6);function I6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const zE=R.forwardRef(I6);function M6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const O6=R.forwardRef(M6);function k6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Jy=R.forwardRef(k6);function P6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const L6=R.forwardRef(P6);function U6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const B6=R.forwardRef(U6);function j6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ud=R.forwardRef(j6);function z6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ji=R.forwardRef(z6);class F6{constructor(){this.logs=[],this.listeners=[]}log(e,n,r,i){const a=e.phone_number,s={id:Math.random().toString(36).substring(7),timestamp:Date.now(),userId:a,userName:e.name,action:n,details:r,materialId:i};this.logs.unshift(s),this.notifyListeners(),console.log(`[Logger] ${e.name}: ${n}`,r),fetch("/api/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,action:n,materialId:i,details:r,userAgent:navigator.userAgent})}).then(u=>{u.ok||console.error("Failed to send log to backend:",u.status)}).catch(u=>{console.error("Error sending log to backend:",u)})}getLogs(){return this.logs}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(n=>n!==e)}}notifyListeners(){this.listeners.forEach(e=>e(this.logs))}}const pn=new F6,p0=async t=>{try{const e=await fetch(`/api/users/${t}`);return e.ok?{...await e.json()}:(console.error(":",e.status),null)}catch(e){return console.error(":",e),null}},q6=async t=>{try{const e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return e.ok?await e.json():(console.error(":",e.status),null)}catch(e){return console.error(":",e),null}},AN=async(t,e)=>{try{const n=await fetch(`/api/users/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return n.ok?await n.json():(console.error(":",n.status),null)}catch(n){return console.error(":",n),null}},H6=async t=>{try{const e=await fetch(`/api/users/${t}`,{method:"DELETE"});return e.ok?!0:(console.error(":",e.status),!1)}catch(e){return console.error(":",e),!1}},G6=async()=>{try{const t=await fetch("/api/users");return t.ok?await t.json():(console.error(":",t.status),[])}catch(t){return console.error(":",t),[]}},V6=async(t,e)=>{try{const n=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:t,password:e})}),r=await n.json();return n.ok?r:(console.error(":",n.status,r),null)}catch(n){return console.error(":",n),null}};function $6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M2.25 13.5a8.25 8.25 0 0 1 8.25-8.25.75.75 0 0 1 .75.75v6.75H18a.75.75 0 0 1 .75.75 8.25 8.25 0 0 1-16.5 0Z",clipRule:"evenodd"}),R.createElement("path",{fillRule:"evenodd",d:"M12.75 3a.75.75 0 0 1 .75-.75 8.25 8.25 0 0 1 8.25 8.25.75.75 0 0 1-.75.75h-7.5a.75.75 0 0 1-.75-.75V3Z",clipRule:"evenodd"}))}const Y6=R.forwardRef($6);function W6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const K6=R.forwardRef(W6);function X6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),R.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Z6=R.forwardRef(X6);function J6({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z",clipRule:"evenodd"}))}const Q6=R.forwardRef(J6);function eP({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z",clipRule:"evenodd"}))}const tP=R.forwardRef(eP);function nP({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm14.024-.983a1.125 1.125 0 0 1 0 1.966l-5.603 3.113A1.125 1.125 0 0 1 9 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113Z",clipRule:"evenodd"}))}const rP=R.forwardRef(nP),iP=({form:t,onSubmit:e,onCancel:n,isSubmitting:r=!1})=>{const[i,a]=R.useState({}),[s,u]=R.useState(""),c=R.useMemo(()=>{if(!t.questions)return[];if(typeof t.questions=="string")try{return JSON.parse(t.questions)}catch(p){return console.error("Failed to parse questions:",p),[]}return t.questions},[t.questions]),f=async p=>{if(p.preventDefault(),u(""),c.length>0&&c.some(y=>typeof y!="string"?!i[y.id]:!1)){u("");return}try{await e(i)}catch{u("")}},h=(p,v)=>{a(y=>({...y,[p]:v}))};return E.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden flex flex-col max-h-[90vh]",children:[E.jsx("div",{className:"p-6 border-b bg-gray-50 flex justify-between items-center",children:E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:t.title}),E.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t.type==="CONSENT"?"":""})]})}),E.jsxs("div",{className:"p-8 overflow-y-auto flex-1",children:[E.jsx("div",{className:"prose max-w-none mb-8",children:E.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})}),t.type==="QUESTIONNAIRE"&&c.length>0&&E.jsx("form",{id:"questionnaire-form",onSubmit:f,className:"space-y-8",children:c.map((p,v)=>typeof p=="string"?E.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[E.jsx("p",{className:"font-medium text-gray-900 mb-2",children:p}),E.jsx("input",{type:"text",className:"w-full rounded-lg border-gray-300",placeholder:"Your answer...",onChange:y=>h(`q_${v}`,y.target.value)})]},v):E.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-100 transition-all hover:border-brand-200 hover:shadow-sm",children:[E.jsxs("label",{className:"block font-bold text-gray-900 mb-3 flex gap-2",children:[E.jsxs("span",{className:"text-brand-600",children:[v+1,"."]}),p.text]}),p.type==="text"&&E.jsx("textarea",{rows:3,className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500",placeholder:"...",value:i[p.id]||"",onChange:y=>h(p.id,y.target.value)}),p.type==="choice"&&p.options&&E.jsx("div",{className:"space-y-2",children:p.options.map(y=>E.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 cursor-pointer hover:border-brand-300 transition-colors",children:[E.jsx("input",{type:"radio",name:p.id,value:y,checked:i[p.id]===y,onChange:()=>h(p.id,y),className:"w-4 h-4 text-brand-600 focus:ring-brand-500 border-gray-300"}),E.jsx("span",{className:"text-gray-700",children:y})]},y))}),p.type==="scale"&&p.options&&E.jsx("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg border border-gray-200",children:p.options.map(y=>E.jsxs("label",{className:"flex flex-col items-center gap-2 cursor-pointer group",children:[E.jsx("input",{type:"radio",name:p.id,value:y,checked:i[p.id]===y,onChange:()=>h(p.id,y),className:"w-5 h-5 text-brand-600 focus:ring-brand-500 border-gray-300"}),E.jsx("span",{className:"text-sm font-medium text-gray-600 group-hover:text-brand-600 transition-colors",children:y})]},y))})]},p.id))})]}),E.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-4",children:[n&&E.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 text-gray-700 hover:bg-gray-200 rounded-xl font-medium transition-colors cursor-pointer",disabled:r,children:""}),E.jsxs("button",{type:t.type==="QUESTIONNAIRE"?"submit":"button",form:t.type==="QUESTIONNAIRE"?"questionnaire-form":void 0,onClick:t.type==="CONSENT"?()=>e({}):void 0,disabled:r,className:"px-8 py-2.5 bg-brand-600 text-white rounded-xl font-medium hover:bg-brand-700 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 cursor-pointer",children:[r?"...":t.type==="CONSENT"?"":"",!r&&E.jsx(K6,{className:"w-5 h-5"})]})]}),s&&E.jsx("div",{className:"px-6 pb-6 text-red-500 text-sm font-medium text-center animate-pulse",children:s})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aP,oP;function sP(){return{geminiUrl:aP,vertexUrl:oP}}function lP(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=sP();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sa{}function Ke(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];x(h,e.slice(a+1),n[f])}else for(const f of c)x(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];x(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function uP(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Uv(t,i,a,0,s)}}function Uv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])Uv(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const v of n.slice(r))v==="*"?p.push(f):p.push(v);x(s,p,h)}for(const f of u)delete s[f]}}else{const s=t;a in s&&Uv(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cP(t){const e={},n=g(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function fP(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const s=g(t,["response","generateVideoResponse"]);return s!=null&&x(e,["response"],hP(s)),e}function dP(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const s=g(t,["response"]);return s!=null&&x(e,["response"],pP(s)),e}function hP(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>mP(s))),x(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function pP(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>gP(s))),x(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function mP(t){const e={},n=g(t,["video"]);return n!=null&&x(e,["video"],EP(n)),e}function gP(t){const e={},n=g(t,["_self"]);return n!=null&&x(e,["video"],_P(n)),e}function vP(t){const e={},n=g(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function yP(t){const e={},n=g(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function xP(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const s=g(t,["response"]);return s!=null&&x(e,["response"],bP(s)),e}function bP(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function TN(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const s=g(t,["response"]);return s!=null&&x(e,["response"],wP(s)),e}function wP(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function EP(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],Qy(r));const i=g(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function _P(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],Qy(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var FE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(FE||(FE={}));var qE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qE||(qE={}));var HE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(HE||(HE={}));var lo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(lo||(lo={}));var GE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GE||(GE={}));var VE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(VE||(VE={}));var $E;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})($E||($E={}));var YE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(YE||(YE={}));var WE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(WE||(WE={}));var KE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(KE||(KE={}));var XE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(XE||(XE={}));var ZE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ZE||(ZE={}));var JE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(JE||(JE={}));var QE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(QE||(QE={}));var e_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(e_||(e_={}));var t_;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(t_||(t_={}));var n_;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(n_||(n_={}));var r_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(r_||(r_={}));var i_;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(i_||(i_={}));var cd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(cd||(cd={}));var a_;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(a_||(a_={}));var o_;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(o_||(o_={}));var s_;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(s_||(s_={}));var Bv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bv||(Bv={}));var l_;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(l_||(l_={}));var u_;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(u_||(u_={}));var c_;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(c_||(c_={}));var f_;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(f_||(f_={}));var d_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(d_||(d_={}));var h_;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(h_||(h_={}));var p_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(p_||(p_={}));var m_;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(m_||(m_={}));var g_;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(g_||(g_={}));var v_;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(v_||(v_={}));var y_;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(y_||(y_={}));var x_;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(x_||(x_={}));var b_;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(b_||(b_={}));var w_;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(w_||(w_={}));var E_;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(E_||(E_={}));var __;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(__||(__={}));var S_;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(S_||(S_={}));var A_;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(A_||(A_={}));var T_;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(T_||(T_={}));var C_;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(C_||(C_={}));var N_;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(N_||(N_={}));var D_;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(D_||(D_={}));var R_;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(R_||(R_={}));var I_;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(I_||(I_={}));var M_;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(M_||(M_={}));var O_;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(O_||(O_={}));var k_;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(k_||(k_={}));var P_;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(P_||(P_={}));var L_;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(L_||(L_={}));var U_;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(U_||(U_={}));var el;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(el||(el={}));class jv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class wu{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const v of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,C]of Object.entries(v))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(C!==null||C!==void 0)&&p.push(y);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,f+=v.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,y]of Object.entries(p))v!=="inlineData"&&(y!==null||y!==void 0)&&h.push(v);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class B_{}class j_{}class SP{}class AP{}class TP{}class CP{}class z_{}class F_{}class q_{}class NP{}class fd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new fd;let i;const a=e;return n?i=dP(a):i=fP(a),Object.assign(r,i),r}}class H_{}class G_{}class V_{}class DP{}class RP{}class IP{}class ex{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ex,a=xP(e);return Object.assign(r,a),r}}class MP{}class OP{}class kP{}class $_{}class PP{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class LP{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class tx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new tx,a=TN(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ut(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function CN(t,e){const n=Ut(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function NN(t){return Array.isArray(t)?t.map(e=>dd(e)):[dd(t)]}function dd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function DN(t){const e=dd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function RN(t){const e=dd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Y_(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function IN(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Y_(e)):[Y_(t)]}function zv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function W_(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function K_(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fr(t){if(t==null)throw new Error("ContentUnion is required");return zv(t)?t:{role:"user",parts:IN(t)}}function nx(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=fr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=fr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>fr(n)):[fr(e)]}function li(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(W_(t)||K_(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fr(t)]}const e=[],n=[],r=zv(t[0]);for(const i of t){const a=zv(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(W_(i)||K_(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:IN(n)}),e}function UP(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(lo).includes(n[0].toUpperCase())?n[0].toUpperCase():lo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(lo).includes(r.toUpperCase())?r.toUpperCase():lo.TYPE_UNSPECIFIED})}}function rl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&UP(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(lo).includes(u.toUpperCase())?u.toUpperCase():lo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=rl(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(rl(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=rl(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function rx(t){return rl(t)}function ix(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ax(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function xl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=rl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=rl(e.response));return t}function bl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function BP(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Aa(t,e){if(typeof e!="string")throw new Error("name must be a string");return BP(t,e,"cachedContents")}function MN(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function vo(t){return Qy(t)}function jP(t){return t!=null&&typeof t=="object"&&"name"in t}function zP(t){return t!=null&&typeof t=="object"&&"video"in t}function FP(t){return t!=null&&typeof t=="object"&&"uri"in t}function ON(t){var e;let n;if(jP(t)&&(n=t.name),!(FP(t)&&(n=t.uri,n===void 0))&&!(zP(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function kN(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function PN(t){for(const e of["models","tunedModels","publisherModels"])if(qP(t,e))return t[e];return[]}function qP(t,e){return t!==null&&typeof t=="object"&&e in t}function HP(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function GP(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=HP(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function LN(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function VP(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function UN(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function wl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function BN(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $P(t){const e={},n=g(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>T8(s))),x(e,["inlinedResponses"],a)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["inlinedEmbedContentResponses"],a)}return e}function YP(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function WP(t){const e={},n=g(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ed(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&x(e,["state"],BN(i));const a=g(t,["metadata","createTime"]);a!=null&&x(e,["createTime"],a);const s=g(t,["metadata","endTime"]);s!=null&&x(e,["endTime"],s);const u=g(t,["metadata","updateTime"]);u!=null&&x(e,["updateTime"],u);const c=g(t,["metadata","model"]);c!=null&&x(e,["model"],c);const f=g(t,["metadata","output"]);return f!=null&&x(e,["dest"],$P(UN(f))),e}function Fv(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["state"]);i!=null&&x(e,["state"],BN(i));const a=g(t,["error"]);a!=null&&x(e,["error"],a);const s=g(t,["createTime"]);s!=null&&x(e,["createTime"],s);const u=g(t,["startTime"]);u!=null&&x(e,["startTime"],u);const c=g(t,["endTime"]);c!=null&&x(e,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&x(e,["updateTime"],f);const h=g(t,["model"]);h!=null&&x(e,["model"],h);const p=g(t,["inputConfig"]);p!=null&&x(e,["src"],KP(p));const v=g(t,["outputConfig"]);v!=null&&x(e,["dest"],YP(UN(v)));const y=g(t,["completionStats"]);return y!=null&&x(e,["completionStats"],y),e}function KP(t){const e={},n=g(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function XP(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>A8(t,s))),x(n,["requests","requests"],a)}return n}function ZP(t){const e={},n=g(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function JP(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function QP(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],wl(t,r)),n}function e8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],wl(t,r)),n}function t8(t){const e={},n=g(t,["content"]);n!=null&&x(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],n8(r));const i=g(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const s=g(t,["avgLogprobs"]);s!=null&&x(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&x(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&x(e,["index"],c);const f=g(t,["logprobsResult"]);f!=null&&x(e,["logprobsResult"],f);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(y=>y)),x(e,["safetyRatings"],v)}const p=g(t,["urlContextMetadata"]);return p!=null&&x(e,["urlContextMetadata"],p),e}function n8(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function jN(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>O8(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function r8(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function i8(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],WP(VP(i))),n}function X_(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["src"]);i!=null&&x(n,["batch","inputConfig"],XP(t,LN(t,i)));const a=g(e,["config"]);return a!=null&&r8(a,n),n}function a8(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],Ut(t,r));const i=g(e,["src"]);i!=null&&x(n,["inputConfig"],ZP(LN(t,i)));const a=g(e,["config"]);return a!=null&&i8(a,n),n}function o8(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function s8(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["src"]);i!=null&&x(n,["batch","inputConfig"],p8(t,i));const a=g(e,["config"]);return a!=null&&o8(a,n),n}function l8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],wl(t,r)),n}function u8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],wl(t,r)),n}function c8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);return a!=null&&x(e,["error"],a),e}function f8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);return a!=null&&x(e,["error"],a),e}function d8(t,e){const n={},r=g(e,["contents"]);if(r!=null){let a=nx(t,r);Array.isArray(a)&&(a=a.map(s=>s)),x(n,["requests[]","request","content"],a)}const i=g(e,["config"]);return i!=null&&(x(n,["_self"],h8(i,n)),uP(n,{"requests[].*":"requests[].request.*"})),n}function h8(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function p8(t,e){const n={},r=g(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],d8(t,i)),n}function m8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function g8(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function v8(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function y8(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],jN(fr(i)));const a=g(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&x(r,["topP"],s);const u=g(e,["topK"]);u!=null&&x(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const p=g(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const v=g(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const y=g(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const C=g(e,["frequencyPenalty"]);C!=null&&x(r,["frequencyPenalty"],C);const S=g(e,["seed"]);S!=null&&x(r,["seed"],S);const b=g(e,["responseMimeType"]);b!=null&&x(r,["responseMimeType"],b);const T=g(e,["responseSchema"]);T!=null&&x(r,["responseSchema"],rx(T));const D=g(e,["responseJsonSchema"]);if(D!=null&&x(r,["responseJsonSchema"],D),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=g(e,["safetySettings"]);if(n!==void 0&&I!=null){let W=I;Array.isArray(W)&&(W=W.map(re=>k8(re))),x(n,["safetySettings"],W)}const P=g(e,["tools"]);if(n!==void 0&&P!=null){let W=bl(P);Array.isArray(W)&&(W=W.map(re=>L8(xl(re)))),x(n,["tools"],W)}const M=g(e,["toolConfig"]);if(n!==void 0&&M!=null&&x(n,["toolConfig"],P8(M)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=g(e,["cachedContent"]);n!==void 0&&O!=null&&x(n,["cachedContent"],Aa(t,O));const L=g(e,["responseModalities"]);L!=null&&x(r,["responseModalities"],L);const z=g(e,["mediaResolution"]);z!=null&&x(r,["mediaResolution"],z);const B=g(e,["speechConfig"]);if(B!=null&&x(r,["speechConfig"],ix(B)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=g(e,["thinkingConfig"]);q!=null&&x(r,["thinkingConfig"],q);const Y=g(e,["imageConfig"]);return Y!=null&&x(r,["imageConfig"],S8(Y)),r}function x8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>t8(f))),x(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const s=g(t,["responseId"]);s!=null&&x(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function b8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],wl(t,r)),n}function w8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],wl(t,r)),n}function E8(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function _8(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function S8(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function A8(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["request","model"],Ut(t,r));const i=g(e,["contents"]);if(i!=null){let u=li(i);Array.isArray(u)&&(u=u.map(c=>jN(c))),x(n,["request","contents"],u)}const a=g(e,["metadata"]);a!=null&&x(n,["metadata"],a);const s=g(e,["config"]);return s!=null&&x(n,["request","generationConfig"],y8(t,s,g(n,["request"],{}))),n}function T8(t){const e={},n=g(t,["response"]);n!=null&&x(e,["response"],x8(n));const r=g(t,["error"]);return r!=null&&x(e,["error"],r),e}function C8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function N8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const a=g(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),n}function D8(t){const e={},n=g(t,["config"]);return n!=null&&C8(n,e),e}function R8(t){const e={},n=g(t,["config"]);return n!=null&&N8(n,e),e}function I8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ed(s))),x(e,["batchJobs"],a)}return e}function M8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Fv(s))),x(e,["batchJobs"],a)}return e}function O8(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],m8(a));const s=g(t,["functionCall"]);s!=null&&x(e,["functionCall"],g8(s));const u=g(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&x(e,["inlineData"],JP(c));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const h=g(t,["thought"]);h!=null&&x(e,["thought"],h);const p=g(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function k8(t){const e={},n=g(t,["category"]);if(n!=null&&x(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function P8(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],v8(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function L8(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],E8(u));const c=g(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],_8(c));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ha;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ha||(ha={}));class ts{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U8 extends Sa{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new ts(ha.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=X_(this.apiClient,e),r=n._url,i=Ke("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const v=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=v,p.request=y}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=a8(this.apiClient,e);return u=Ke("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Fv(h))}else{const f=X_(this.apiClient,e);return u=Ke("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>ed(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s8(this.apiClient,e);return a=Ke("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>ed(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=w8(this.apiClient,e);return u=Ke("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Fv(h))}else{const f=b8(this.apiClient,e);return u=Ke("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>ed(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=e8(this.apiClient,e);s=Ke("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=QP(this.apiClient,e);s=Ke("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=R8(e);return u=Ke("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=M8(h),v=new $_;return Object.assign(v,p),v})}else{const f=D8(e);return u=Ke("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=I8(h),v=new $_;return Object.assign(v,p),v})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=u8(this.apiClient,e);return u=Ke("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>f8(h))}else{const f=l8(this.apiClient,e);return u=Ke("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>c8(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B8(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Z_(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>sL(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function j8(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let h=li(s);Array.isArray(h)&&(h=h.map(p=>Z_(p))),x(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&x(e,["systemInstruction"],Z_(fr(u)));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>uL(p))),x(e,["tools"],h)}const f=g(t,["toolConfig"]);if(e!==void 0&&f!=null&&x(e,["toolConfig"],lL(f)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function z8(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=g(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let p=li(s);Array.isArray(p)&&(p=p.map(v=>v)),x(e,["contents"],p)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&x(e,["systemInstruction"],fr(u));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>cL(v))),x(e,["tools"],p)}const f=g(t,["toolConfig"]);e!==void 0&&f!=null&&x(e,["toolConfig"],f);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&x(e,["encryption_spec","kmsKeyName"],h),n}function F8(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],CN(t,r));const i=g(e,["config"]);return i!=null&&j8(i,n),n}function q8(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["model"],CN(t,r));const i=g(e,["config"]);return i!=null&&z8(i,n),n}function H8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Aa(t,r)),n}function G8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Aa(t,r)),n}function V8(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function $8(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Y8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function W8(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function K8(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function X8(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&x(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&x(e,["responseJsonSchema"],u),e}function Z8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Aa(t,r)),n}function J8(t,e){const n={},r=g(e,["name"]);return r!=null&&x(n,["_url","name"],Aa(t,r)),n}function Q8(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function eL(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function tL(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function nL(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function rL(t){const e={},n=g(t,["config"]);return n!=null&&tL(n,e),e}function iL(t){const e={},n=g(t,["config"]);return n!=null&&nL(n,e),e}function aL(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["cachedContents"],a)}return e}function oL(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["cachedContents"],a)}return e}function sL(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],Y8(a));const s=g(t,["functionCall"]);s!=null&&x(e,["functionCall"],W8(s));const u=g(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&x(e,["inlineData"],B8(c));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const h=g(t,["thought"]);h!=null&&x(e,["thought"],h);const p=g(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function lL(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],K8(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function uL(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],Q8(u));const c=g(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],eL(c));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function cL(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>X8(v))),x(e,["functionDeclarations"],p)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&x(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function fL(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function dL(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function hL(t,e){const n={},r=g(e,["name"]);r!=null&&x(n,["_url","name"],Aa(t,r));const i=g(e,["config"]);return i!=null&&fL(i,n),n}function pL(t,e){const n={},r=g(e,["name"]);r!=null&&x(n,["_url","name"],Aa(t,r));const i=g(e,["config"]);return i!=null&&dL(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mL extends Sa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ts(ha.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=q8(this.apiClient,e);return u=Ke("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=F8(this.apiClient,e);return u=Ke("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=J8(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Z8(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=G8(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=$8(h),v=new G_;return Object.assign(v,p),v})}else{const f=H8(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=V8(h),v=new G_;return Object.assign(v,p),v})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=pL(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=hL(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=iL(e);return u=Ke("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=oL(h),v=new V_;return Object.assign(v,p),v})}else{const f=rL(e);return u=Ke("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=aL(h),v=new V_;return Object.assign(v,p),v})}}}function J_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rn(t){return this instanceof rn?(this.v=t,this):new rn(t)}function il(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function u(y,C){r[y]&&(i[y]=function(S){return new Promise(function(b,T){a.push([y,S,b,T])>1||c(y,S)})},C&&(i[y]=C(i[y])))}function c(y,C){try{f(r[y](C))}catch(S){v(a[0][3],S)}}function f(y){y.value instanceof rn?Promise.resolve(y.value.v).then(h,p):v(a[0][2],y)}function h(y){c("next",y)}function p(y){c("throw",y)}function v(y,C){y(C),a.shift(),a.length&&c(a[0][0],a[0][1])}}function ku(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof J_=="function"?J_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(f){a({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gL(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:zN(n)}function zN(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function vL(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Q_(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!zN(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class yL{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new xL(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xL{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),vL(a)}async sendMessage(e){var n;await this.sendPromise;const r=fr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(p))!==null&&u!==void 0?u:[]);const y=f?[f]:[];this.recordHistory(r,y,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=fr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?Q_(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return il(this,arguments,function*(){var s,u,c,f;const h=[];try{for(var p=!0,v=ku(e),y;y=yield rn(v.next()),s=y.done,!s;p=!0){f=y.value,p=!1;const C=f;if(gL(C)){const S=(i=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield rn(C)}}catch(C){u={error:C}}finally{try{!p&&!s&&(c=v.return)&&(yield rn(c.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Q_(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bL(t){const e={},n=g(t,["file"]);return n!=null&&x(e,["file"],n),e}function wL(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function EL(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","file"],ON(n)),e}function _L(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function SL(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","file"],ON(n)),e}function AL(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function TL(t){const e={},n=g(t,["config"]);return n!=null&&AL(n,e),e}function CL(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NL extends Sa{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ts(ha.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=TL(e);return a=Ke("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=CL(c),h=new MP;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bL(e);return a=Ke("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=wL(c),h=new OP;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=SL(e);return a=Ke("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=EL(e);return a=Ke("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=_L(c),h=new kP;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function td(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function DL(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>VL(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function RL(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function IL(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ML(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&x(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&x(e,["responseJsonSchema"],u),e}function OL(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const s=g(t,["enableAffectiveDialog"]);s!=null&&x(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&x(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&x(e,["logprobs"],c);const f=g(t,["maxOutputTokens"]);f!=null&&x(e,["maxOutputTokens"],f);const h=g(t,["mediaResolution"]);h!=null&&x(e,["mediaResolution"],h);const p=g(t,["presencePenalty"]);p!=null&&x(e,["presencePenalty"],p);const v=g(t,["responseLogprobs"]);v!=null&&x(e,["responseLogprobs"],v);const y=g(t,["responseMimeType"]);y!=null&&x(e,["responseMimeType"],y);const C=g(t,["responseModalities"]);C!=null&&x(e,["responseModalities"],C);const S=g(t,["responseSchema"]);S!=null&&x(e,["responseSchema"],S);const b=g(t,["routingConfig"]);b!=null&&x(e,["routingConfig"],b);const T=g(t,["seed"]);T!=null&&x(e,["seed"],T);const D=g(t,["speechConfig"]);D!=null&&x(e,["speechConfig"],FN(D));const I=g(t,["stopSequences"]);I!=null&&x(e,["stopSequences"],I);const P=g(t,["temperature"]);P!=null&&x(e,["temperature"],P);const M=g(t,["thinkingConfig"]);M!=null&&x(e,["thinkingConfig"],M);const O=g(t,["topK"]);O!=null&&x(e,["topK"],O);const L=g(t,["topP"]);if(L!=null&&x(e,["topP"],L),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function kL(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function PL(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function LL(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const p=g(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],ax(p));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const y=g(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const C=g(t,["systemInstruction"]);e!==void 0&&C!=null&&x(e,["setup","systemInstruction"],DL(fr(C)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let O=bl(S);Array.isArray(O)&&(O=O.map(L=>YL(xl(L)))),x(e,["setup","tools"],O)}const b=g(t,["sessionResumption"]);e!==void 0&&b!=null&&x(e,["setup","sessionResumption"],$L(b));const T=g(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&x(e,["setup","inputAudioTranscription"],T);const D=g(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&x(e,["setup","outputAudioTranscription"],D);const I=g(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const P=g(t,["contextWindowCompression"]);e!==void 0&&P!=null&&x(e,["setup","contextWindowCompression"],P);const M=g(t,["proactivity"]);return e!==void 0&&M!=null&&x(e,["setup","proactivity"],M),n}function UL(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],OL(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const p=g(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],FN(ax(p)));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const y=g(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const C=g(t,["systemInstruction"]);e!==void 0&&C!=null&&x(e,["setup","systemInstruction"],fr(C));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let O=bl(S);Array.isArray(O)&&(O=O.map(L=>WL(xl(L)))),x(e,["setup","tools"],O)}const b=g(t,["sessionResumption"]);e!==void 0&&b!=null&&x(e,["setup","sessionResumption"],b);const T=g(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&x(e,["setup","inputAudioTranscription"],T);const D=g(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&x(e,["setup","outputAudioTranscription"],D);const I=g(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const P=g(t,["contextWindowCompression"]);e!==void 0&&P!=null&&x(e,["setup","contextWindowCompression"],P);const M=g(t,["proactivity"]);return e!==void 0&&M!=null&&x(e,["setup","proactivity"],M),n}function BL(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],Ut(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],LL(i,n)),n}function jL(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],Ut(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],UL(i,n)),n}function zL(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function FL(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function qL(t){const e={},n=g(t,["media"]);if(n!=null){let f=NN(n);Array.isArray(f)&&(f=f.map(h=>td(h))),x(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&x(e,["audio"],td(RN(r)));const i=g(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&x(e,["video"],td(DN(a)));const s=g(t,["text"]);s!=null&&x(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&x(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&x(e,["activityEnd"],c),e}function HL(t){const e={},n=g(t,["media"]);if(n!=null){let f=NN(n);Array.isArray(f)&&(f=f.map(h=>h)),x(e,["mediaChunks"],f)}const r=g(t,["audio"]);r!=null&&x(e,["audio"],RN(r));const i=g(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=g(t,["video"]);a!=null&&x(e,["video"],DN(a));const s=g(t,["text"]);s!=null&&x(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&x(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&x(e,["activityEnd"],c),e}function GL(t){const e={},n=g(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const a=g(t,["toolCallCancellation"]);a!=null&&x(e,["toolCallCancellation"],a);const s=g(t,["usageMetadata"]);s!=null&&x(e,["usageMetadata"],KL(s));const u=g(t,["goAway"]);u!=null&&x(e,["goAway"],u);const c=g(t,["sessionResumptionUpdate"]);return c!=null&&x(e,["sessionResumptionUpdate"],c),e}function VL(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],RL(a));const s=g(t,["functionCall"]);s!=null&&x(e,["functionCall"],IL(s));const u=g(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&x(e,["inlineData"],td(c));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const h=g(t,["thought"]);h!=null&&x(e,["thought"],h);const p=g(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function $L(t){const e={},n=g(t,["handle"]);if(n!=null&&x(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FN(t){const e={},n=g(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function YL(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],kL(u));const c=g(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],PL(c));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function WL(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>ML(v))),x(e,["functionDeclarations"],p)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&x(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function KL(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const a=g(t,["toolUsePromptTokenCount"]);a!=null&&x(e,["toolUsePromptTokenCount"],a);const s=g(t,["thoughtsTokenCount"]);s!=null&&x(e,["thoughtsTokenCount"],s);const u=g(t,["totalTokenCount"]);u!=null&&x(e,["totalTokenCount"],u);const c=g(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(C=>C)),x(e,["promptTokensDetails"],y)}const f=g(t,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(C=>C)),x(e,["cacheTokensDetails"],y)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(C=>C)),x(e,["responseTokensDetails"],y)}const p=g(t,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(C=>C)),x(e,["toolUsePromptTokensDetails"],y)}const v=g(t,["trafficType"]);return v!=null&&x(e,["trafficType"],v),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XL(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function ZL(t){const e={},n=g(t,["content"]);n!=null&&x(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],JL(r));const i=g(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=g(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const s=g(t,["avgLogprobs"]);s!=null&&x(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&x(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&x(e,["index"],c);const f=g(t,["logprobsResult"]);f!=null&&x(e,["logprobsResult"],f);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(y=>y)),x(e,["safetyRatings"],v)}const p=g(t,["urlContextMetadata"]);return p!=null&&x(e,["urlContextMetadata"],p),e}function JL(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function QL(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["contents"]);if(i!=null){let a=li(i);Array.isArray(a)&&(a=a.map(s=>s)),x(n,["contents"],a)}return n}function e7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["tokensInfo"],i)}return e}function t7(t){const e={},n=g(t,["values"]);n!=null&&x(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&x(e,["statistics"],n7(r)),e}function n7(t){const e={},n=g(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function dh(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>f9(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function r7(t){const e={},n=g(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function i7(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function a7(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],fr(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>$N(u))),x(e,["tools"],s)}const a=g(t,["generationConfig"]);return e!==void 0&&a!=null&&x(e,["generationConfig"],X7(a)),n}function o7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["contents"]);if(i!=null){let s=li(i);Array.isArray(s)&&(s=s.map(u=>dh(u))),x(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&i7(a),n}function s7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["contents"]);if(i!=null){let s=li(i);Array.isArray(s)&&(s=s.map(u=>u)),x(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&a7(a,n),n}function l7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function u7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function c7(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],Ut(t,r)),n}function f7(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],Ut(t,r)),n}function d7(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function h7(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function p7(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&x(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&x(e,["parameters","personGeneration"],h);const p=g(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&x(e,["parameters","includeRaiReason"],v);const y=g(t,["language"]);e!==void 0&&y!=null&&x(e,["parameters","language"],y);const C=g(t,["outputMimeType"]);e!==void 0&&C!=null&&x(e,["parameters","outputOptions","mimeType"],C);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&x(e,["parameters","outputOptions","compressionQuality"],S);const b=g(t,["addWatermark"]);e!==void 0&&b!=null&&x(e,["parameters","addWatermark"],b);const T=g(t,["labels"]);e!==void 0&&T!=null&&x(e,["labels"],T);const D=g(t,["editMode"]);e!==void 0&&D!=null&&x(e,["parameters","editMode"],D);const I=g(t,["baseSteps"]);return e!==void 0&&I!=null&&x(e,["parameters","editConfig","baseSteps"],I),n}function m7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>v9(c))),x(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&p7(s,n),n}function g7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>hh(a))),x(e,["generatedImages"],i)}return e}function v7(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=g(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function y7(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const a=g(t,["outputDimensionality"]);e!==void 0&&a!=null&&x(e,["parameters","outputDimensionality"],a);const s=g(t,["mimeType"]);e!==void 0&&s!=null&&x(e,["instances[]","mimeType"],s);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&x(e,["parameters","autoTruncate"],u),n}function x7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["contents"]);if(i!=null){let u=nx(t,i);Array.isArray(u)&&(u=u.map(c=>c)),x(n,["requests[]","content"],u)}const a=g(e,["config"]);a!=null&&v7(a,n);const s=g(e,["model"]);return s!==void 0&&x(n,["requests[]","model"],Ut(t,s)),n}function b7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["contents"]);if(i!=null){let s=nx(t,i);Array.isArray(s)&&(s=s.map(u=>u)),x(n,["instances[]","content"],s)}const a=g(e,["config"]);return a!=null&&y7(a,n),n}function w7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function E7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>t7(s))),x(e,["embeddings"],a)}const i=g(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function _7(t){const e={},n=g(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function S7(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function A7(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function T7(t){const e={},n=g(t,["mode"]);n!=null&&x(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function C7(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&x(e,["description"],n);const r=g(t,["name"]);r!=null&&x(e,["name"],r);const i=g(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=g(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=g(t,["response"]);s!=null&&x(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&x(e,["responseJsonSchema"],u),e}function N7(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],dh(fr(i)));const a=g(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&x(r,["topP"],s);const u=g(e,["topK"]);u!=null&&x(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const p=g(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const v=g(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const y=g(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const C=g(e,["frequencyPenalty"]);C!=null&&x(r,["frequencyPenalty"],C);const S=g(e,["seed"]);S!=null&&x(r,["seed"],S);const b=g(e,["responseMimeType"]);b!=null&&x(r,["responseMimeType"],b);const T=g(e,["responseSchema"]);T!=null&&x(r,["responseSchema"],rx(T));const D=g(e,["responseJsonSchema"]);if(D!=null&&x(r,["responseJsonSchema"],D),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=g(e,["safetySettings"]);if(n!==void 0&&I!=null){let W=I;Array.isArray(W)&&(W=W.map(re=>y9(re))),x(n,["safetySettings"],W)}const P=g(e,["tools"]);if(n!==void 0&&P!=null){let W=bl(P);Array.isArray(W)&&(W=W.map(re=>A9(xl(re)))),x(n,["tools"],W)}const M=g(e,["toolConfig"]);if(n!==void 0&&M!=null&&x(n,["toolConfig"],S9(M)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=g(e,["cachedContent"]);n!==void 0&&O!=null&&x(n,["cachedContent"],Aa(t,O));const L=g(e,["responseModalities"]);L!=null&&x(r,["responseModalities"],L);const z=g(e,["mediaResolution"]);z!=null&&x(r,["mediaResolution"],z);const B=g(e,["speechConfig"]);if(B!=null&&x(r,["speechConfig"],ix(B)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=g(e,["thinkingConfig"]);q!=null&&x(r,["thinkingConfig"],q);const Y=g(e,["imageConfig"]);return Y!=null&&x(r,["imageConfig"],t9(Y)),r}function D7(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],fr(i));const a=g(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=g(e,["topP"]);s!=null&&x(r,["topP"],s);const u=g(e,["topK"]);u!=null&&x(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const p=g(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const v=g(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const y=g(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const C=g(e,["frequencyPenalty"]);C!=null&&x(r,["frequencyPenalty"],C);const S=g(e,["seed"]);S!=null&&x(r,["seed"],S);const b=g(e,["responseMimeType"]);b!=null&&x(r,["responseMimeType"],b);const T=g(e,["responseSchema"]);T!=null&&x(r,["responseSchema"],rx(T));const D=g(e,["responseJsonSchema"]);D!=null&&x(r,["responseJsonSchema"],D);const I=g(e,["routingConfig"]);I!=null&&x(r,["routingConfig"],I);const P=g(e,["modelSelectionConfig"]);P!=null&&x(r,["modelConfig"],P);const M=g(e,["safetySettings"]);if(n!==void 0&&M!=null){let X=M;Array.isArray(X)&&(X=X.map(Q=>Q)),x(n,["safetySettings"],X)}const O=g(e,["tools"]);if(n!==void 0&&O!=null){let X=bl(O);Array.isArray(X)&&(X=X.map(Q=>$N(xl(Q)))),x(n,["tools"],X)}const L=g(e,["toolConfig"]);n!==void 0&&L!=null&&x(n,["toolConfig"],L);const z=g(e,["labels"]);n!==void 0&&z!=null&&x(n,["labels"],z);const B=g(e,["cachedContent"]);n!==void 0&&B!=null&&x(n,["cachedContent"],Aa(t,B));const q=g(e,["responseModalities"]);q!=null&&x(r,["responseModalities"],q);const Y=g(e,["mediaResolution"]);Y!=null&&x(r,["mediaResolution"],Y);const W=g(e,["speechConfig"]);W!=null&&x(r,["speechConfig"],VN(ix(W)));const re=g(e,["audioTimestamp"]);re!=null&&x(r,["audioTimestamp"],re);const me=g(e,["thinkingConfig"]);me!=null&&x(r,["thinkingConfig"],me);const Z=g(e,["imageConfig"]);return Z!=null&&x(r,["imageConfig"],n9(Z)),r}function eS(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["contents"]);if(i!=null){let s=li(i);Array.isArray(s)&&(s=s.map(u=>dh(u))),x(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&x(n,["generationConfig"],N7(t,a,n)),n}function tS(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["contents"]);if(i!=null){let s=li(i);Array.isArray(s)&&(s=s.map(u=>u)),x(n,["contents"],s)}const a=g(e,["config"]);return a!=null&&x(n,["generationConfig"],D7(t,a,n)),n}function nS(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>ZL(f))),x(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=g(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const s=g(t,["responseId"]);s!=null&&x(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function rS(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),x(e,["candidates"],f)}const i=g(t,["createTime"]);i!=null&&x(e,["createTime"],i);const a=g(t,["modelVersion"]);a!=null&&x(e,["modelVersion"],a);const s=g(t,["promptFeedback"]);s!=null&&x(e,["promptFeedback"],s);const u=g(t,["responseId"]);u!=null&&x(e,["responseId"],u);const c=g(t,["usageMetadata"]);return c!=null&&x(e,["usageMetadata"],c),e}function R7(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const a=g(t,["guidanceScale"]);if(e!==void 0&&a!=null&&x(e,["parameters","guidanceScale"],a),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&x(e,["parameters","safetySetting"],s);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&x(e,["parameters","personGeneration"],u);const c=g(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&x(e,["parameters","includeSafetyAttributes"],c);const f=g(t,["includeRaiReason"]);e!==void 0&&f!=null&&x(e,["parameters","includeRaiReason"],f);const h=g(t,["language"]);e!==void 0&&h!=null&&x(e,["parameters","language"],h);const p=g(t,["outputMimeType"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","mimeType"],p);const v=g(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&x(e,["parameters","outputOptions","compressionQuality"],v),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=g(t,["imageSize"]);if(e!==void 0&&y!=null&&x(e,["parameters","sampleImageSize"],y),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function I7(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=g(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&x(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const f=g(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&x(e,["parameters","personGeneration"],h);const p=g(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&x(e,["parameters","includeRaiReason"],v);const y=g(t,["language"]);e!==void 0&&y!=null&&x(e,["parameters","language"],y);const C=g(t,["outputMimeType"]);e!==void 0&&C!=null&&x(e,["parameters","outputOptions","mimeType"],C);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&x(e,["parameters","outputOptions","compressionQuality"],S);const b=g(t,["addWatermark"]);e!==void 0&&b!=null&&x(e,["parameters","addWatermark"],b);const T=g(t,["labels"]);e!==void 0&&T!=null&&x(e,["labels"],T);const D=g(t,["imageSize"]);e!==void 0&&D!=null&&x(e,["parameters","sampleImageSize"],D);const I=g(t,["enhancePrompt"]);return e!==void 0&&I!=null&&x(e,["parameters","enhancePrompt"],I),n}function M7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&R7(a,n),n}function O7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["config"]);return a!=null&&I7(a,n),n}function k7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>$7(s))),x(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],HN(i)),e}function P7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>hh(s))),x(e,["generatedImages"],a)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],GN(i)),e}function L7(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const s=g(t,["resolution"]);e!==void 0&&s!=null&&x(e,["parameters","resolution"],s);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&x(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(t,["negativePrompt"]);e!==void 0&&c!=null&&x(e,["parameters","negativePrompt"],c);const f=g(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&x(e,["parameters","enhancePrompt"],f),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&x(e,["instances[0]","lastFrame"],ph(h));const p=g(t,["referenceImages"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(y=>B9(y))),x(e,["instances[0]","referenceImages"],v)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function U7(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const a=g(t,["fps"]);e!==void 0&&a!=null&&x(e,["parameters","fps"],a);const s=g(t,["durationSeconds"]);e!==void 0&&s!=null&&x(e,["parameters","durationSeconds"],s);const u=g(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const c=g(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const f=g(t,["resolution"]);e!==void 0&&f!=null&&x(e,["parameters","resolution"],f);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&x(e,["parameters","personGeneration"],h);const p=g(t,["pubsubTopic"]);e!==void 0&&p!=null&&x(e,["parameters","pubsubTopic"],p);const v=g(t,["negativePrompt"]);e!==void 0&&v!=null&&x(e,["parameters","negativePrompt"],v);const y=g(t,["enhancePrompt"]);e!==void 0&&y!=null&&x(e,["parameters","enhancePrompt"],y);const C=g(t,["generateAudio"]);e!==void 0&&C!=null&&x(e,["parameters","generateAudio"],C);const S=g(t,["lastFrame"]);e!==void 0&&S!=null&&x(e,["instances[0]","lastFrame"],Ni(S));const b=g(t,["referenceImages"]);if(e!==void 0&&b!=null){let I=b;Array.isArray(I)&&(I=I.map(P=>j9(P))),x(e,["instances[0]","referenceImages"],I)}const T=g(t,["mask"]);e!==void 0&&T!=null&&x(e,["instances[0]","mask"],U9(T));const D=g(t,["compressionQuality"]);return e!==void 0&&D!=null&&x(e,["parameters","compressionQuality"],D),n}function B7(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const s=g(t,["response","generateVideoResponse"]);return s!=null&&x(e,["response"],q7(s)),e}function j7(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const s=g(t,["response"]);return s!=null&&x(e,["response"],H7(s)),e}function z7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&x(n,["instances[0]","image"],ph(a));const s=g(e,["video"]);s!=null&&x(n,["instances[0]","video"],YN(s));const u=g(e,["source"]);u!=null&&G7(u,n);const c=g(e,["config"]);return c!=null&&L7(c,n),n}function F7(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=g(e,["image"]);a!=null&&x(n,["instances[0]","image"],Ni(a));const s=g(e,["video"]);s!=null&&x(n,["instances[0]","video"],WN(s));const u=g(e,["source"]);u!=null&&V7(u,n);const c=g(e,["config"]);return c!=null&&U7(c,n),n}function q7(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>W7(s))),x(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function H7(t){const e={},n=g(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>K7(s))),x(e,["generatedVideos"],a)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function G7(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],ph(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],YN(a)),n}function V7(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Ni(i));const a=g(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],WN(a)),n}function $7(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["image"],r9(n));const r=g(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],HN(i)),e}function hh(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["image"],qN(n));const r=g(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&x(e,["safetyAttributes"],GN(i));const a=g(t,["prompt"]);return a!=null&&x(e,["enhancedPrompt"],a),e}function Y7(t){const e={},n=g(t,["_self"]);n!=null&&x(e,["mask"],qN(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["labels"],i)}return e}function W7(t){const e={},n=g(t,["video"]);return n!=null&&x(e,["video"],P9(n)),e}function K7(t){const e={},n=g(t,["_self"]);return n!=null&&x(e,["video"],L9(n)),e}function X7(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=g(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const s=g(t,["enableAffectiveDialog"]);s!=null&&x(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&x(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&x(e,["logprobs"],c);const f=g(t,["maxOutputTokens"]);f!=null&&x(e,["maxOutputTokens"],f);const h=g(t,["mediaResolution"]);h!=null&&x(e,["mediaResolution"],h);const p=g(t,["presencePenalty"]);p!=null&&x(e,["presencePenalty"],p);const v=g(t,["responseLogprobs"]);v!=null&&x(e,["responseLogprobs"],v);const y=g(t,["responseMimeType"]);y!=null&&x(e,["responseMimeType"],y);const C=g(t,["responseModalities"]);C!=null&&x(e,["responseModalities"],C);const S=g(t,["responseSchema"]);S!=null&&x(e,["responseSchema"],S);const b=g(t,["routingConfig"]);b!=null&&x(e,["routingConfig"],b);const T=g(t,["seed"]);T!=null&&x(e,["seed"],T);const D=g(t,["speechConfig"]);D!=null&&x(e,["speechConfig"],VN(D));const I=g(t,["stopSequences"]);I!=null&&x(e,["stopSequences"],I);const P=g(t,["temperature"]);P!=null&&x(e,["temperature"],P);const M=g(t,["thinkingConfig"]);M!=null&&x(e,["thinkingConfig"],M);const O=g(t,["topK"]);O!=null&&x(e,["topK"],O);const L=g(t,["topP"]);if(L!=null&&x(e,["topP"],L),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Z7(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],Ut(t,r)),n}function J7(t,e){const n={},r=g(e,["model"]);return r!=null&&x(n,["_url","name"],Ut(t,r)),n}function Q7(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function e9(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function t9(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function n9(t){const e={},n=g(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&x(e,["imageOutputOptions","mimeType"],i);const a=g(t,["outputCompressionQuality"]);return a!=null&&x(e,["imageOutputOptions","compressionQuality"],a),e}function r9(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],vo(n));const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function qN(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],vo(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function ph(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],vo(n));const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Ni(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],vo(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function i9(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const s=g(e,["filter"]);n!==void 0&&s!=null&&x(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],kN(t,u)),r}function a9(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=g(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const s=g(e,["filter"]);n!==void 0&&s!=null&&x(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],kN(t,u)),r}function o9(t,e){const n={},r=g(e,["config"]);return r!=null&&i9(t,r,n),n}function s9(t,e){const n={},r=g(e,["config"]);return r!=null&&a9(t,r,n),n}function l9(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=PN(i);Array.isArray(a)&&(a=a.map(s=>qv(s))),x(e,["models"],a)}return e}function u9(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let a=PN(i);Array.isArray(a)&&(a=a.map(s=>Hv(s))),x(e,["models"],a)}return e}function c9(t){const e={},n=g(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function qv(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);i!=null&&x(e,["description"],i);const a=g(t,["version"]);a!=null&&x(e,["version"],a);const s=g(t,["_self"]);s!=null&&x(e,["tunedModelInfo"],T9(s));const u=g(t,["inputTokenLimit"]);u!=null&&x(e,["inputTokenLimit"],u);const c=g(t,["outputTokenLimit"]);c!=null&&x(e,["outputTokenLimit"],c);const f=g(t,["supportedGenerationMethods"]);f!=null&&x(e,["supportedActions"],f);const h=g(t,["temperature"]);h!=null&&x(e,["temperature"],h);const p=g(t,["maxTemperature"]);p!=null&&x(e,["maxTemperature"],p);const v=g(t,["topP"]);v!=null&&x(e,["topP"],v);const y=g(t,["topK"]);y!=null&&x(e,["topK"],y);const C=g(t,["thinking"]);return C!=null&&x(e,["thinking"],C),e}function Hv(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);i!=null&&x(e,["description"],i);const a=g(t,["versionId"]);a!=null&&x(e,["version"],a);const s=g(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>_7(v))),x(e,["endpoints"],p)}const u=g(t,["labels"]);u!=null&&x(e,["labels"],u);const c=g(t,["_self"]);c!=null&&x(e,["tunedModelInfo"],C9(c));const f=g(t,["defaultCheckpointId"]);f!=null&&x(e,["defaultCheckpointId"],f);const h=g(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(v=>v)),x(e,["checkpoints"],p)}return e}function f9(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],S7(a));const s=g(t,["functionCall"]);s!=null&&x(e,["functionCall"],A7(s));const u=g(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&x(e,["inlineData"],XL(c));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const h=g(t,["thought"]);h!=null&&x(e,["thought"],h);const p=g(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function d9(t){const e={},n=g(t,["productImage"]);return n!=null&&x(e,["image"],Ni(n)),e}function h9(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const a=g(t,["outputGcsUri"]);e!==void 0&&a!=null&&x(e,["parameters","storageUri"],a);const s=g(t,["seed"]);e!==void 0&&s!=null&&x(e,["parameters","seed"],s);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&x(e,["parameters","safetySetting"],u);const c=g(t,["personGeneration"]);e!==void 0&&c!=null&&x(e,["parameters","personGeneration"],c);const f=g(t,["addWatermark"]);e!==void 0&&f!=null&&x(e,["parameters","addWatermark"],f);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&x(e,["parameters","outputOptions","mimeType"],h);const p=g(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","compressionQuality"],p);const v=g(t,["enhancePrompt"]);e!==void 0&&v!=null&&x(e,["parameters","enhancePrompt"],v);const y=g(t,["labels"]);return e!==void 0&&y!=null&&x(e,["labels"],y),n}function p9(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["source"]);i!=null&&g9(i,n);const a=g(e,["config"]);return a!=null&&h9(a,n),n}function m9(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hh(i))),x(e,["generatedImages"],r)}return e}function g9(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],Ni(i));const a=g(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>d9(u))),x(e,["instances[0]","productImages"],s)}return n}function v9(t){const e={},n=g(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],Ni(n));const r=g(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const a=g(t,["maskImageConfig"]);a!=null&&x(e,["maskImageConfig"],c9(a));const s=g(t,["controlImageConfig"]);s!=null&&x(e,["controlImageConfig"],r7(s));const u=g(t,["styleImageConfig"]);u!=null&&x(e,["styleImageConfig"],u);const c=g(t,["subjectImageConfig"]);return c!=null&&x(e,["subjectImageConfig"],c),e}function HN(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function GN(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function y9(t){const e={},n=g(t,["category"]);if(n!=null&&x(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function x9(t){const e={},n=g(t,["image"]);return n!=null&&x(e,["image"],Ni(n)),e}function b9(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const a=g(t,["confidenceThreshold"]);e!==void 0&&a!=null&&x(e,["parameters","confidenceThreshold"],a);const s=g(t,["maskDilation"]);e!==void 0&&s!=null&&x(e,["parameters","maskDilation"],s);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&x(e,["parameters","binaryColorThreshold"],u);const c=g(t,["labels"]);return e!==void 0&&c!=null&&x(e,["labels"],c),n}function w9(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["source"]);i!=null&&_9(i,n);const a=g(e,["config"]);return a!=null&&b9(a,n),n}function E9(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Y7(i))),x(e,["generatedMasks"],r)}return e}function _9(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Ni(i));const a=g(t,["scribbleImage"]);return e!==void 0&&a!=null&&x(e,["instances[0]","scribble"],x9(a)),n}function VN(t){const e={},n=g(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function S9(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],T7(n));const r=g(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function A9(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],Q7(u));const c=g(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],e9(c));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function $N(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>C7(v))),x(e,["functionDeclarations"],p)}const r=g(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=g(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&x(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=g(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const h=g(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function T9(t){const e={},n=g(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function C9(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function N9(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function D9(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=g(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function R9(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","name"],Ut(t,r));const i=g(e,["config"]);return i!=null&&N9(i,n),n}function I9(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["config"]);return i!=null&&D9(i,n),n}function M9(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const a=g(t,["personGeneration"]);e!==void 0&&a!=null&&x(e,["parameters","personGeneration"],a);const s=g(t,["includeRaiReason"]);e!==void 0&&s!=null&&x(e,["parameters","includeRaiReason"],s);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&x(e,["parameters","outputOptions","mimeType"],u);const c=g(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&x(e,["parameters","outputOptions","compressionQuality"],c);const f=g(t,["enhanceInputImage"]);e!==void 0&&f!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=g(t,["labels"]);e!==void 0&&p!=null&&x(e,["labels"],p);const v=g(t,["numberOfImages"]);e!==void 0&&v!=null&&x(e,["parameters","sampleCount"],v);const y=g(t,["mode"]);return e!==void 0&&y!=null&&x(e,["parameters","mode"],y),n}function O9(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["_url","model"],Ut(t,r));const i=g(e,["image"]);i!=null&&x(n,["instances[0]","image"],Ni(i));const a=g(e,["upscaleFactor"]);a!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=g(e,["config"]);return s!=null&&M9(s,n),n}function k9(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>hh(a))),x(e,["generatedImages"],i)}return e}function P9(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],vo(r));const i=g(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function L9(t){const e={},n=g(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],vo(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function U9(t){const e={},n=g(t,["image"]);n!=null&&x(e,["_self"],Ni(n));const r=g(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function B9(t){const e={},n=g(t,["image"]);n!=null&&x(e,["image"],ph(n));const r=g(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function j9(t){const e={},n=g(t,["image"]);n!=null&&x(e,["image"],Ni(n));const r=g(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function YN(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],vo(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function WN(t){const e={},n=g(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],vo(r));const i=g(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z9="Content-Type",F9="X-Server-Timeout",q9="User-Agent",Gv="x-goog-api-client",H9="1.30.0",G9=`google-genai-sdk/${H9}`,V9="v1beta1",$9="v1beta",iS=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Y9{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:V9,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:$9,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&W9(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await aS(i),new jv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await aS(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return il(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield rn(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(c,{stream:!0});try{const p=JSON.parse(f);if("error"in p){const v=JSON.parse(JSON.stringify(p.error)),y=v.status,C=v.code,S=`got status: ${y}. ${JSON.stringify(p)}`;if(C>=400&&C<600)throw new fh({message:S,status:C})}}catch(p){if(p.name==="ApiError")throw p}s+=f;let h=s.match(iS);for(;h;){const p=h[1];try{const v=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield rn(new jv(v)),s=s.slice(h[0].length),h=s.match(iS)}catch(v){throw new Error(`exception parsing stream chunk ${p}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=G9+" "+this.clientOptions.userAgentExtra;return e[q9]=n,e[Gv]=n,e[z9]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(F9,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=Ke("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&r.customMetadata&&(p.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const v=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function aS(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new fh({message:i,status:n}):new Error(i)}}function W9(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K9="mcp_used/unknown";let X9=!1;function KN(t){for(const e of t)if(Z9(e)||typeof e=="object"&&"inputSchema"in e)return!0;return X9}function XN(t){var e;const n=(e=t[Gv])!==null&&e!==void 0?e:"";t[Gv]=(n+` ${K9}`).trimStart()}function Z9(t){return t!==null&&typeof t=="object"&&t instanceof ox}function J9(t,e=100){return il(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield rn(t.listTools({cursor:r}));for(const s of a.tools)yield yield rn(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class ox{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ox(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,ku(J9(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;s.push(p);const v=p.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),GP(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Q9(t,e,n){const r=new LP;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class eU{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=rU(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(I=>{f=I}),p=e.callbacks,v=function(){f({})},y=this.apiClient,C={onopen:v,onmessage:I=>{Q9(y,p.onmessage,I)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(I){}},S=this.webSocketFactory.create(c,nU(s),C);S.connect(),await h;const D={setup:{model:Ut(this.apiClient,e.model)}};return S.send(JSON.stringify(D)),new tU(S,this.apiClient)}}class tU{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=FL(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=zL(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(el.PLAY)}pause(){this.sendPlaybackControl(el.PAUSE)}stop(){this.sendPlaybackControl(el.STOP)}resetContext(){this.sendPlaybackControl(el.RESET_CONTEXT)}close(){this.conn.close()}}function nU(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function rU(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iU="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aU(t,e,n){const r=new PP;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=GL(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class oU{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new eU(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&KN(e.config.tools)&&XN(p);const v=cU(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const B=this.apiClient.getApiKey();let q="BidiGenerateContent",Y="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",Y="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${q}?${Y}=${B}`}let y=()=>{};const C=new Promise(B=>{y=B}),S=e.callbacks,b=function(){var B;(B=S==null?void 0:S.onopen)===null||B===void 0||B.call(S),y({})},T=this.apiClient,D={onopen:b,onmessage:B=>{aU(T,S.onmessage,B)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(B){}},I=this.webSocketFactory.create(h,uU(v),D);I.connect(),await C;let P=Ut(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const B=this.apiClient.getProject(),q=this.apiClient.getLocation();P=`projects/${B}/locations/${q}/`+P}let M={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[cd.AUDIO]}:e.config.responseModalities=[cd.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],L=[];for(const B of O)if(this.isCallableTool(B)){const q=B;L.push(await q.tool())}else L.push(B);L.length>0&&(e.config.tools=L);const z={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=jL(this.apiClient,z):M=BL(this.apiClient,z),delete M.config,I.send(JSON.stringify(M)),new lU(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const sU={turnComplete:!0};class lU{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=li(n.turns),e.isVertexAI()||(r=r.map(i=>dh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(iU)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},sU),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:HL(e)}:n={realtimeInput:qL(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function uU(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function cU(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oS=10;function sS(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(al(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function al(t){return"callTool"in t&&typeof t.callTool=="function"}function fU(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>al(i)))!==null&&r!==void 0?r:!1}function lS(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(al(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function uS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dU extends Sa{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!fU(n)||sS(n.config))return await this.generateContentInternal(c);const f=lS(n);if(f.length>0){const S=f.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,p;const v=li(c.contents),y=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:oS;let C=0;for(;C<y&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,b=[];for(const T of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(al(T)){const I=await T.callTool(h.functionCalls);b.push(...I)}C++,p={role:"user",parts:b},c.contents=li(c.contents),c.contents.push(S),c.contents.push(p),uS(c.config)&&(v.push(S),v.push(p))}return uS(c.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),sS(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=lS(n);if(c.length>0){const p=c.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ts(ha.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>al(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&KN(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),XN(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(al(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:oS;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){var v,y;return il(this,arguments,function*(){for(var C,S,b,T;u<a;){s&&(u++,s=!1);const M=yield rn(f.processParamsMaybeAddMcpUsage(p)),O=yield rn(f.generateContentStreamInternal(M)),L=[],z=[];try{for(var D=!0,I=(S=void 0,ku(O)),P;P=yield rn(I.next()),C=P.done,!C;D=!0){T=P.value,D=!1;const B=T;if(yield yield rn(B),B.candidates&&(!((v=B.candidates[0])===null||v===void 0)&&v.content)){z.push(B.candidates[0].content);for(const q of(y=B.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<a&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(q.functionCall.name)){const Y=yield rn(h.get(q.functionCall.name).callTool([q.functionCall]));L.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(B){S={error:B}}finally{try{!D&&!C&&(b=I.return)&&(yield rn(b.call(I)))}finally{if(S)throw S.error}}if(L.length>0){s=!0;const B=new wu;B.candidates=[{content:{role:"user",parts:L}}],yield yield rn(B);const q=[];q.push(...z),q.push({role:"user",parts:L});const Y=li(p.contents).concat(q);p.contents=Y}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tS(this.apiClient,e);return u=Ke("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=rS(h),v=new wu;return Object.assign(v,p),v})}else{const f=eS(this.apiClient,e);return u=Ke("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=nS(h),v=new wu;return Object.assign(v,p),v})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tS(this.apiClient,e);return u=Ke("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return il(this,arguments,function*(){var v,y,C,S;try{for(var b=!0,T=ku(p),D;D=yield rn(T.next()),v=D.done,!v;b=!0){S=D.value,b=!1;const I=S,P=rS(yield rn(I.json()));P.sdkHttpResponse={headers:I.headers};const M=new wu;Object.assign(M,P),yield yield rn(M)}}catch(I){y={error:I}}finally{try{!b&&!v&&(C=T.return)&&(yield rn(C.call(T)))}finally{if(y)throw y.error}}})})}else{const f=eS(this.apiClient,e);return u=Ke("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return il(this,arguments,function*(){var v,y,C,S;try{for(var b=!0,T=ku(p),D;D=yield rn(T.next()),v=D.done,!v;b=!0){S=D.value,b=!1;const I=S,P=nS(yield rn(I.json()));P.sdkHttpResponse={headers:I.headers};const M=new wu;Object.assign(M,P),yield yield rn(M)}}catch(I){y={error:I}}finally{try{!b&&!v&&(C=T.return)&&(yield rn(C.call(T)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=b7(this.apiClient,e);return u=Ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=E7(h),v=new B_;return Object.assign(v,p),v})}else{const f=x7(this.apiClient,e);return u=Ke("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=w7(h),v=new B_;return Object.assign(v,p),v})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=O7(this.apiClient,e);return u=Ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=P7(h),v=new j_;return Object.assign(v,p),v})}else{const f=M7(this.apiClient,e);return u=Ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=k7(h),v=new j_;return Object.assign(v,p),v})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=m7(this.apiClient,e);return a=Ke("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=g7(c),h=new SP;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=O9(this.apiClient,e);return a=Ke("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=k9(c),h=new AP;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=p9(this.apiClient,e);return a=Ke("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=m9(c),h=new TP;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=w9(this.apiClient,e);return a=Ke("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=E9(c),h=new CP;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=J7(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Hv(h))}else{const f=Z7(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>qv(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=s9(this.apiClient,e);return u=Ke("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=u9(h),v=new z_;return Object.assign(v,p),v})}else{const f=o9(this.apiClient,e);return u=Ke("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=l9(h),v=new z_;return Object.assign(v,p),v})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=I9(this.apiClient,e);return u=Ke("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Hv(h))}else{const f=R9(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>qv(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=f7(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=h7(h),v=new F_;return Object.assign(v,p),v})}else{const f=c7(this.apiClient,e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=d7(h),v=new F_;return Object.assign(v,p),v})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=s7(this.apiClient,e);return u=Ke("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=u7(h),v=new q_;return Object.assign(v,p),v})}else{const f=o7(this.apiClient,e);return u=Ke("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=l7(h),v=new q_;return Object.assign(v,p),v})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=QL(this.apiClient,e);return a=Ke("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=e7(c),h=new NP;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=F7(this.apiClient,e);return u=Ke("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=j7(h),v=new fd;return Object.assign(v,p),v})}else{const f=z7(this.apiClient,e);return u=Ke("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const p=B7(h),v=new fd;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hU extends Sa{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=yP(e);return u=Ke("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=vP(e);return u=Ke("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=cP(e);return a=Ke("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pU(t){const e={},n=g(t,["data"]);if(n!=null&&x(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function mU(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>SU(a))),x(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&x(e,["role"],r),e}function gU(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const a=g(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&x(n,["newSessionExpireTime"],a);const s=g(e,["uses"]);n!==void 0&&s!=null&&x(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&x(n,["bidiGenerateContentSetup"],_U(t,u));const c=g(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&x(n,["fieldMask"],c),r}function vU(t,e){const n={},r=g(e,["config"]);return r!=null&&x(n,["config"],gU(t,r,n)),n}function yU(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function xU(t){const e={},n=g(t,["id"]);n!=null&&x(e,["id"],n);const r=g(t,["args"]);r!=null&&x(e,["args"],r);const i=g(t,["name"]);if(i!=null&&x(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bU(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function wU(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function EU(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=g(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=g(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const f=g(t,["mediaResolution"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","mediaResolution"],f);const h=g(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const p=g(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],ax(p));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const y=g(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const C=g(t,["systemInstruction"]);e!==void 0&&C!=null&&x(e,["setup","systemInstruction"],mU(fr(C)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let O=bl(S);Array.isArray(O)&&(O=O.map(L=>TU(xl(L)))),x(e,["setup","tools"],O)}const b=g(t,["sessionResumption"]);e!==void 0&&b!=null&&x(e,["setup","sessionResumption"],AU(b));const T=g(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&x(e,["setup","inputAudioTranscription"],T);const D=g(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&x(e,["setup","outputAudioTranscription"],D);const I=g(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const P=g(t,["contextWindowCompression"]);e!==void 0&&P!=null&&x(e,["setup","contextWindowCompression"],P);const M=g(t,["proactivity"]);return e!==void 0&&M!=null&&x(e,["setup","proactivity"],M),n}function _U(t,e){const n={},r=g(e,["model"]);r!=null&&x(n,["setup","model"],Ut(t,r));const i=g(e,["config"]);return i!=null&&x(n,["config"],EU(i,n)),n}function SU(t){const e={},n=g(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=g(t,["fileData"]);a!=null&&x(e,["fileData"],yU(a));const s=g(t,["functionCall"]);s!=null&&x(e,["functionCall"],xU(s));const u=g(t,["functionResponse"]);u!=null&&x(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&x(e,["inlineData"],pU(c));const f=g(t,["text"]);f!=null&&x(e,["text"],f);const h=g(t,["thought"]);h!=null&&x(e,["thought"],h);const p=g(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const v=g(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function AU(t){const e={},n=g(t,["handle"]);if(n!=null&&x(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function TU(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),x(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=g(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=g(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],bU(u));const c=g(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],wU(c));const f=g(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CU(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function NU(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=CU(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class DU extends Sa{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=vU(this.apiClient,e);a=Ke("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=NU(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RU(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function IU(t){const e={},n=g(t,["config"]);return n!=null&&RU(n,e),e}function MU(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function OU(t){const e={},n=g(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&MU(r,e),e}function kU(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function PU(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["customMetadata"],a)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function LU(t){const e={},n=g(t,["name"]);n!=null&&x(e,["name"],n);const r=g(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=g(t,["done"]);i!=null&&x(e,["done"],i);const a=g(t,["error"]);a!=null&&x(e,["error"],a);const s=g(t,["response"]);return s!=null&&x(e,["response"],BU(s)),e}function UU(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&PU(i,e),e}function BU(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&x(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function jU(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function zU(t){const e={},n=g(t,["config"]);return n!=null&&jU(n,e),e}function FU(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["fileSearchStores"],a)}return e}function qU(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const a=g(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),x(e,["customMetadata"],u)}const s=g(t,["chunkingConfig"]);return e!==void 0&&s!=null&&x(e,["chunkingConfig"],s),n}function HU(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&qU(r,e),e}function GU(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VU(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function $U(t){const e={},n=g(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&VU(r,e),e}function YU(t){const e={},n=g(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function WU(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function KU(t){const e={},n=g(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&WU(r,e),e}function XU(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZU extends Sa{constructor(e){super(),this.apiClient=e,this.list=async n=>new ts(ha.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YU(e);return a=Ke("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$U(e);i=Ke("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KU(e);return a=Ke("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=XU(c),h=new DP;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JU extends Sa{constructor(e,n=new ZU(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ts(ha.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IU(e);return a=Ke("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kU(e);return a=Ke("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=OU(e);i=Ke("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zU(e);return a=Ke("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=FU(c),h=new RP;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HU(e);return a=Ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=GU(c),h=new IP;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=UU(e);return a=Ke("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=LU(c),h=new ex;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QU(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function eB(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function tB(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(t,["epochCount"]);e!==void 0&&a!=null&&x(e,["tuningTask","hyperparameters","epochCount"],a);const s=g(t,["learningRateMultiplier"]);if(s!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&x(e,["tuningTask","hyperparameters","batchSize"],u);const c=g(t,["learningRate"]);if(e!==void 0&&c!=null&&x(e,["tuningTask","hyperparameters","learningRate"],c),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function nB(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=g(t,["validationDataset"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec"],cS(y))}else if(i==="PREFERENCE_TUNING"){const y=g(t,["validationDataset"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec"],cS(y))}const a=g(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&x(e,["tunedModelDisplayName"],a);const s=g(t,["description"]);e!==void 0&&s!=null&&x(e,["description"],s);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=g(t,["epochCount"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(u==="PREFERENCE_TUNING"){const y=g(t,["epochCount"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=g(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=g(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=g(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(f==="PREFERENCE_TUNING"){const y=g(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const y=g(t,["adapterSize"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(h==="PREFERENCE_TUNING"){const y=g(t,["adapterSize"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=g(t,["labels"]);e!==void 0&&p!=null&&x(e,["labels"],p);const v=g(t,["beta"]);return e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function rB(t,e){const n={},r=g(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&pB(a);const s=g(t,["config"]);return s!=null&&tB(s,n),n}function iB(t,e){const n={},r=g(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=g(t,["trainingDataset"]);a!=null&&mB(a,n,e);const s=g(t,["config"]);return s!=null&&nB(s,n,e),n}function aB(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function oB(t,e){const n={},r=g(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function sB(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const s=g(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),r}function lB(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=g(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const s=g(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),r}function uB(t,e){const n={},r=g(t,["config"]);return r!=null&&sB(r,n),n}function cB(t,e){const n={},r=g(t,["config"]);return r!=null&&lB(r,n),n}function fB(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=g(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>ZN(u))),x(n,["tuningJobs"],s)}return n}function dB(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=g(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Vv(u))),x(n,["tuningJobs"],s)}return n}function hB(t,e){const n={},r=g(t,["name"]);r!=null&&x(n,["model"],r);const i=g(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function pB(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(n,["examples","examples"],i)}return n}function mB(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ZN(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const a=g(t,["state"]);a!=null&&x(n,["state"],MN(a));const s=g(t,["createTime"]);s!=null&&x(n,["createTime"],s);const u=g(t,["tuningTask","startTime"]);u!=null&&x(n,["startTime"],u);const c=g(t,["tuningTask","completeTime"]);c!=null&&x(n,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&x(n,["updateTime"],f);const h=g(t,["description"]);h!=null&&x(n,["description"],h);const p=g(t,["baseModel"]);p!=null&&x(n,["baseModel"],p);const v=g(t,["_self"]);return v!=null&&x(n,["tunedModel"],hB(v)),n}function Vv(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const a=g(t,["state"]);a!=null&&x(n,["state"],MN(a));const s=g(t,["createTime"]);s!=null&&x(n,["createTime"],s);const u=g(t,["startTime"]);u!=null&&x(n,["startTime"],u);const c=g(t,["endTime"]);c!=null&&x(n,["endTime"],c);const f=g(t,["updateTime"]);f!=null&&x(n,["updateTime"],f);const h=g(t,["error"]);h!=null&&x(n,["error"],h);const p=g(t,["description"]);p!=null&&x(n,["description"],p);const v=g(t,["baseModel"]);v!=null&&x(n,["baseModel"],v);const y=g(t,["tunedModel"]);y!=null&&x(n,["tunedModel"],y);const C=g(t,["preTunedModel"]);C!=null&&x(n,["preTunedModel"],C);const S=g(t,["supervisedTuningSpec"]);S!=null&&x(n,["supervisedTuningSpec"],S);const b=g(t,["preferenceOptimizationSpec"]);b!=null&&x(n,["preferenceOptimizationSpec"],b);const T=g(t,["tuningDataStats"]);T!=null&&x(n,["tuningDataStats"],T);const D=g(t,["encryptionSpec"]);D!=null&&x(n,["encryptionSpec"],D);const I=g(t,["partnerModelTuningSpec"]);I!=null&&x(n,["partnerModelTuningSpec"],I);const P=g(t,["customBaseModel"]);P!=null&&x(n,["customBaseModel"],P);const M=g(t,["experiment"]);M!=null&&x(n,["experiment"],M);const O=g(t,["labels"]);O!=null&&x(n,["labels"],O);const L=g(t,["outputUri"]);L!=null&&x(n,["outputUri"],L);const z=g(t,["pipelineJob"]);z!=null&&x(n,["pipelineJob"],z);const B=g(t,["serviceAccount"]);B!=null&&x(n,["serviceAccount"],B);const q=g(t,["tunedModelDisplayName"]);q!=null&&x(n,["tunedModelDisplayName"],q);const Y=g(t,["veoTuningSpec"]);return Y!=null&&x(n,["veoTuningSpec"],Y),n}function gB(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&x(n,["name"],i);const a=g(t,["metadata"]);a!=null&&x(n,["metadata"],a);const s=g(t,["done"]);s!=null&&x(n,["done"],s);const u=g(t,["error"]);return u!=null&&x(n,["error"],u),n}function cS(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vB extends Sa{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ts(ha.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:Bv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=oB(e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>Vv(h))}else{const f=aB(e);return u=Ke("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>ZN(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=cB(e);return u=Ke("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=dB(h),v=new H_;return Object.assign(v,p),v})}else{const f=uB(e);return u=Ke("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const p=fB(h),v=new H_;return Object.assign(v,p),v})}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=eB(e);s=Ke("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=QU(e);s=Ke("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=iB(e,e);return a=Ke("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Vv(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rB(e);return a=Ke("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>gB(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yB{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xB=1024*1024*8,bB=3,wB=1e3,EB=2,hd="x-goog-upload-status";async function _B(t,e,n){var r;const i=await JN(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[hd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function SB(t,e,n){var r;const i=await JN(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[hd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=TN(a),u=new tx;return Object.assign(u,s),u}async function JN(t,e,n){var r,i;let a=0,s=0,u=new jv(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(xB,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let p=0,v=wB;for(;p<bB&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[hd]));)p++,await TB(v),v=v*EB;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[hd])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function AB(t){return{size:t.size,type:t.type}}function TB(t){return new Promise(e=>setTimeout(e,t))}class CB{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _B(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SB(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AB(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NB{create(e,n,r){return new DB(e,n,r)}}class DB{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fS="x-goog-api-key";class RB{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(fS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IB="gl-node/";class MB{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=lP(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new RB(this.apiKey);this.apiClient=new Y9({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:IB+"web",uploader:new CB,downloader:new yB}),this.models=new dU(this.apiClient),this.live=new oU(this.apiClient,i,new NB),this.batches=new U8(this.apiClient),this.chats=new yL(this.models,this.apiClient),this.caches=new mL(this.apiClient),this.files=new NL(this.apiClient),this.operations=new hU(this.apiClient),this.authTokens=new DU(this.apiClient),this.tunings=new vB(this.apiClient),this.fileSearchStores=new JU(this.apiClient)}}const OB="";new MB({apiKey:OB});const dS=async(t,e,n="gemini-2.5-flash")=>"Error: API Key is missing. Please check your environment configuration.";var kf={exports:{}},m0={exports:{}},g0,hS;function QN(){if(hS)return g0;hS=1;var t=void 0;return g0=function(e){return e!==t&&e!==null},g0}var v0,pS;function kB(){if(pS)return v0;pS=1;var t=QN(),e={object:!0,function:!0,undefined:!0};return v0=function(n){return t(n)?hasOwnProperty.call(e,typeof n):!1},v0}var y0,mS;function PB(){if(mS)return y0;mS=1;var t=kB();return y0=function(e){if(!t(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},y0}var x0,gS;function LB(){if(gS)return x0;gS=1;var t=PB();return x0=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!t(e)},x0}var b0,vS;function UB(){if(vS)return b0;vS=1;var t=LB(),e=/^\s*class[\s{/}]/,n=Function.prototype.toString;return b0=function(r){return!(!t(r)||e.test(n.call(r)))},b0}var w0,yS;function BB(){return yS||(yS=1,w0=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),w0}var E0,xS;function jB(){return xS||(xS=1,E0=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),E0}var _0,bS;function zB(){return bS||(bS=1,_0=function(){}),_0}var S0,wS;function sx(){if(wS)return S0;wS=1;var t=zB()();return S0=function(e){return e!==t&&e!==null},S0}var A0,ES;function FB(){if(ES)return A0;ES=1;var t=sx(),e=Object.keys;return A0=function(n){return e(t(n)?Object(n):n)},A0}var T0,_S;function qB(){return _S||(_S=1,T0=jB()()?Object.keys:FB()),T0}var C0,SS;function HB(){if(SS)return C0;SS=1;var t=sx();return C0=function(e){if(!t(e))throw new TypeError("Cannot use null or undefined");return e},C0}var N0,AS;function GB(){if(AS)return N0;AS=1;var t=qB(),e=HB(),n=Math.max;return N0=function(r,i){var a,s,u=n(arguments.length,2),c;for(r=Object(e(r)),c=function(f){try{r[f]=i[f]}catch(h){a||(a=h)}},s=1;s<u;++s)i=arguments[s],t(i).forEach(c);if(a!==void 0)throw a;return r},N0}var D0,TS;function VB(){return TS||(TS=1,D0=BB()()?Object.assign:GB()),D0}var R0,CS;function $B(){if(CS)return R0;CS=1;var t=sx(),e=Array.prototype.forEach,n=Object.create,r=function(i,a){var s;for(s in i)a[s]=i[s]};return R0=function(i){var a=n(null);return e.call(arguments,function(s){t(s)&&r(Object(s),a)}),a},R0}var I0,NS;function YB(){if(NS)return I0;NS=1;var t="razdwatrzy";return I0=function(){return typeof t.contains!="function"?!1:t.contains("dwa")===!0&&t.contains("foo")===!1},I0}var M0,DS;function WB(){if(DS)return M0;DS=1;var t=String.prototype.indexOf;return M0=function(e){return t.call(this,e,arguments[1])>-1},M0}var O0,RS;function KB(){return RS||(RS=1,O0=YB()()?String.prototype.contains:WB()),O0}var IS;function XB(){if(IS)return m0.exports;IS=1;var t=QN(),e=UB(),n=VB(),r=$B(),i=KB(),a=m0.exports=function(s,u){var c,f,h,p,v;return arguments.length<2||typeof s!="string"?(p=u,u=s,s=null):p=arguments[2],t(s)?(c=i.call(s,"c"),f=i.call(s,"e"),h=i.call(s,"w")):(c=h=!0,f=!1),v={value:u,configurable:c,enumerable:f,writable:h},p?n(r(p),v):v};return a.gs=function(s,u,c){var f,h,p,v;return typeof s!="string"?(p=c,c=u,u=s,s=null):p=arguments[3],t(u)?e(u)?t(c)?e(c)||(p=c,c=void 0):c=void 0:(p=u,u=c=void 0):u=void 0,t(s)?(f=i.call(s,"c"),h=i.call(s,"e")):(f=!0,h=!1),v={get:u,set:c,configurable:f,enumerable:h},p?n(r(p),v):v},m0.exports}var k0,MS;function ZB(){return MS||(MS=1,k0=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}),k0}var OS;function JB(){return OS||(OS=1,(function(t,e){var n=XB(),r=ZB(),i=Function.prototype.apply,a=Function.prototype.call,s=Object.create,u=Object.defineProperty,c=Object.defineProperties,f=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0},p,v,y,C,S,b,T;p=function(D,I){var P;return r(I),f.call(this,"__ee__")?P=this.__ee__:(P=h.value=s(null),u(this,"__ee__",h),h.value=null),P[D]?typeof P[D]=="object"?P[D].push(I):P[D]=[P[D],I]:P[D]=I,this},v=function(D,I){var P,M;return r(I),M=this,p.call(this,D,P=function(){y.call(M,D,P),i.call(I,this,arguments)}),P.__eeOnceListener__=I,this},y=function(D,I){var P,M,O,L;if(r(I),!f.call(this,"__ee__"))return this;if(P=this.__ee__,!P[D])return this;if(M=P[D],typeof M=="object")for(L=0;O=M[L];++L)(O===I||O.__eeOnceListener__===I)&&(M.length===2?P[D]=M[L?0:1]:M.splice(L,1));else(M===I||M.__eeOnceListener__===I)&&delete P[D];return this},C=function(D){var I,P,M,O,L;if(f.call(this,"__ee__")&&(O=this.__ee__[D],!!O))if(typeof O=="object"){for(P=arguments.length,L=new Array(P-1),I=1;I<P;++I)L[I-1]=arguments[I];for(O=O.slice(),I=0;M=O[I];++I)i.call(M,this,L)}else switch(arguments.length){case 1:a.call(O,this);break;case 2:a.call(O,this,arguments[1]);break;case 3:a.call(O,this,arguments[1],arguments[2]);break;default:for(P=arguments.length,L=new Array(P-1),I=1;I<P;++I)L[I-1]=arguments[I];i.call(O,this,L)}},S={on:p,once:v,off:y,emit:C},b={on:n(p),once:n(v),off:n(y),emit:n(C)},T=c({},b),t.exports=e=function(D){return D==null?s(T):c(Object(D),b)},e.methods=S})(kf,kf.exports)),kf.exports}var QB=JB();const qi=hr(QB);var Eu={},oa={},Fs={},kS;function mh(){if(kS)return Fs;kS=1;function t(i,a,s){if(s===void 0&&(s=Array.prototype),i&&typeof s.find=="function")return s.find.call(i,a);for(var u=0;u<i.length;u++)if(Object.prototype.hasOwnProperty.call(i,u)){var c=i[u];if(a.call(void 0,c,u,i))return c}}function e(i,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(i):i}var n=e({HTML:"text/html",isHTML:function(i){return i===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Fs.find=t,Fs.freeze=e,Fs.MIME_TYPE=n,Fs.NAMESPACE=r,Fs}var PS;function eD(){if(PS)return oa;PS=1;var t=mh(),e=t.find,n=t.NAMESPACE;function r(N){return N!==""}function i(N){return N?N.split(/[\t\n\f\r ]+/).filter(r):[]}function a(N,U){return N.hasOwnProperty(U)||(N[U]=!0),N}function s(N){if(!N)return[];var U=i(N);return Object.keys(U.reduce(a,{}))}function u(N){return function(U){return N&&N.indexOf(U)!==-1}}function c(N,U){for(var H in N)Object.prototype.hasOwnProperty.call(N,H)&&(U[H]=N[H])}function f(N,U){var H=N.prototype;if(!(H instanceof U)){let J=function(){};var A=J;J.prototype=U.prototype,J=new J,c(H,J),N.prototype=H=J}H.constructor!=N&&(typeof N!="function"&&console.error("unknown Class:"+N),H.constructor=N)}var h={},p=h.ELEMENT_NODE=1,v=h.ATTRIBUTE_NODE=2,y=h.TEXT_NODE=3,C=h.CDATA_SECTION_NODE=4,S=h.ENTITY_REFERENCE_NODE=5,b=h.ENTITY_NODE=6,T=h.PROCESSING_INSTRUCTION_NODE=7,D=h.COMMENT_NODE=8,I=h.DOCUMENT_NODE=9,P=h.DOCUMENT_TYPE_NODE=10,M=h.DOCUMENT_FRAGMENT_NODE=11,O=h.NOTATION_NODE=12,L={},z={};L.INDEX_SIZE_ERR=(z[1]="Index size error",1),L.DOMSTRING_SIZE_ERR=(z[2]="DOMString size error",2);var B=L.HIERARCHY_REQUEST_ERR=(z[3]="Hierarchy request error",3);L.WRONG_DOCUMENT_ERR=(z[4]="Wrong document",4),L.INVALID_CHARACTER_ERR=(z[5]="Invalid character",5),L.NO_DATA_ALLOWED_ERR=(z[6]="No data allowed",6),L.NO_MODIFICATION_ALLOWED_ERR=(z[7]="No modification allowed",7);var q=L.NOT_FOUND_ERR=(z[8]="Not found",8);L.NOT_SUPPORTED_ERR=(z[9]="Not supported",9);var Y=L.INUSE_ATTRIBUTE_ERR=(z[10]="Attribute in use",10);L.INVALID_STATE_ERR=(z[11]="Invalid state",11),L.SYNTAX_ERR=(z[12]="Syntax error",12),L.INVALID_MODIFICATION_ERR=(z[13]="Invalid modification",13),L.NAMESPACE_ERR=(z[14]="Invalid namespace",14),L.INVALID_ACCESS_ERR=(z[15]="Invalid access",15);function W(N,U){if(U instanceof Error)var H=U;else H=this,Error.call(this,z[N]),this.message=z[N],Error.captureStackTrace&&Error.captureStackTrace(this,W);return H.code=N,U&&(this.message=this.message+": "+U),H}W.prototype=Error.prototype,c(L,W);function re(){}re.prototype={length:0,item:function(N){return N>=0&&N<this.length?this[N]:null},toString:function(N,U){for(var H=[],A=0;A<this.length;A++)Re(this[A],H,N,U);return H.join("")},filter:function(N){return Array.prototype.filter.call(this,N)},indexOf:function(N){return Array.prototype.indexOf.call(this,N)}};function me(N,U){this._node=N,this._refresh=U,Z(this)}function Z(N){var U=N._node._inc||N._node.ownerDocument._inc;if(N._inc!==U){var H=N._refresh(N._node);if(ae(N,"length",H.length),!N.$$length||H.length<N.$$length)for(var A=H.length;A in N;A++)Object.prototype.hasOwnProperty.call(N,A)&&delete N[A];c(H,N),N._inc=U}}me.prototype.item=function(N){return Z(this),this[N]||null},f(me,re);function X(){}function Q(N,U){for(var H=N.length;H--;)if(N[H]===U)return H}function oe(N,U,H,A){if(A?U[Q(U,A)]=H:U[U.length++]=H,N){H.ownerElement=N;var J=N.ownerDocument;J&&(A&&$e(J,N,A),Ue(J,N,H))}}function de(N,U,H){var A=Q(U,H);if(A>=0){for(var J=U.length-1;A<J;)U[A]=U[++A];if(U.length=J,N){var ie=N.ownerDocument;ie&&($e(ie,N,H),H.ownerElement=null)}}else throw new W(q,new Error(N.tagName+"@"+H))}X.prototype={length:0,item:re.prototype.item,getNamedItem:function(N){for(var U=this.length;U--;){var H=this[U];if(H.nodeName==N)return H}},setNamedItem:function(N){var U=N.ownerElement;if(U&&U!=this._ownerElement)throw new W(Y);var H=this.getNamedItem(N.nodeName);return oe(this._ownerElement,this,N,H),H},setNamedItemNS:function(N){var U=N.ownerElement,H;if(U&&U!=this._ownerElement)throw new W(Y);return H=this.getNamedItemNS(N.namespaceURI,N.localName),oe(this._ownerElement,this,N,H),H},removeNamedItem:function(N){var U=this.getNamedItem(N);return de(this._ownerElement,this,U),U},removeNamedItemNS:function(N,U){var H=this.getNamedItemNS(N,U);return de(this._ownerElement,this,H),H},getNamedItemNS:function(N,U){for(var H=this.length;H--;){var A=this[H];if(A.localName==U&&A.namespaceURI==N)return A}return null}};function Ce(){}Ce.prototype={hasFeature:function(N,U){return!0},createDocument:function(N,U,H){var A=new we;if(A.implementation=this,A.childNodes=new re,A.doctype=H||null,H&&A.appendChild(H),U){var J=A.createElementNS(N,U);A.appendChild(J)}return A},createDocumentType:function(N,U,H){var A=new en;return A.name=N,A.nodeName=N,A.publicId=U||"",A.systemId=H||"",A}};function $(){}$.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(N,U){return Ot(this,N,U)},replaceChild:function(N,U){Ot(this,N,U,Mt),U&&this.removeChild(U)},removeChild:function(N){return Ge(this,N)},appendChild:function(N){return this.insertBefore(N,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(N){return He(this.ownerDocument||this,this,N)},normalize:function(){for(var N=this.firstChild;N;){var U=N.nextSibling;U&&U.nodeType==y&&N.nodeType==y?(this.removeChild(U),N.appendData(U.data)):(N.normalize(),N=U)}},isSupported:function(N,U){return this.ownerDocument.implementation.hasFeature(N,U)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(N){for(var U=this;U;){var H=U._nsMap;if(H){for(var A in H)if(Object.prototype.hasOwnProperty.call(H,A)&&H[A]===N)return A}U=U.nodeType==v?U.ownerDocument:U.parentNode}return null},lookupNamespaceURI:function(N){for(var U=this;U;){var H=U._nsMap;if(H&&N in H&&Object.prototype.hasOwnProperty.call(H,N))return H[N];U=U.nodeType==v?U.ownerDocument:U.parentNode}return null},isDefaultNamespace:function(N){var U=this.lookupPrefix(N);return U==null}};function se(N){return N=="<"&&"&lt;"||N==">"&&"&gt;"||N=="&"&&"&amp;"||N=='"'&&"&quot;"||"&#"+N.charCodeAt()+";"}c(h,$),c(h,$.prototype);function Ae(N,U){if(U(N))return!0;if(N=N.firstChild)do if(Ae(N,U))return!0;while(N=N.nextSibling)}function we(){this.ownerDocument=this}function Ue(N,U,H){N&&N._inc++;var A=H.namespaceURI;A===n.XMLNS&&(U._nsMap[H.prefix?H.localName:""]=H.value)}function $e(N,U,H,A){N&&N._inc++;var J=H.namespaceURI;J===n.XMLNS&&delete U._nsMap[H.prefix?H.localName:""]}function qe(N,U,H){if(N&&N._inc){N._inc++;var A=U.childNodes;if(H)A[A.length++]=H;else{for(var J=U.firstChild,ie=0;J;)A[ie++]=J,J=J.nextSibling;A.length=ie,delete A[A.length]}}}function Ge(N,U){var H=U.previousSibling,A=U.nextSibling;return H?H.nextSibling=A:N.firstChild=A,A?A.previousSibling=H:N.lastChild=H,U.parentNode=null,U.previousSibling=null,U.nextSibling=null,qe(N.ownerDocument,N),U}function ye(N){return N&&(N.nodeType===$.DOCUMENT_NODE||N.nodeType===$.DOCUMENT_FRAGMENT_NODE||N.nodeType===$.ELEMENT_NODE)}function We(N){return N&&(Ee(N)||Qe(N)||je(N)||N.nodeType===$.DOCUMENT_FRAGMENT_NODE||N.nodeType===$.COMMENT_NODE||N.nodeType===$.PROCESSING_INSTRUCTION_NODE)}function je(N){return N&&N.nodeType===$.DOCUMENT_TYPE_NODE}function Ee(N){return N&&N.nodeType===$.ELEMENT_NODE}function Qe(N){return N&&N.nodeType===$.TEXT_NODE}function Ye(N,U){var H=N.childNodes||[];if(e(H,Ee)||je(U))return!1;var A=e(H,je);return!(U&&A&&H.indexOf(A)>H.indexOf(U))}function tt(N,U){var H=N.childNodes||[];function A(ie){return Ee(ie)&&ie!==U}if(e(H,A))return!1;var J=e(H,je);return!(U&&J&&H.indexOf(J)>H.indexOf(U))}function rt(N,U,H){if(!ye(N))throw new W(B,"Unexpected parent node type "+N.nodeType);if(H&&H.parentNode!==N)throw new W(q,"child not in parent");if(!We(U)||je(U)&&N.nodeType!==$.DOCUMENT_NODE)throw new W(B,"Unexpected node type "+U.nodeType+" for parent node type "+N.nodeType)}function ot(N,U,H){var A=N.childNodes||[],J=U.childNodes||[];if(U.nodeType===$.DOCUMENT_FRAGMENT_NODE){var ie=J.filter(Ee);if(ie.length>1||e(J,Qe))throw new W(B,"More than one element or text in fragment");if(ie.length===1&&!Ye(N,H))throw new W(B,"Element in fragment can not be inserted before doctype")}if(Ee(U)&&!Ye(N,H))throw new W(B,"Only one element can be added and only after doctype");if(je(U)){if(e(A,je))throw new W(B,"Only one doctype is allowed");var j=e(A,Ee);if(H&&A.indexOf(j)<A.indexOf(H))throw new W(B,"Doctype can only be inserted before an element");if(!H&&j)throw new W(B,"Doctype can not be appended since element is present")}}function Mt(N,U,H){var A=N.childNodes||[],J=U.childNodes||[];if(U.nodeType===$.DOCUMENT_FRAGMENT_NODE){var ie=J.filter(Ee);if(ie.length>1||e(J,Qe))throw new W(B,"More than one element or text in fragment");if(ie.length===1&&!tt(N,H))throw new W(B,"Element in fragment can not be inserted before doctype")}if(Ee(U)&&!tt(N,H))throw new W(B,"Only one element can be added and only after doctype");if(je(U)){let pe=function(ze){return je(ze)&&ze!==H};var ee=pe;if(e(A,pe))throw new W(B,"Only one doctype is allowed");var j=e(A,Ee);if(H&&A.indexOf(j)<A.indexOf(H))throw new W(B,"Doctype can only be inserted before an element")}}function Ot(N,U,H,A){rt(N,U,H),N.nodeType===$.DOCUMENT_NODE&&(A||ot)(N,U,H);var J=U.parentNode;if(J&&J.removeChild(U),U.nodeType===M){var ie=U.firstChild;if(ie==null)return U;var j=U.lastChild}else ie=j=U;var ee=H?H.previousSibling:N.lastChild;ie.previousSibling=ee,j.nextSibling=H,ee?ee.nextSibling=ie:N.firstChild=ie,H==null?N.lastChild=j:H.previousSibling=j;do ie.parentNode=N;while(ie!==j&&(ie=ie.nextSibling));return qe(N.ownerDocument||N,N),U.nodeType==M&&(U.firstChild=U.lastChild=null),U}function Ft(N,U){return U.parentNode&&U.parentNode.removeChild(U),U.parentNode=N,U.previousSibling=N.lastChild,U.nextSibling=null,U.previousSibling?U.previousSibling.nextSibling=U:N.firstChild=U,N.lastChild=U,qe(N.ownerDocument,N,U),U}we.prototype={nodeName:"#document",nodeType:I,doctype:null,documentElement:null,_inc:1,insertBefore:function(N,U){if(N.nodeType==M){for(var H=N.firstChild;H;){var A=H.nextSibling;this.insertBefore(H,U),H=A}return N}return Ot(this,N,U),N.ownerDocument=this,this.documentElement===null&&N.nodeType===p&&(this.documentElement=N),N},removeChild:function(N){return this.documentElement==N&&(this.documentElement=null),Ge(this,N)},replaceChild:function(N,U){Ot(this,N,U,Mt),N.ownerDocument=this,U&&this.removeChild(U),Ee(N)&&(this.documentElement=N)},importNode:function(N,U){return Oe(this,N,U)},getElementById:function(N){var U=null;return Ae(this.documentElement,function(H){if(H.nodeType==p&&H.getAttribute("id")==N)return U=H,!0}),U},getElementsByClassName:function(N){var U=s(N);return new me(this,function(H){var A=[];return U.length>0&&Ae(H.documentElement,function(J){if(J!==H&&J.nodeType===p){var ie=J.getAttribute("class");if(ie){var j=N===ie;if(!j){var ee=s(ie);j=U.every(u(ee))}j&&A.push(J)}}}),A})},createElement:function(N){var U=new it;U.ownerDocument=this,U.nodeName=N,U.tagName=N,U.localName=N,U.childNodes=new re;var H=U.attributes=new X;return H._ownerElement=U,U},createDocumentFragment:function(){var N=new Tn;return N.ownerDocument=this,N.childNodes=new re,N},createTextNode:function(N){var U=new _t;return U.ownerDocument=this,U.appendData(N),U},createComment:function(N){var U=new or;return U.ownerDocument=this,U.appendData(N),U},createCDATASection:function(N){var U=new wn;return U.ownerDocument=this,U.appendData(N),U},createProcessingInstruction:function(N,U){var H=new mn;return H.ownerDocument=this,H.tagName=H.nodeName=H.target=N,H.nodeValue=H.data=U,H},createAttribute:function(N){var U=new ut;return U.ownerDocument=this,U.name=N,U.nodeName=N,U.localName=N,U.specified=!0,U},createEntityReference:function(N){var U=new sn;return U.ownerDocument=this,U.nodeName=N,U},createElementNS:function(N,U){var H=new it,A=U.split(":"),J=H.attributes=new X;return H.childNodes=new re,H.ownerDocument=this,H.nodeName=U,H.tagName=U,H.namespaceURI=N,A.length==2?(H.prefix=A[0],H.localName=A[1]):H.localName=U,J._ownerElement=H,H},createAttributeNS:function(N,U){var H=new ut,A=U.split(":");return H.ownerDocument=this,H.nodeName=U,H.name=U,H.namespaceURI=N,H.specified=!0,A.length==2?(H.prefix=A[0],H.localName=A[1]):H.localName=U,H}},f(we,$);function it(){this._nsMap={}}it.prototype={nodeType:p,hasAttribute:function(N){return this.getAttributeNode(N)!=null},getAttribute:function(N){var U=this.getAttributeNode(N);return U&&U.value||""},getAttributeNode:function(N){return this.attributes.getNamedItem(N)},setAttribute:function(N,U){var H=this.ownerDocument.createAttribute(N);H.value=H.nodeValue=""+U,this.setAttributeNode(H)},removeAttribute:function(N){var U=this.getAttributeNode(N);U&&this.removeAttributeNode(U)},appendChild:function(N){return N.nodeType===M?this.insertBefore(N,null):Ft(this,N)},setAttributeNode:function(N){return this.attributes.setNamedItem(N)},setAttributeNodeNS:function(N){return this.attributes.setNamedItemNS(N)},removeAttributeNode:function(N){return this.attributes.removeNamedItem(N.nodeName)},removeAttributeNS:function(N,U){var H=this.getAttributeNodeNS(N,U);H&&this.removeAttributeNode(H)},hasAttributeNS:function(N,U){return this.getAttributeNodeNS(N,U)!=null},getAttributeNS:function(N,U){var H=this.getAttributeNodeNS(N,U);return H&&H.value||""},setAttributeNS:function(N,U,H){var A=this.ownerDocument.createAttributeNS(N,U);A.value=A.nodeValue=""+H,this.setAttributeNode(A)},getAttributeNodeNS:function(N,U){return this.attributes.getNamedItemNS(N,U)},getElementsByTagName:function(N){return new me(this,function(U){var H=[];return Ae(U,function(A){A!==U&&A.nodeType==p&&(N==="*"||A.tagName==N)&&H.push(A)}),H})},getElementsByTagNameNS:function(N,U){return new me(this,function(H){var A=[];return Ae(H,function(J){J!==H&&J.nodeType===p&&(N==="*"||J.namespaceURI===N)&&(U==="*"||J.localName==U)&&A.push(J)}),A})}},we.prototype.getElementsByTagName=it.prototype.getElementsByTagName,we.prototype.getElementsByTagNameNS=it.prototype.getElementsByTagNameNS,f(it,$);function ut(){}ut.prototype.nodeType=v,f(ut,$);function st(){}st.prototype={data:"",substringData:function(N,U){return this.data.substring(N,N+U)},appendData:function(N){N=this.data+N,this.nodeValue=this.data=N,this.length=N.length},insertData:function(N,U){this.replaceData(N,0,U)},appendChild:function(N){throw new Error(z[B])},deleteData:function(N,U){this.replaceData(N,U,"")},replaceData:function(N,U,H){var A=this.data.substring(0,N),J=this.data.substring(N+U);H=A+H+J,this.nodeValue=this.data=H,this.length=H.length}},f(st,$);function _t(){}_t.prototype={nodeName:"#text",nodeType:y,splitText:function(N){var U=this.data,H=U.substring(N);U=U.substring(0,N),this.data=this.nodeValue=U,this.length=U.length;var A=this.ownerDocument.createTextNode(H);return this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling),A}},f(_t,st);function or(){}or.prototype={nodeName:"#comment",nodeType:D},f(or,st);function wn(){}wn.prototype={nodeName:"#cdata-section",nodeType:C},f(wn,st);function en(){}en.prototype.nodeType=P,f(en,$);function kn(){}kn.prototype.nodeType=O,f(kn,$);function Fn(){}Fn.prototype.nodeType=b,f(Fn,$);function sn(){}sn.prototype.nodeType=S,f(sn,$);function Tn(){}Tn.prototype.nodeName="#document-fragment",Tn.prototype.nodeType=M,f(Tn,$);function mn(){}mn.prototype.nodeType=T,f(mn,$);function zt(){}zt.prototype.serializeToString=function(N,U,H){return St.call(N,U,H)},$.prototype.toString=St;function St(N,U){var H=[],A=this.nodeType==9&&this.documentElement||this,J=A.prefix,ie=A.namespaceURI;if(ie&&J==null){var J=A.lookupPrefix(ie);if(J==null)var j=[{namespace:ie,prefix:null}]}return Re(this,H,N,U,j),H.join("")}function gn(N,U,H){var A=N.prefix||"",J=N.namespaceURI;if(!J||A==="xml"&&J===n.XML||J===n.XMLNS)return!1;for(var ie=H.length;ie--;){var j=H[ie];if(j.prefix===A)return j.namespace!==J}return!0}function V(N,U,H){N.push(" ",U,'="',H.replace(/[<&"]/g,se),'"')}function Re(N,U,H,A,J){if(J||(J=[]),A)if(N=A(N),N){if(typeof N=="string"){U.push(N);return}}else return;switch(N.nodeType){case p:var ie=N.attributes,j=ie.length,at=N.firstChild,ee=N.tagName;H=n.isHTML(N.namespaceURI)||H;var pe=ee;if(!H&&!N.prefix&&N.namespaceURI){for(var ze,Pe=0;Pe<ie.length;Pe++)if(ie.item(Pe).name==="xmlns"){ze=ie.item(Pe).value;break}if(!ze)for(var Fe=J.length-1;Fe>=0;Fe--){var ft=J[Fe];if(ft.prefix===""&&ft.namespace===N.namespaceURI){ze=ft.namespace;break}}if(ze!==N.namespaceURI)for(var Fe=J.length-1;Fe>=0;Fe--){var ft=J[Fe];if(ft.namespace===N.namespaceURI){ft.prefix&&(pe=ft.prefix+":"+ee);break}}}U.push("<",pe);for(var dn=0;dn<j;dn++){var yt=ie.item(dn);yt.prefix=="xmlns"?J.push({prefix:yt.localName,namespace:yt.value}):yt.nodeName=="xmlns"&&J.push({prefix:"",namespace:yt.value})}for(var dn=0;dn<j;dn++){var yt=ie.item(dn);if(gn(yt,H,J)){var ht=yt.prefix||"",At=yt.namespaceURI;V(U,ht?"xmlns:"+ht:"xmlns",At),J.push({prefix:ht,namespace:At})}Re(yt,U,H,A,J)}if(ee===pe&&gn(N,H,J)){var ht=N.prefix||"",At=N.namespaceURI;V(U,ht?"xmlns:"+ht:"xmlns",At),J.push({prefix:ht,namespace:At})}if(at||H&&!/^(?:meta|link|img|br|hr|input)$/i.test(ee)){if(U.push(">"),H&&/^script$/i.test(ee))for(;at;)at.data?U.push(at.data):Re(at,U,H,A,J.slice()),at=at.nextSibling;else for(;at;)Re(at,U,H,A,J.slice()),at=at.nextSibling;U.push("</",pe,">")}else U.push("/>");return;case I:case M:for(var at=N.firstChild;at;)Re(at,U,H,A,J.slice()),at=at.nextSibling;return;case v:return V(U,N.name,N.value);case y:return U.push(N.data.replace(/[<&]/g,se).replace(/]]>/g,"]]&gt;"));case C:return U.push("<![CDATA[",N.data,"]]>");case D:return U.push("<!--",N.data,"-->");case P:var It=N.publicId,Cn=N.systemId;if(U.push("<!DOCTYPE ",N.name),It)U.push(" PUBLIC ",It),Cn&&Cn!="."&&U.push(" ",Cn),U.push(">");else if(Cn&&Cn!=".")U.push(" SYSTEM ",Cn,">");else{var Ir=N.internalSubset;Ir&&U.push(" [",Ir,"]"),U.push(">")}return;case T:return U.push("<?",N.target," ",N.data,"?>");case S:return U.push("&",N.nodeName,";");default:U.push("??",N.nodeName)}}function Oe(N,U,H){var A;switch(U.nodeType){case p:A=U.cloneNode(!1),A.ownerDocument=N;case M:break;case v:H=!0;break}if(A||(A=U.cloneNode(!1)),A.ownerDocument=N,A.parentNode=null,H)for(var J=U.firstChild;J;)A.appendChild(Oe(N,J,H)),J=J.nextSibling;return A}function He(N,U,H){var A=new U.constructor;for(var J in U)if(Object.prototype.hasOwnProperty.call(U,J)){var ie=U[J];typeof ie!="object"&&ie!=A[J]&&(A[J]=ie)}switch(U.childNodes&&(A.childNodes=new re),A.ownerDocument=N,A.nodeType){case p:var j=U.attributes,ee=A.attributes=new X,pe=j.length;ee._ownerElement=A;for(var ze=0;ze<pe;ze++)A.setAttributeNode(He(N,j.item(ze),!0));break;case v:H=!0}if(H)for(var Pe=U.firstChild;Pe;)A.appendChild(He(N,Pe,H)),Pe=Pe.nextSibling;return A}function ae(N,U,H){N[U]=H}try{if(Object.defineProperty){let N=function(U){switch(U.nodeType){case p:case M:var H=[];for(U=U.firstChild;U;)U.nodeType!==7&&U.nodeType!==8&&H.push(N(U)),U=U.nextSibling;return H.join("");default:return U.nodeValue}};var _e=N;Object.defineProperty(me.prototype,"length",{get:function(){return Z(this),this.$$length}}),Object.defineProperty($.prototype,"textContent",{get:function(){return N(this)},set:function(U){switch(this.nodeType){case p:case M:for(;this.firstChild;)this.removeChild(this.firstChild);(U||String(U))&&this.appendChild(this.ownerDocument.createTextNode(U));break;default:this.data=U,this.value=U,this.nodeValue=U}}}),ae=function(U,H,A){U["$$"+H]=A}}}catch{}return oa.DocumentType=en,oa.DOMException=W,oa.DOMImplementation=Ce,oa.Element=it,oa.Node=$,oa.NodeList=re,oa.XMLSerializer=zt,oa}var qs={},P0={},LS;function ej(){return LS||(LS=1,(function(t){var e=mh().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(P0)),P0}var Pf={},US;function tj(){if(US)return Pf;US=1;var t=mh().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,a=1,s=2,u=3,c=4,f=5,h=6,p=7;function v(B,q){this.message=B,this.locator=q,Error.captureStackTrace&&Error.captureStackTrace(this,v)}v.prototype=new Error,v.prototype.name=v.name;function y(){}y.prototype={parse:function(B,q,Y){var W=this.domBuilder;W.startDocument(),P(q,q={}),C(B,q,Y,W,this.errorHandler),W.endDocument()}};function C(B,q,Y,W,re){function me(it){if(it>65535){it-=65536;var ut=55296+(it>>10),st=56320+(it&1023);return String.fromCharCode(ut,st)}else return String.fromCharCode(it)}function Z(it){var ut=it.slice(1,-1);return ut in Y?Y[ut]:ut.charAt(0)==="#"?me(parseInt(ut.substr(1).replace("x","0x"))):(re.error("entity not found:"+it),it)}function X(it){if(it>we){var ut=B.substring(we,it).replace(/&#?\w+;/g,Z);$&&Q(we),W.characters(ut,0,it-we),we=it}}function Q(it,ut){for(;it>=de&&(ut=Ce.exec(B));)oe=ut.index,de=oe+ut[0].length,$.lineNumber++;$.columnNumber=it-oe+1}for(var oe=0,de=0,Ce=/.*(?:\r\n?|\n)|.*$/g,$=W.locator,se=[{currentNSMap:q}],Ae={},we=0;;){try{var Ue=B.indexOf("<",we);if(Ue<0){if(!B.substr(we).match(/^\s*$/)){var $e=W.doc,qe=$e.createTextNode(B.substr(we));$e.appendChild(qe),W.currentElement=qe}return}switch(Ue>we&&X(Ue),B.charAt(Ue+1)){case"/":var rt=B.indexOf(">",Ue+3),Ge=B.substring(Ue+2,rt).replace(/[ \t\n\r]+$/g,""),ye=se.pop();rt<0?(Ge=B.substring(Ue+2).replace(/[\s<].*/,""),re.error("end tag name: "+Ge+" is not complete:"+ye.tagName),rt=Ue+1+Ge.length):Ge.match(/\s</)&&(Ge=Ge.replace(/[\s<].*/,""),re.error("end tag name: "+Ge+" maybe not complete"),rt=Ue+1+Ge.length);var We=ye.localNSMap,je=ye.tagName==Ge,Ee=je||ye.tagName&&ye.tagName.toLowerCase()==Ge.toLowerCase();if(Ee){if(W.endElement(ye.uri,ye.localName,Ge),We)for(var Qe in We)Object.prototype.hasOwnProperty.call(We,Qe)&&W.endPrefixMapping(Qe);je||re.fatalError("end tag name: "+Ge+" is not match the current start tagName:"+ye.tagName)}else se.push(ye);rt++;break;case"?":$&&Q(Ue),rt=O(B,Ue,W);break;case"!":$&&Q(Ue),rt=M(B,Ue,W,re);break;default:$&&Q(Ue);var Ye=new L,tt=se[se.length-1].currentNSMap,rt=b(B,Ue,Ye,tt,Z,re),ot=Ye.length;if(!Ye.closed&&I(B,rt,Ye.tagName,Ae)&&(Ye.closed=!0,Y.nbsp||re.warning("unclosed xml attribute")),$&&ot){for(var Mt=S($,{}),Ot=0;Ot<ot;Ot++){var Ft=Ye[Ot];Q(Ft.offset),Ft.locator=S($,{})}W.locator=Mt,T(Ye,W,tt)&&se.push(Ye),W.locator=$}else T(Ye,W,tt)&&se.push(Ye);t.isHTML(Ye.uri)&&!Ye.closed?rt=D(B,rt,Ye.tagName,Z,W):rt++}}catch(it){if(it instanceof v)throw it;re.error("element parse error: "+it),rt=-1}rt>we?we=rt:X(Math.max(Ue,we)+1)}}function S(B,q){return q.lineNumber=B.lineNumber,q.columnNumber=B.columnNumber,q}function b(B,q,Y,W,re,me){function Z($,se,Ae){Y.attributeNames.hasOwnProperty($)&&me.fatalError("Attribute "+$+" redefined"),Y.addValue($,se,Ae)}for(var X,Q,oe=++q,de=i;;){var Ce=B.charAt(oe);switch(Ce){case"=":if(de===a)X=B.slice(q,oe),de=u;else if(de===s)de=u;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(de===u||de===a)if(de===a&&(me.warning('attribute value must after "="'),X=B.slice(q,oe)),q=oe+1,oe=B.indexOf(Ce,q),oe>0)Q=B.slice(q,oe).replace(/&#?\w+;/g,re),Z(X,Q,q-1),de=f;else throw new Error("attribute value no end '"+Ce+"' match");else if(de==c)Q=B.slice(q,oe).replace(/&#?\w+;/g,re),Z(X,Q,q),me.warning('attribute "'+X+'" missed start quot('+Ce+")!!"),q=oe+1,de=f;else throw new Error('attribute value must after "="');break;case"/":switch(de){case i:Y.setTagName(B.slice(q,oe));case f:case h:case p:de=p,Y.closed=!0;case c:case a:break;case s:Y.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return me.error("unexpected end of input"),de==i&&Y.setTagName(B.slice(q,oe)),oe;case">":switch(de){case i:Y.setTagName(B.slice(q,oe));case f:case h:case p:break;case c:case a:Q=B.slice(q,oe),Q.slice(-1)==="/"&&(Y.closed=!0,Q=Q.slice(0,-1));case s:de===s&&(Q=X),de==c?(me.warning('attribute "'+Q+'" missed quot(")!'),Z(X,Q.replace(/&#?\w+;/g,re),q)):((!t.isHTML(W[""])||!Q.match(/^(?:disabled|checked|selected)$/i))&&me.warning('attribute "'+Q+'" missed value!! "'+Q+'" instead!!'),Z(Q,Q,q));break;case u:throw new Error("attribute value missed!!")}return oe;case"":Ce=" ";default:if(Ce<=" ")switch(de){case i:Y.setTagName(B.slice(q,oe)),de=h;break;case a:X=B.slice(q,oe),de=s;break;case c:var Q=B.slice(q,oe).replace(/&#?\w+;/g,re);me.warning('attribute "'+Q+'" missed quot(")!!'),Z(X,Q,q);case f:de=h;break}else switch(de){case s:Y.tagName,(!t.isHTML(W[""])||!X.match(/^(?:disabled|checked|selected)$/i))&&me.warning('attribute "'+X+'" missed value!! "'+X+'" instead2!!'),Z(X,X,q),q=oe,de=a;break;case f:me.warning('attribute space is required"'+X+'"!!');case h:de=a,q=oe;break;case u:de=c,q=oe;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}oe++}}function T(B,q,Y){for(var W=B.tagName,re=null,Ce=B.length;Ce--;){var me=B[Ce],Z=me.qName,X=me.value,$=Z.indexOf(":");if($>0)var Q=me.prefix=Z.slice(0,$),oe=Z.slice($+1),de=Q==="xmlns"&&oe;else oe=Z,Q=null,de=Z==="xmlns"&&"";me.localName=oe,de!==!1&&(re==null&&(re={},P(Y,Y={})),Y[de]=re[de]=X,me.uri=t.XMLNS,q.startPrefixMapping(de,X))}for(var Ce=B.length;Ce--;){me=B[Ce];var Q=me.prefix;Q&&(Q==="xml"&&(me.uri=t.XML),Q!=="xmlns"&&(me.uri=Y[Q||""]))}var $=W.indexOf(":");$>0?(Q=B.prefix=W.slice(0,$),oe=B.localName=W.slice($+1)):(Q=null,oe=B.localName=W);var se=B.uri=Y[Q||""];if(q.startElement(se,oe,W,B),B.closed){if(q.endElement(se,oe,W),re)for(Q in re)Object.prototype.hasOwnProperty.call(re,Q)&&q.endPrefixMapping(Q)}else return B.currentNSMap=Y,B.localNSMap=re,!0}function D(B,q,Y,W,re){if(/^(?:script|textarea)$/i.test(Y)){var me=B.indexOf("</"+Y+">",q),Z=B.substring(q+1,me);if(/[&<]/.test(Z))return/^script$/i.test(Y)?(re.characters(Z,0,Z.length),me):(Z=Z.replace(/&#?\w+;/g,W),re.characters(Z,0,Z.length),me)}return q+1}function I(B,q,Y,W){var re=W[Y];return re==null&&(re=B.lastIndexOf("</"+Y+">"),re<q&&(re=B.lastIndexOf("</"+Y)),W[Y]=re),re<q}function P(B,q){for(var Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(q[Y]=B[Y])}function M(B,q,Y,W){var re=B.charAt(q+2);switch(re){case"-":if(B.charAt(q+3)==="-"){var me=B.indexOf("-->",q+4);return me>q?(Y.comment(B,q+4,me-q-4),me+3):(W.error("Unclosed comment"),-1)}else return-1;default:if(B.substr(q+3,6)=="CDATA["){var me=B.indexOf("]]>",q+9);return Y.startCDATA(),Y.characters(B,q+9,me-q-9),Y.endCDATA(),me+3}var Z=z(B,q),X=Z.length;if(X>1&&/!doctype/i.test(Z[0][0])){var Q=Z[1][0],oe=!1,de=!1;X>3&&(/^public$/i.test(Z[2][0])?(oe=Z[3][0],de=X>4&&Z[4][0]):/^system$/i.test(Z[2][0])&&(de=Z[3][0]));var Ce=Z[X-1];return Y.startDTD(Q,oe,de),Y.endDTD(),Ce.index+Ce[0].length}}return-1}function O(B,q,Y){var W=B.indexOf("?>",q);if(W){var re=B.substring(q,W).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return re?(re[0].length,Y.processingInstruction(re[1],re[2]),W+2):-1}return-1}function L(){this.attributeNames={}}L.prototype={setTagName:function(B){if(!r.test(B))throw new Error("invalid tagName:"+B);this.tagName=B},addValue:function(B,q,Y){if(!r.test(B))throw new Error("invalid attribute:"+B);this.attributeNames[B]=this.length,this[this.length++]={qName:B,value:q,offset:Y}},length:0,getLocalName:function(B){return this[B].localName},getLocator:function(B){return this[B].locator},getQName:function(B){return this[B].qName},getURI:function(B){return this[B].uri},getValue:function(B){return this[B].value}};function z(B,q){var Y,W=[],re=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(re.lastIndex=q,re.exec(B);Y=re.exec(B);)if(W.push(Y),Y[1])return W}return Pf.XMLReader=y,Pf.ParseError=v,Pf}var BS;function nj(){if(BS)return qs;BS=1;var t=mh(),e=eD(),n=ej(),r=tj(),i=e.DOMImplementation,a=t.NAMESPACE,s=r.ParseError,u=r.XMLReader;function c(S){this.options=S||{locator:{}}}c.prototype.parseFromString=function(S,b){var T=this.options,D=new u,I=T.domBuilder||new h,P=T.errorHandler,M=T.locator,O=T.xmlns||{},L=/\/x?html?$/.test(b),z=L?n.HTML_ENTITIES:n.XML_ENTITIES;return M&&I.setDocumentLocator(M),D.errorHandler=f(P,I,M),D.domBuilder=T.domBuilder||I,L&&(O[""]=a.HTML),O.xml=O.xml||a.XML,S&&typeof S=="string"?D.parse(S,O,z):D.errorHandler.error("invalid doc source"),I.doc};function f(S,b,T){if(!S){if(b instanceof h)return b;S=b}var D={},I=S instanceof Function;T=T||{};function P(M){var O=S[M];!O&&I&&(O=S.length==2?function(L){S(M,L)}:S),D[M]=O&&function(L){O("[xmldom "+M+"]	"+L+v(T))}||function(){}}return P("warning"),P("error"),P("fatalError"),D}function h(){this.cdata=!1}function p(S,b){b.lineNumber=S.lineNumber,b.columnNumber=S.columnNumber}h.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(S,b,T,D){var I=this.doc,P=I.createElementNS(S,T||b),M=D.length;C(this,P),this.currentElement=P,this.locator&&p(this.locator,P);for(var O=0;O<M;O++){var S=D.getURI(O),L=D.getValue(O),T=D.getQName(O),z=I.createAttributeNS(S,T);this.locator&&p(D.getLocator(O),z),z.value=z.nodeValue=L,P.setAttributeNode(z)}},endElement:function(S,b,T){var D=this.currentElement;D.tagName,this.currentElement=D.parentNode},startPrefixMapping:function(S,b){},endPrefixMapping:function(S){},processingInstruction:function(S,b){var T=this.doc.createProcessingInstruction(S,b);this.locator&&p(this.locator,T),C(this,T)},ignorableWhitespace:function(S,b,T){},characters:function(S,b,T){if(S=y.apply(this,arguments),S){if(this.cdata)var D=this.doc.createCDATASection(S);else var D=this.doc.createTextNode(S);this.currentElement?this.currentElement.appendChild(D):/^\s*$/.test(S)&&this.doc.appendChild(D),this.locator&&p(this.locator,D)}},skippedEntity:function(S){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(S){(this.locator=S)&&(S.lineNumber=0)},comment:function(S,b,T){S=y.apply(this,arguments);var D=this.doc.createComment(S);this.locator&&p(this.locator,D),C(this,D)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(S,b,T){var D=this.doc.implementation;if(D&&D.createDocumentType){var I=D.createDocumentType(S,b,T);this.locator&&p(this.locator,I),C(this,I),this.doc.doctype=I}},warning:function(S){console.warn("[xmldom warning]	"+S,v(this.locator))},error:function(S){console.error("[xmldom error]	"+S,v(this.locator))},fatalError:function(S){throw new s(S,this.locator)}};function v(S){if(S)return`
@`+(S.systemId||"")+"#[line:"+S.lineNumber+",col:"+S.columnNumber+"]"}function y(S,b,T){return typeof S=="string"?S.substr(b,T):S.length>=b+T||b?new java.lang.String(S,b,T)+"":S}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(S){h.prototype[S]=function(){return null}});function C(S,b){S.currentElement?S.currentElement.appendChild(b):S.doc.appendChild(b)}return qs.__DOMHandler=h,qs.DOMParser=c,qs.DOMImplementation=e.DOMImplementation,qs.XMLSerializer=e.XMLSerializer,qs}var jS;function rj(){if(jS)return Eu;jS=1;var t=eD();return Eu.DOMImplementation=t.DOMImplementation,Eu.XMLSerializer=t.XMLSerializer,Eu.DOMParser=nj().DOMParser,Eu}var tD=rj();const lx=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,ij=1,aj=3,nD=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function gh(){var t=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n=="x"?r:r&7|8).toString(16)});return e}function oj(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function rD(t){return!!(t&&t.nodeType==1)}function bn(t){return!isNaN(parseFloat(t))&&isFinite(t)}function iD(t){let e=parseFloat(t);return bn(t)===!1?!1:typeof t=="string"&&t.indexOf(".")>-1?!0:Math.floor(e)!==e}function Ks(t){var e=["Webkit","webkit","Moz","O","ms"],n=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=t.toLowerCase(),i=e.length;if(typeof document>"u"||typeof document.body.style[r]<"u")return t;for(var a=0;a<i;a++)if(typeof document.body.style[n[a]+r]<"u")return n[a]+r;return t}function aD(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)t[i]===void 0&&(t[i]=r[i])}return t}function ir(t){var e=[].slice.call(arguments,1);return e.forEach(function(n){n&&Object.getOwnPropertyNames(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}),t}function sj(t,e,n){var r=cl(t,e,n);return e.splice(r,0,t),r}function cl(t,e,n,r,i){var a=r||0,s=i||e.length,u=parseInt(a+(s-a)/2),c;return n||(n=function(f,h){if(f>h)return 1;if(f<h)return-1;if(f==h)return 0}),s-a<=0?u:(c=n(e[u],t),s-a===1?c>=0?u:u+1:c===0?u:c===-1?cl(t,e,n,u,s):cl(t,e,n,a,u))}function pd(t,e,n,r,i){var a=r||0,s=i||e.length,u=parseInt(a+(s-a)/2),c;return n||(n=function(f,h){if(f>h)return 1;if(f<h)return-1;if(f==h)return 0}),s-a<=0?-1:(c=n(e[u],t),s-a===1?c===0?u:-1:c===0?u:c===-1?pd(t,e,n,u,s):pd(t,e,n,a,u))}function nd(t){var e=window.getComputedStyle(t),n=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,a=0;return n.forEach(function(s){i+=parseFloat(e[s])||0}),r.forEach(function(s){a+=parseFloat(e[s])||0}),{height:a,width:i}}function md(t){var e=window.getComputedStyle(t),n=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,a=0;return n.forEach(function(s){i+=parseFloat(e[s])||0}),r.forEach(function(s){a+=parseFloat(e[s])||0}),{height:a,width:i}}function $v(t){let e,n=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){let r=n.createRange();r.selectNodeContents(t),e=r.getBoundingClientRect()}else e=t.getBoundingClientRect();return e}function gd(){var t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function ux(t,e){for(var n=t.parentNode,r=n.childNodes,i,a=-1,s=0;s<r.length&&(i=r[s],i.nodeType===e&&a++,i!=t);s++);return a}function lj(t){return ux(t,aj)}function oD(t){return ux(t,ij)}function Lu(t){return["xml","opf","ncx"].indexOf(t)>-1}function sD(t,e){return new Blob([t],{type:e})}function vd(t,e){var n,r=sD(t,e);return n=nD.createObjectURL(r),n}function lD(t){return nD.revokeObjectURL(t)}function Yv(t,e){var n,r;if(typeof t=="string")return n=btoa(t),r="data:"+e+";base64,"+n,r}function uD(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ui(t,e,n){var r,i;return typeof DOMParser>"u"||n?i=tD.DOMParser:i=DOMParser,t.charCodeAt(0)===65279&&(t=t.slice(1)),r=new i().parseFromString(t,e),r}function Xt(t,e){var n;if(!t)throw new Error("No Element Provided");if(typeof t.querySelector<"u")return t.querySelector(e);if(n=t.getElementsByTagName(e),n.length)return n[0]}function pa(t,e){return typeof t.querySelector<"u"?t.querySelectorAll(e):t.getElementsByTagName(e)}function Xs(t,e,n){var r,i;if(typeof t.querySelector<"u"){e+="[";for(var a in n)e+=a+"~='"+n[a]+"'";return e+="]",t.querySelector(e)}else if(r=t.getElementsByTagName(e),i=Array.prototype.slice.call(r,0).filter(function(s){for(var u in n)if(s.getAttribute(u)===n[u])return!0;return!1}),i)return i[0]}function yd(t,e){var n=t.ownerDocument||t;typeof n.createTreeWalker<"u"?cD(t,e,NodeFilter.SHOW_TEXT):cx(t,function(r){r&&r.nodeType===3&&e(r)})}function cD(t,e,n){var r=document.createTreeWalker(t,n,null,!1);let i;for(;i=r.nextNode();)e(i)}function cx(t,e){if(e(t))return!0;if(t=t.firstChild,t)do{if(cx(t,e))return!0;t=t.nextSibling}while(t)}function fD(t){return new Promise(function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onloadend=function(){e(r.result)}})}function Dt(){this.resolve=null,this.reject=null,this.id=gh(),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e}),Object.freeze(this)}function xd(t,e,n){var r;if(typeof t.querySelector<"u"&&(r=t.querySelector(`${e}[*|type="${n}"]`)),!r||r.length===0){r=pa(t,e);for(var i=0;i<r.length;i++)if(r[i].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||r[i].getAttribute("epub:type")===n)return r[i]}else return r}function Wv(t){for(var e=[],n=t.childNodes,r=0;r<n.length;r++){let i=n[r];i.nodeType===1&&e.push(i)}return e}function Kv(t){for(var e=[t];t;t=t.parentNode)e.unshift(t);return e}function Zs(t,e,n){for(var r=[],i=t.childNodes,a=0;a<i.length;a++){let s=i[a];if(s.nodeType===1&&s.nodeName.toLowerCase()===e){if(n)return s;r.push(s)}}if(!n)return r}function uj(t,e){let n;if(!(t===null||e===""))for(n=t.parentNode;n.nodeType===1;){if(n.tagName.toLowerCase()===e)return n;n=n.parentNode}}class dD{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,n){this.startContainer=e,this.startOffset=n,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,n){this.endContainer=e,this.endOffset=n,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let n=e.parentNode,r=Array.prototype.indexOf.call(n.childNodes,e);this.setStart(n,r),this.setEnd(n,r+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let n=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,n)}_commonAncestorContainer(e,n){var r=Kv(e||this.startContainer),i=Kv(n||this.endContainer);if(r[0]==i[0]){for(var a=0;a<r.length;a++)if(r[a]!=i[a])return r[a-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const cj=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:dD,blob2base64:fD,borders:md,bounds:nd,createBase64Url:Yv,createBlob:sD,createBlobUrl:vd,defaults:aD,defer:Dt,documentHeight:oj,extend:ir,filterChildren:Zs,findChildren:Wv,getParentByTagName:uj,indexOfElementNode:oD,indexOfNode:ux,indexOfSorted:pd,indexOfTextNode:lj,insert:sj,isElement:rD,isFloat:iD,isNumber:bn,isXml:Lu,locationOf:cl,nodeBounds:$v,parents:Kv,parse:Ui,prefixed:Ks,qs:Xt,qsa:pa,qsp:Xs,querySelectorByType:xd,requestAnimationFrame:lx,revokeBlobUrl:lD,sprint:yd,treeWalker:cD,type:uD,uuid:gh,walk:cx,windowBounds:gd},Symbol.toStringTag,{value:"Module"}));var L0,zS;function fj(){if(zS)return L0;if(zS=1,!t)var t={cwd:function(){return"/"}};function e(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+a)}function n(a,s){for(var u="",c=-1,f=0,h,p=0;p<=a.length;++p){if(p<a.length)h=a.charCodeAt(p);else{if(h===47)break;h=47}if(h===47){if(!(c===p-1||f===1))if(c!==p-1&&f===2){if(u.length<2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){for(var v=u.length-1,y=v;y>=0&&u.charCodeAt(y)!==47;--y);if(y!==v){y===-1?u="":u=u.slice(0,y),c=p,f=0;continue}}else if(u.length===2||u.length===1){u="",c=p,f=0;continue}}s&&(u.length>0?u+="/..":u="..")}else u.length>0?u+="/"+a.slice(c+1,p):u=a.slice(c+1,p);c=p,f=0}else h===46&&f!==-1?++f:f=-1}return u}function r(a,s){var u=s.dir||s.root,c=s.base||(s.name||"")+(s.ext||"");return u?u===s.root?u+c:u+a+c:c}var i={resolve:function(){for(var s="",u=!1,c,f=arguments.length-1;f>=-1&&!u;f--){var h;f>=0?h=arguments[f]:(c===void 0&&(c=t.cwd()),h=c),e(h),h.length!==0&&(s=h+"/"+s,u=h.charCodeAt(0)===47)}return s=n(s,!u),u?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var u=s.charCodeAt(0)===47,c=s.charCodeAt(s.length-1)===47;return s=n(s,!u),s.length===0&&!u&&(s="."),s.length>0&&c&&(s+="/"),u?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,u=0;u<arguments.length;++u){var c=arguments[u];e(c),c.length>0&&(s===void 0?s=c:s+="/"+c)}return s===void 0?".":i.normalize(s)},relative:function(s,u){if(e(s),e(u),s===u||(s=i.resolve(s),u=i.resolve(u),s===u))return"";for(var c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var f=s.length,h=f-c,p=1;p<u.length&&u.charCodeAt(p)===47;++p);for(var v=u.length,y=v-p,C=h<y?h:y,S=-1,b=0;b<=C;++b){if(b===C){if(y>C){if(u.charCodeAt(p+b)===47)return u.slice(p+b+1);if(b===0)return u.slice(p+b)}else h>C&&(s.charCodeAt(c+b)===47?S=b:b===0&&(S=0));break}var T=s.charCodeAt(c+b),D=u.charCodeAt(p+b);if(T!==D)break;T===47&&(S=b)}var I="";for(b=c+S+1;b<=f;++b)(b===f||s.charCodeAt(b)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+u.slice(p+S):(p+=S,u.charCodeAt(p)===47&&++p,u.slice(p))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var u=s.charCodeAt(0),c=u===47,f=-1,h=!0,p=s.length-1;p>=1;--p)if(u=s.charCodeAt(p),u===47){if(!h){f=p;break}}else h=!1;return f===-1?c?"/":".":c&&f===1?"//":s.slice(0,f)},basename:function(s,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');e(s);var c=0,f=-1,h=!0,p;if(u!==void 0&&u.length>0&&u.length<=s.length){if(u.length===s.length&&u===s)return"";var v=u.length-1,y=-1;for(p=s.length-1;p>=0;--p){var C=s.charCodeAt(p);if(C===47){if(!h){c=p+1;break}}else y===-1&&(h=!1,y=p+1),v>=0&&(C===u.charCodeAt(v)?--v===-1&&(f=p):(v=-1,f=y))}return c===f?f=y:f===-1&&(f=s.length),s.slice(c,f)}else{for(p=s.length-1;p>=0;--p)if(s.charCodeAt(p)===47){if(!h){c=p+1;break}}else f===-1&&(h=!1,f=p+1);return f===-1?"":s.slice(c,f)}},extname:function(s){e(s);for(var u=-1,c=0,f=-1,h=!0,p=0,v=s.length-1;v>=0;--v){var y=s.charCodeAt(v);if(y===47){if(!h){c=v+1;break}continue}f===-1&&(h=!1,f=v+1),y===46?u===-1?u=v:p!==1&&(p=1):u!==-1&&(p=-1)}return u===-1||f===-1||p===0||p===1&&u===f-1&&u===c+1?"":s.slice(u,f)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof s);return r("/",s)},parse:function(s){e(s);var u={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return u;var c=s.charCodeAt(0),f=c===47,h;f?(u.root="/",h=1):h=0;for(var p=-1,v=0,y=-1,C=!0,S=s.length-1,b=0;S>=h;--S){if(c=s.charCodeAt(S),c===47){if(!C){v=S+1;break}continue}y===-1&&(C=!1,y=S+1),c===46?p===-1?p=S:b!==1&&(b=1):p!==-1&&(b=-1)}return p===-1||y===-1||b===0||b===1&&p===y-1&&p===v+1?y!==-1&&(v===0&&f?u.base=u.name=s.slice(1,y):u.base=u.name=s.slice(v,y)):(v===0&&f?(u.name=s.slice(1,p),u.base=s.slice(1,y)):(u.name=s.slice(v,p),u.base=s.slice(v,y)),u.ext=s.slice(p,y)),v>0?u.dir=s.slice(0,v-1):f&&(u.dir="/"),u},sep:"/",delimiter:":",posix:null};return L0=i,L0}var dj=fj();const uo=hr(dj);let ma=class{constructor(e){var n,r;n=e.indexOf("://"),n>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return uo.parse(e)}isAbsolute(e){return uo.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return uo.resolve(this.directory,e)}relative(e){var n=e&&e.indexOf("://")>-1;return n?e:uo.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}};class xi{constructor(e,n){var r=e.indexOf("://")>-1,i=e,a;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!r&&n!==!1&&typeof n!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,i=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(a=new ma(this.base),i=a.resolve(i))}this.Path=new ma(i),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var n=e.indexOf("://")>-1,r;return n?e:(r=uo.resolve(this.directory,e),this.origin+r)}relative(e){return uo.relative(e,this.directory)}toString(){return this.href}}const Hs=1,ni=3,hj=9;class Rt{constructor(e,n,r){var i;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Rt))return new Rt(e,n,r);if(typeof n=="string"?this.base=this.parseComponent(n):typeof n=="object"&&n.steps&&(this.base=n),i=this.checkType(e),i==="string")return this.str=e,ir(this,this.parse(e));if(i==="range")return ir(this,this.fromRange(e,this.base,r));if(i==="node")return ir(this,this.fromNode(e,this.base,r));if(i==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(uD(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Rt?"EpubCFI":!1}parse(e){var n={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,i,a;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(n.base=this.parseComponent(r),i=this.getPathComponent(e),n.path=this.parseComponent(i),a=this.getRange(e),a&&(n.range=!0,n.start=this.parseComponent(a[0]),n.end=this.parseComponent(a[1])),n.spinePos=n.base.steps[1].index,n):{spinePos:-1})}parseComponent(e){var n={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),i=r[0].split("/"),a;return r.length>1&&(a=r[1],n.terminal=this.parseTerminal(a)),i[0]===""&&i.shift(),n.steps=i.map((function(s){return this.parseStep(s)}).bind(this)),n}parseStep(e){var n,r,i,a,s;if(a=e.match(/\[(.*)\]/),a&&a[1]&&(s=a[1]),r=parseInt(e),!isNaN(r))return r%2===0?(n="element",i=r/2-1):(n="text",i=(r-1)/2),{type:n,index:i,id:s||null}}parseTerminal(e){var n,r,i=e.match(/\[(.*)\]/);return i&&i[1]?(n=parseInt(e.split("[")[0]),r=i[1]):n=parseInt(e),bn(n)||(n=null),{offset:n,assertion:r}}getChapterComponent(e){var n=e.split("!");return n[0]}getPathComponent(e){var n=e.split("!");if(n[1])return n[1].split(",")[0]}getRange(e){var n=e.split(",");return n.length===3?[n[1],n[2]]:!1}getCharecterOffsetComponent(e){var n=e.split(":");return n[1]||""}joinSteps(e){return e?e.map(function(n){var r="";return n.type==="element"&&(r+=(n.index+1)*2),n.type==="text"&&(r+=1+2*n.index),n.id&&(r+="["+n.id+"]"),r}).join("/"):""}segmentString(e){var n="/";return n+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(n+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(n+="["+e.terminal.assertion+"]"),n}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,n){var r,i,a,s;if(typeof e=="string"&&(e=new Rt(e)),typeof n=="string"&&(n=new Rt(n)),e.spinePos>n.spinePos)return 1;if(e.spinePos<n.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),a=e.start.terminal):(r=e.path.steps,a=e.path.terminal),n.range?(i=n.path.steps.concat(n.start.steps),s=n.start.terminal):(i=n.path.steps,s=n.path.terminal);for(var u=0;u<r.length;u++){if(!r[u])return-1;if(!i[u]||r[u].index>i[u].index)return 1;if(r[u].index<i[u].index)return-1}return r.length<i.length?-1:a.offset>s.offset?1:a.offset<s.offset?-1:0}step(e){var n=e.nodeType===ni?"text":"element";return{id:e.id,tagName:e.tagName,type:n,index:this.position(e)}}filteredStep(e,n){var r=this.filter(e,n),i;if(r)return i=r.nodeType===ni?"text":"element",{id:r.id,tagName:r.tagName,type:i,index:this.filteredPosition(r,n)}}pathTo(e,n,r){for(var i={steps:[],terminal:{offset:null,assertion:null}},a=e,s;a&&a.parentNode&&a.parentNode.nodeType!=hj;)r?s=this.filteredStep(a,r):s=this.step(a),s&&i.steps.unshift(s),a=a.parentNode;return n!=null&&n>=0&&(i.terminal.offset=n,i.steps[i.steps.length-1].type!="text"&&i.steps.push({type:"text",index:0})),i}equalStep(e,n){return!e||!n?!1:e.index===n.index&&e.id===n.id&&e.type===n.type}fromRange(e,n,r){var i={range:!1,base:{},path:{},start:null,end:null},a=e.startContainer,s=e.endContainer,u=e.startOffset,c=e.endOffset,f=!1;if(r&&(f=a.ownerDocument.querySelector("."+r)!=null),typeof n=="string"?(i.base=this.parseComponent(n),i.spinePos=i.base.steps[1].index):typeof n=="object"&&(i.base=n),e.collapsed)f&&(u=this.patchOffset(a,u,r)),i.path=this.pathTo(a,u,r);else{i.range=!0,f&&(u=this.patchOffset(a,u,r)),i.start=this.pathTo(a,u,r),f&&(c=this.patchOffset(s,c,r)),i.end=this.pathTo(s,c,r),i.path={steps:[],terminal:null};var h=i.start.steps.length,p;for(p=0;p<h&&this.equalStep(i.start.steps[p],i.end.steps[p]);p++)p===h-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[p]),i.range=!1):i.path.steps.push(i.start.steps[p]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}fromNode(e,n,r){var i={range:!1,base:{},path:{},start:null,end:null};return typeof n=="string"?(i.base=this.parseComponent(n),i.spinePos=i.base.steps[1].index):typeof n=="object"&&(i.base=n),i.path=this.pathTo(e,null,r),i}filter(e,n){var r,i,a,s,u,c=!1;return e.nodeType===ni?(c=!0,a=e.parentNode,r=e.parentNode.classList.contains(n)):(c=!1,r=e.classList.contains(n)),r&&c?(s=a.previousSibling,u=a.nextSibling,s&&s.nodeType===ni?i=s:u&&u.nodeType===ni&&(i=u),i||e):r&&!c?!1:e}patchOffset(e,n,r){if(e.nodeType!=ni)throw new Error("Anchor must be a text node");var i=e,a=n;for(e.parentNode.classList.contains(r)&&(i=e.parentNode);i.previousSibling;){if(i.previousSibling.nodeType===Hs)if(i.previousSibling.classList.contains(r))a+=i.previousSibling.textContent.length;else break;else a+=i.previousSibling.textContent.length;i=i.previousSibling}return a}normalizedMap(e,n,r){var i={},a=-1,s,u=e.length,c,f;for(s=0;s<u;s++)c=e[s].nodeType,c===Hs&&e[s].classList.contains(r)&&(c=ni),s>0&&c===ni&&f===ni?i[s]=a:n===c&&(a=a+1,i[s]=a),f=c;return i}position(e){var n,r;return e.nodeType===Hs?(n=e.parentNode.children,n||(n=Wv(e.parentNode)),r=Array.prototype.indexOf.call(n,e)):(n=this.textNodes(e.parentNode),r=n.indexOf(e)),r}filteredPosition(e,n){var r,i,a;return e.nodeType===Hs?(r=e.parentNode.children,a=this.normalizedMap(r,Hs,n)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(n)&&(e=e.parentNode,r=e.parentNode.childNodes),a=this.normalizedMap(r,ni,n)),i=Array.prototype.indexOf.call(r,e),a[i]}stepsToXpath(e){var n=[".","*"];return e.forEach(function(r){var i=r.index+1;r.id?n.push("*[position()="+i+" and @id='"+r.id+"']"):r.type==="text"?n.push("text()["+i+"]"):n.push("*["+i+"]")}),n.join("/")}stepsToQuerySelector(e){var n=["html"];return e.forEach(function(r){var i=r.index+1;r.id?n.push("#"+r.id):r.type==="text"||n.push("*:nth-child("+i+")")}),n.join(">")}textNodes(e,n){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===ni?!0:!!(n&&r.classList.contains(n))})}walkToNode(e,n,r){var i=n||document,a=i.documentElement,s,u,c=e.length,f;for(f=0;f<c&&(u=e[f],u.type==="element"?u.id?a=i.getElementById(u.id):(s=a.children||Wv(a),a=s[u.index]):u.type==="text"&&(a=this.textNodes(a,r)[u.index]),!!a);f++);return a}findNode(e,n,r){var i=n||document,a,s;return!r&&typeof i.evaluate<"u"?(s=this.stepsToXpath(e),a=i.evaluate(s,i,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?a=this.walkToNode(e,i,r):a=this.walkToNode(e,i),a}fixMiss(e,n,r,i){var a=this.findNode(e.slice(0,-1),r,i),s=a.childNodes,u=this.normalizedMap(s,ni,i),c,f,h=e[e.length-1].index;for(let p in u){if(!u.hasOwnProperty(p))return;if(u[p]===h)if(c=s[p],f=c.textContent.length,n>f)n=n-f;else{c.nodeType===Hs?a=c.childNodes[0]:a=c;break}}return{container:a,offset:n}}toRange(e,n){var r=e||document,i,a,s,u,c,f=this,h,p,v=n?r.querySelector("."+n)!=null:!1,y;if(typeof r.createRange<"u"?i=r.createRange():i=new dD,f.range?(a=f.start,h=f.path.steps.concat(a.steps),u=this.findNode(h,r,v?n:null),s=f.end,p=f.path.steps.concat(s.steps),c=this.findNode(p,r,v?n:null)):(a=f.path,h=f.path.steps,u=this.findNode(f.path.steps,r,v?n:null)),u)try{a.terminal.offset!=null?i.setStart(u,a.terminal.offset):i.setStart(u,0)}catch{y=this.fixMiss(h,a.terminal.offset,r,v?n:null),i.setStart(y.container,y.offset)}else return console.log("No startContainer found for",this.toString()),null;if(c)try{s.terminal.offset!=null?i.setEnd(c,s.terminal.offset):i.setEnd(c,0)}catch{y=this.fixMiss(p,f.end.terminal.offset,r,v?n:null),i.setEnd(y.container,y.offset)}return i}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,n,r){var i=parseInt(n),a=(e+1)*2,s="/"+a+"/";return s+=(i+1)*2,r&&(s+="["+r+"]"),s}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class bi{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var n=0;n<arguments[e].length;++n)this.hooks.push(arguments[e][n])}deregister(e){let n;for(let r=0;r<this.hooks.length;r++)if(n=this.hooks[r],n===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,n=this.context,r=[];return this.hooks.forEach(function(i){try{var a=i.apply(n,e)}catch(s){console.log(s)}a&&typeof a.then=="function"&&r.push(a)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}}function hD(t,e){var n,r,i=e.url,a=i.indexOf("://")>-1;t&&(r=Xt(t,"head"),n=Xt(r,"base"),n||(n=t.createElement("base"),r.insertBefore(n,r.firstChild)),!a&&window&&window.location&&(i=window.location.origin+i),n.setAttribute("href",i))}function pj(t,e){var n,r,i=e.canonical;t&&(n=Xt(t,"head"),r=Xt(n,"link[rel='canonical']"),r?r.setAttribute("href",i):(r=t.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",i),n.appendChild(r)))}function mj(t,e){var n,r,i=e.idref;t&&(n=Xt(t,"head"),r=Xt(n,"link[property='dc.identifier']"),r?r.setAttribute("content",i):(r=t.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",i),n.appendChild(r)))}function gj(t,e){var n=t.querySelectorAll("a[href]");if(n.length)for(var r=Xt(t.ownerDocument,"base"),i=r?r.getAttribute("href"):void 0,a=(function(u){var c=u.getAttribute("href");if(c.indexOf("mailto:")!==0){var f=c.indexOf("://")>-1;if(f)u.setAttribute("target","_blank");else{var h;try{h=new xi(c,i)}catch{}u.onclick=function(){return h&&h.hash?e(h.Path.path+h.hash):e(h?h.Path.path:c),!1}}}}).bind(this),s=0;s<n.length;s++)a(n[s])}function FS(t,e,n){return e.forEach(function(r,i){r&&n[i]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(r,"g"),n[i]))}),t}function Uu(t,e,n,r){var i=typeof window<"u"?window.URL:!1,a=i?"blob":"arraybuffer",s=new Dt,u=new XMLHttpRequest,c=XMLHttpRequest.prototype,f;"overrideMimeType"in c||Object.defineProperty(c,"overrideMimeType",{value:function(){}}),n&&(u.withCredentials=!0),u.onreadystatechange=p,u.onerror=h,u.open("GET",t,!0);for(f in r)u.setRequestHeader(f,r[f]);e=="json"&&u.setRequestHeader("Accept","application/json"),e||(e=new ma(t).extension),e=="blob"&&(u.responseType=a),Lu(e)&&u.overrideMimeType("text/xml"),e=="binary"&&(u.responseType="arraybuffer"),u.send();function h(v){s.reject(v)}function p(){if(this.readyState===XMLHttpRequest.DONE){var v=!1;if((this.responseType===""||this.responseType==="document")&&(v=this.responseXML),this.status===200||this.status===0||v){var y;if(!this.response&&!v)return s.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),s.promise;if(this.status===403)return s.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),s.promise;v?y=this.responseXML:Lu(e)?y=Ui(this.response,"text/xml"):e=="xhtml"?y=Ui(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?y=Ui(this.response,"text/html"):e=="json"?y=JSON.parse(this.response):e=="blob"?i?y=this.response:y=new Blob([this.response]):y=this.response,s.resolve(y)}else s.reject({status:this.status,message:this.response,stack:new Error().stack})}}return s.promise}class vj{constructor(e,n){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new bi(this),this.hooks.content=new bi(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var n=e||this.request||Uu,r=new Dt,i=r.promise;return this.contents?r.resolve(this.contents):n(this.url).then((function(a){return this.document=a,this.contents=a.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){r.resolve(this.contents)}).bind(this)).catch(function(a){r.reject(a)}),i}base(){return hD(this.document,this)}render(e){var n=new Dt,r=n.promise;return this.output,this.load(e).then((function(i){var a=typeof navigator<"u"&&navigator.userAgent||"",s=a.indexOf("Trident")>=0,u;typeof XMLSerializer>"u"||s?u=tD.DOMParser:u=XMLSerializer;var c=new u;return this.output=c.serializeToString(i),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){n.resolve(this.output)}).bind(this)).catch(function(i){n.reject(i)}),r}find(e){var n=this,r=[],i=e.toLowerCase(),a=function(s){for(var u=s.textContent.toLowerCase(),c=n.document.createRange(),f,h,p=-1,v,y=150;h!=-1;)h=u.indexOf(i,p+1),h!=-1&&(c=n.document.createRange(),c.setStart(s,h),c.setEnd(s,h+i.length),f=n.cfiFromRange(c),s.textContent.length<y?v=s.textContent:(v=s.textContent.substring(h-y/2,h+y/2),v="..."+v+"..."),r.push({cfi:f,excerpt:v})),p=h};return yd(n.document,function(s){a(s)}),r}search(e,n=5){if(typeof document.createTreeWalker>"u")return this.find(e);let r=[];const i=150,a=this,s=e.toLowerCase(),u=function(p){const C=p.reduce((S,b)=>S+b.textContent,"").toLowerCase().indexOf(s);if(C!=-1){const b=C+s.length;let T=0,D=0;if(C<p[0].length){let I;for(;T<p.length-1&&(D+=p[T].length,!(b<=D));)T+=1;let P=p[0],M=p[T],O=a.document.createRange();O.setStart(P,C);let L=p.slice(0,T).reduce((B,q)=>B+q.textContent.length,0);O.setEnd(M,L>b?b:b-L),I=a.cfiFromRange(O);let z=p.slice(0,T+1).reduce((B,q)=>B+q.textContent,"");z.length>i&&(z=z.substring(C-i/2,C+i/2),z="..."+z+"..."),r.push({cfi:I,excerpt:z})}}},c=document.createTreeWalker(a.document,NodeFilter.SHOW_TEXT,null,!1);let f,h=[];for(;f=c.nextNode();)h.push(f),h.length==n&&(u(h.slice(0,n)),h=h.slice(1,n));return h.length>0&&u(h),r}reconcileLayoutSettings(e){var n={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var i=r.replace("rendition:",""),a=i.indexOf("-"),s,u;a!=-1&&(s=i.slice(0,a),u=i.slice(a+1),n[s]=u)}),n}cfiFromRange(e){return new Rt(e,this.cfiBase).toString()}cfiFromElement(e){return new Rt(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class yj{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new bi,this.hooks.content=new bi,this.hooks.content.register(hD),this.hooks.content.register(pj),this.hooks.content.register(mj),this.epubcfi=new Rt,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,n,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((i,a)=>{var s=this.manifest[i.idref],u;i.index=a,i.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,i.index,i.id),i.href&&(i.url=n(i.href,!0),i.canonical=r(i.href)),s&&(i.href=s.href,i.url=n(i.href,!0),i.canonical=r(i.href),s.properties.length&&i.properties.push.apply(i.properties,s.properties)),i.linear==="yes"?(i.prev=(function(){let c=i.index;for(;c>0;){let f=this.get(c-1);if(f&&f.linear)return f;c-=1}}).bind(this),i.next=(function(){let c=i.index;for(;c<this.spineItems.length-1;){let f=this.get(c+1);if(f&&f.linear)return f;c+=1}}).bind(this)):(i.prev=function(){},i.next=function(){}),u=new vj(i,this.hooks),this.append(u)}),this.loaded=!0}get(e){var n=0;if(typeof e>"u")for(;n<this.spineItems.length;){let r=this.spineItems[n];if(r&&r.linear)break;n+=1}else this.epubcfi.isCfiString(e)?n=new Rt(e).spinePos:typeof e=="number"||isNaN(e)===!1?n=e:typeof e=="string"&&e.indexOf("#")===0?n=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],n=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[n]||null}append(e){var n=this.spineItems.length;return e.index=n,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=n,this.spineByHref[encodeURI(e.href)]=n,this.spineByHref[e.href]=n,this.spineById[e.idref]=n,n}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(n,r){n.index=r}),0}remove(e){var n=this.spineItems.indexOf(e);if(n>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(n,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let n=this.get(e);if(n&&n.linear)return n;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let n=this.get(e);if(n&&n.linear)return n;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class fx{constructor(e){this._q=[],this.context=e,this.tick=lx,this.running=!1,this.paused=!1}enqueue(){var e,n,r,i=[].shift.call(arguments),a=arguments;if(!i)throw new Error("No Task Provided");return typeof i=="function"?(e=new Dt,n=e.promise,r={task:i,args:a,deferred:e,promise:n}):r={promise:i},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,n,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),n=e.task,n)return r=n.apply(this.context,e.args),r&&typeof r.then=="function"?r.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new Dt,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Dt),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const vh="0.3",rd=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Ve={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class pD{constructor(e,n,r){this.spine=e,this.request=n,this.pause=r||100,this.q=new fx(this),this.epubcfi=new Rt,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(n){n.linear&&this.q.enqueue(this.process.bind(this),n)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(n){var r=new Dt,i=this.parse(n,e.cfiBase);return this._locations=this._locations.concat(i),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(i),this.pause),r.promise}).bind(this))}parse(e,n,r){var i=[],a,s=e.ownerDocument,u=Xt(s,"body"),c=0,f,h=r||this.break,p=function(v){var y=v.length,C,S=0;if(v.textContent.trim().length===0)return!1;for(c==0&&(a=this.createRange(),a.startContainer=v,a.startOffset=0),C=h-c,C>y&&(c+=y,S=y);S<y;)if(C=h-c,c===0&&(S+=1,a=this.createRange(),a.startContainer=v,a.startOffset=S),S+C>=y)c+=y-S,S=y;else{S+=C,a.endContainer=v,a.endOffset=S;let b=new Rt(a,n).toString();i.push(b),c=0}f=v};if(yd(u,p.bind(this)),a&&a.startContainer&&f){a.endContainer=f,a.endOffset=f.length;let v=new Rt(a,n).toString();i.push(v),c=0}return i}generateFromWords(e,n,r){var i=e?new Rt(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(a){a.linear&&(i?a.index>=i.spinePos&&this.q.enqueue(this.processWords.bind(this),a,n,i,r):this.q.enqueue(this.processWords.bind(this),a,n,i,r))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,n,r,i){return i&&this._locationsWords.length>=i?Promise.resolve():e.load(this.request).then((function(a){var s=new Dt,u=this.parseWords(a,e,n,r),c=i-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(u.length>=i?u.slice(0,c):u),e.unload(),this.processingTimeout=setTimeout(()=>s.resolve(u),this.pause),s.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,n,r,i){var a=n.cfiBase,s=[],u=e.ownerDocument,c=Xt(u,"body"),f=r,h=i?i.spinePos!==n.index:!0,p;i&&n.index===i.spinePos&&(p=i.findNode(i.range?i.path.steps.concat(i.start.steps):i.path.steps,e.ownerDocument));var v=function(y){if(!h)if(y===p)h=!0;else return!1;if(y.textContent.length<10&&y.textContent.trim().length===0)return!1;var C=this.countWords(y.textContent),S,b=0;if(C===0)return!1;for(S=f-this._wordCounter,S>C&&(this._wordCounter+=C,b=C);b<C;)if(S=f-this._wordCounter,b+S>=C)this._wordCounter+=C-b,b=C;else{b+=S;let T=new Rt(y,a);s.push({cfi:T.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return yd(c,v.bind(this)),s}locationFromCfi(e){let n;return Rt.prototype.isCfiString(e)&&(e=new Rt(e)),this._locations.length===0?-1:(n=cl(e,this._locations,this.epubcfi.compare),n>this.total?this.total:n)}percentageFromCfi(e){if(this._locations.length===0)return null;var n=this.locationFromCfi(e);return this.percentageFromLocation(n)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var n=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(n=this._locations[e]),n}cfiFromPercentage(e){let n;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let r=new Rt(this._locations[this.total]);return r.collapse(),r.toString()}return n=Math.ceil(this.total*e),this.cfiFromLocation(n)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var n;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(n=this.locationFromCfi(e),this._current=n):n=e,this.emit(Ve.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(n)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}qi(pD.prototype);class xj{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var n;if(!e)throw new Error("Container File Not Found");if(n=Xt(e,"rootfile"),!n)throw new Error("No RootFile Found");this.packagePath=n.getAttribute("full-path"),this.directory=uo.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class qS{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var n,r,i;if(!e)throw new Error("Package File Not Found");if(n=Xt(e,"metadata"),!n)throw new Error("No Metadata Found");if(r=Xt(e,"manifest"),!r)throw new Error("No Manifest Found");if(i=Xt(e,"spine"),!i)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,i),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=oD(i),this.spine=this.parseSpine(i,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(n),this.metadata.direction=i.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var n={};return n.title=this.getElementText(e,"title"),n.creator=this.getElementText(e,"creator"),n.description=this.getElementText(e,"description"),n.pubdate=this.getElementText(e,"date"),n.publisher=this.getElementText(e,"publisher"),n.identifier=this.getElementText(e,"identifier"),n.language=this.getElementText(e,"language"),n.rights=this.getElementText(e,"rights"),n.modified_date=this.getPropertyText(e,"dcterms:modified"),n.layout=this.getPropertyText(e,"rendition:layout"),n.orientation=this.getPropertyText(e,"rendition:orientation"),n.flow=this.getPropertyText(e,"rendition:flow"),n.viewport=this.getPropertyText(e,"rendition:viewport"),n.media_active_class=this.getPropertyText(e,"media:active-class"),n.spread=this.getPropertyText(e,"rendition:spread"),n}parseManifest(e){var n={},r=pa(e,"item"),i=Array.prototype.slice.call(r);return i.forEach(function(a){var s=a.getAttribute("id"),u=a.getAttribute("href")||"",c=a.getAttribute("media-type")||"",f=a.getAttribute("media-overlay")||"",h=a.getAttribute("properties")||"";n[s]={href:u,type:c,overlay:f,properties:h.length?h.split(" "):[]}}),n}parseSpine(e,n){var r=[],i=pa(e,"itemref"),a=Array.prototype.slice.call(i);return a.forEach(function(s,u){var c=s.getAttribute("idref"),f=s.getAttribute("properties")||"",h=f.length?f.split(" "):[],p={id:s.getAttribute("id"),idref:c,linear:s.getAttribute("linear")||"yes",properties:h,index:u};r.push(p)}),r}findUniqueIdentifier(e){var n=e.documentElement.getAttribute("unique-identifier");if(!n)return"";var r=e.getElementById(n);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var n=Xs(e,"item",{properties:"nav"});return n?n.getAttribute("href"):!1}findNcxPath(e,n){var r=Xs(e,"item",{"media-type":"application/x-dtbncx+xml"}),i;return r||(i=n.getAttribute("toc"),i&&(r=e.querySelector(`#${i}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var n=Xt(e,"package");n.getAttribute("version");var r=Xs(e,"item",{properties:"cover-image"});if(r)return r.getAttribute("href");var i=Xs(e,"meta",{name:"cover"});if(i){var a=i.getAttribute("content"),s=e.getElementById(a);return s?s.getAttribute("href"):""}else return!1}getElementText(e,n){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",n),i;return!r||r.length===0?"":(i=r[0],i.childNodes.length?i.childNodes[0].nodeValue:"")}getPropertyText(e,n){var r=Xs(e,"meta",{property:n});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let n=e.readingOrder||e.spine;return this.spine=n.map((r,i)=>(r.index=i,r.linear=r.linear||"yes",r)),e.resources.forEach((r,i)=>{this.manifest[i]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,i)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class U0{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let n=e.nodeType,r,i;n&&(r=Xt(e,"html"),i=Xt(e,"ncx")),n?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):i&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var n,r=0;r<e.length;r++)n=e[r],n.href&&(this.tocByHref[n.href]=r),n.id&&(this.tocById[n.id]=r),this.length++,n.subitems.length&&this.unpack(n.subitems)}get(e){var n;return e?(e.indexOf("#")===0?n=this.tocById[e.substring(1)]:e in this.tocByHref&&(n=this.tocByHref[e]),this.getByIndex(e,n,this.toc)):this.toc}getByIndex(e,n,r){if(r.length===0)return;const i=r[n];if(i&&(e===i.id||e===i.href))return i;{let a;for(let s=0;s<r.length&&(a=this.getByIndex(e,n,r[s].subitems),!a);++s);return a}}landmark(e){var n;return e?(n=this.landmarksByType[e],this.landmarks[n]):this.landmarks}parseNav(e){var n=xd(e,"nav","toc"),r=[];if(!n)return r;let i=Zs(n,"ol",!0);return i&&(r=this.parseNavList(i)),r}parseNavList(e,n){const r=[];if(!e||!e.children)return r;for(let i=0;i<e.children.length;i++){const a=this.navItem(e.children[i],n);a&&r.push(a)}return r}navItem(e,n){let r=e.getAttribute("id")||void 0,i=Zs(e,"a",!0)||Zs(e,"span",!0);if(!i)return;let a=i.getAttribute("href")||"";r||(r=a);let s=i.textContent||"",u=[],c=Zs(e,"ol",!0);return c&&(u=this.parseNavList(c,r)),{id:r,href:a,label:s,subitems:u,parent:n}}parseLandmarks(e){var n=xd(e,"nav","landmarks"),r=n?pa(n,"li"):[],i=r.length,a,s=[],u;if(!r||i===0)return s;for(a=0;a<i;++a)u=this.landmarkItem(r[a]),u&&(s.push(u),this.landmarksByType[u.type]=a);return s}landmarkItem(e){let n=Zs(e,"a",!0);if(!n)return;let r=n.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,i=n.getAttribute("href")||"",a=n.textContent||"";return{href:i,label:a,type:r}}parseNcx(e){var n=pa(e,"navPoint"),r=n.length,i,a={},s=[],u,c;if(!n||r===0)return s;for(i=0;i<r;++i)u=this.ncxItem(n[i]),a[u.id]=u,u.parent?(c=a[u.parent],c.subitems.push(u)):s.push(u);return s}ncxItem(e){var n=e.getAttribute("id")||!1,r=Xt(e,"content"),i=r.getAttribute("src"),a=Xt(e,"navLabel"),s=a.textContent?a.textContent:"",u=[],c=e.parentNode,f;return c&&(c.nodeName==="navPoint"||c.nodeName.split(":").slice(-1)[0]==="navPoint")&&(f=c.getAttribute("id")),{id:n,href:i,label:s,subitems:u,parent:f}}load(e){return e.map(n=>(n.label=n.title,n.subitems=n.children?this.load(n.children):[],n))}forEach(e){return this.toc.forEach(e)}}var _u={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},bj=(function(){var t,e,n,r,i={};for(t in _u)if(_u.hasOwnProperty(t)){for(e in _u[t])if(_u[t].hasOwnProperty(e))if(n=_u[t][e],typeof n=="string")i[n]=t+"/"+e;else for(r=0;r<n.length;r++)i[n[r]]=t+"/"+e}return i})(),wj="text/plain";function Ej(t){return t&&bj[t.split(".").pop().toLowerCase()]||wj}const ol={lookup:Ej};class _j{constructor(e,n){this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(n){return e[n]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var n=new xi(e),r=ol.lookup(n.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(i=>fD(i)).then(i=>Yv(i,r)):this.settings.request(e,"blob").then(i=>vd(i,r))}replacements(){if(this.settings.replacements==="none")return new Promise((function(n){n(this.urls)}).bind(this));var e=this.urls.map(n=>{var r=this.settings.resolver(n);return this.createUrl(r).catch(i=>(console.error(i),null))});return Promise.all(e).then(n=>(this.replacementUrls=n.filter(r=>typeof r=="string"),n))}replaceCss(e,n){var r=[];return e=e||this.settings.archive,n=n||this.settings.resolver,this.cssUrls.forEach((function(i){var a=this.createCssFile(i,e,n).then((function(s){var u=this.urls.indexOf(i);u>-1&&(this.replacementUrls[u]=s)}).bind(this));r.push(a)}).bind(this)),Promise.all(r)}createCssFile(e){var n;if(uo.isAbsolute(e))return new Promise(function(s){s()});var r=this.settings.resolver(e),i;this.settings.archive?i=this.settings.archive.getText(r):i=this.settings.request(r,"text");var a=this.urls.map(s=>{var u=this.settings.resolver(s),c=new ma(r).relative(u);return c});return i?i.then(s=>(s=FS(s,a,this.replacementUrls),this.settings.replacements==="base64"?n=Yv(s,"text/css"):n=vd(s,"text/css"),n),s=>new Promise(function(u){u()})):new Promise(function(s){s()})}relativeTo(e,n){return n=n||this.settings.resolver,this.urls.map((function(r){var i=n(r),a=new ma(e).relative(i);return a}).bind(this))}get(e){var n=this.urls.indexOf(e);if(n!==-1)return this.replacementUrls.length?new Promise((function(r,i){r(this.replacementUrls[n])}).bind(this)):this.createUrl(e)}substitute(e,n){var r;return n?r=this.relativeTo(n):r=this.urls,FS(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class B0{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Rt,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var n=Xt(e,"html"),r=Xt(e,"ncx");if(n)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var n=xd(e,"nav","page-list"),r=n?pa(n,"li"):[],i=r.length,a,s=[],u;if(!r||i===0)return s;for(a=0;a<i;++a)u=this.item(r[a]),s.push(u);return s}parseNcx(e){var n=[],r=0,i,a,s,u=0;if(a=Xt(e,"pageList"),!a||(s=pa(a,"pageTarget"),u=s.length,!s||s.length===0))return n;for(r=0;r<u;++r)i=this.ncxItem(s[r]),n.push(i);return n}ncxItem(e){var n=Xt(e,"navLabel"),r=Xt(n,"text"),i=r.textContent,a=Xt(e,"content"),s=a.getAttribute("src"),u=parseInt(i,10);return{href:s,page:u}}item(e){var n=Xt(e,"a"),r=n.getAttribute("href")||"",i=n.textContent||"",a=parseInt(i),s=r.indexOf("epubcfi"),u,c,f;return s!=-1?(u=r.split("#"),c=u[0],f=u.length>1?u[1]:!1,{cfi:f,href:r,packageUrl:c,page:a}):{href:r,page:a}}process(e){e.forEach(function(n){this.pages.push(n.page),n.cfi&&this.locations.push(n.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var n=-1;if(this.locations.length===0)return-1;var r=pd(e,this.locations,this.epubcfi.compare);return r!=-1?n=this.pages[r]:(r=cl(e,this.locations,this.epubcfi.compare),n=r-1>=0?this.pages[r-1]:this.pages[0],n!==void 0||(n=-1)),n}cfiFromPage(e){var n=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(n=this.locations[r]),n}pageFromPercentage(e){var n=Math.round(this.totalPages*e);return n}percentageFromPage(e){var n=(e-this.firstPage)/this.totalPages;return Math.round(n*1e3)/1e3}percentageFromCfi(e){var n=this.pageFromCfi(e),r=this.percentageFromPage(n);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class mD{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,n){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),n>=0&&(this._minSpreadWidth=n),this._spread}calculate(e,n,r){var i=1,a=r||0,s=e,u=n,c=Math.floor(s/12),f,h,p,v;this._spread&&s>=this._minSpreadWidth?i=2:i=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(a=c%2===0?c:c-1),this.name==="pre-paginated"&&(a=0),i>1?(f=s/i-a,p=f+a):(f=s,p=s),this.name==="pre-paginated"&&i>1&&(s=f),h=f*i+a,v=s,this.width=s,this.height=u,this.spreadWidth=h,this.pageWidth=p,this.delta=v,this.columnWidth=f,this.gap=a,this.divisor=i,this.update({width:s,height:u,spreadWidth:h,pageWidth:p,delta:v,columnWidth:f,gap:a,divisor:i})}format(e,n,r){var i;return this.name==="pre-paginated"?i=e.fit(this.columnWidth,this.height,n):this._flow==="paginated"?i=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?i=e.size(null,this.height):i=e.size(this.width,null),i}count(e,n){let r,i;return this.name==="pre-paginated"?(r=1,i=1):this._flow==="paginated"?(n=n||this.delta,r=Math.ceil(e/n),i=r*this.divisor):(n=n||this.height,r=Math.ceil(e/n),i=r),{spreads:r,pages:i}}update(e){if(Object.keys(e).forEach(n=>{this.props[n]===e[n]&&delete e[n]}),Object.keys(e).length>0){let n=ir(this.props,e);this.emit(Ve.LAYOUT.UPDATED,n,e)}}}qi(mD.prototype);class Sj{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var n in e)e.hasOwnProperty(n)&&(typeof e[n]=="string"?this.registerUrl(n,e[n]):this.registerRules(n,e[n]))}registerCss(e,n){this._themes[e]={serialized:n},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,n){var r=new xi(n);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,n){this._themes[e]={rules:n},(this._injected[e]||e=="default")&&this.update(e)}select(e){var n=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(i=>{i.removeClass(n),i.addClass(e)})}update(e){var n=this.rendition.getContents();n.forEach(r=>{this.add(e,r)})}inject(e){var n=[],r=this._themes,i;for(var a in r)r.hasOwnProperty(a)&&(a===this._current||a==="default")&&(i=r[a],(i.rules&&Object.keys(i.rules).length>0||i.url&&n.indexOf(i.url)===-1)&&this.add(a,e),this._injected.push(a));this._current!="default"&&e.addClass(this._current)}add(e,n){var r=this._themes[e];!r||!n||(r.url?n.addStylesheet(r.url):r.serialized?(n.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(n.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,n,r){var i=this.rendition.getContents();this._overrides[e]={value:n,priority:r===!0},i.forEach(a=>{a.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var n=this.rendition.getContents();delete this._overrides[e],n.forEach(r=>{r.css(e)})}overrides(e){var n=this._overrides;for(var r in n)n.hasOwnProperty(r)&&e.css(r,n[r].value,n[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class bd{constructor(e,n,r,i=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=n||"ltr",this._dev=i}section(e){var n=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,n);return r}page(e,n,r,i){var a=e&&e.document?e.document.body:!1,s;if(a){if(s=this.rangePairToCfiPair(n,{start:this.findStart(a,r,i),end:this.findEnd(a,r,i)}),this._dev===!0){let u=e.document,c=new Rt(s.start).toRange(u),f=new Rt(s.end).toRange(u),h=u.defaultView.getSelection(),p=u.createRange();h.removeAllRanges(),p.setStart(c.startContainer,c.startOffset),p.setEnd(f.endContainer,f.endOffset),h.addRange(p)}return s}}walk(e,n){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(c){return c.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},i=r.acceptNode;i.acceptNode=r.acceptNode;for(var a=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1),s,u;(s=a.nextNode())&&(u=n(s),!u););return u}}findRanges(e){for(var n=[],r=e.contents.scrollWidth(),i=Math.ceil(r/this.layout.spreadWidth),a=i*this.layout.divisor,s=this.layout.columnWidth,u=this.layout.gap,c,f,h=0;h<a.pages;h++)c=(s+u)*h,f=s*(h+1)+u*h,n.push({start:this.findStart(e.document.body,c,f),end:this.findEnd(e.document.body,c,f)});return n}findStart(e,n,r){for(var i=[e],a,s,u=e;i.length;)if(a=i.shift(),s=this.walk(a,c=>{var f,h,p,v,y;if(y=$v(c),this.horizontal&&this.direction==="ltr"){if(f=this.horizontal?y.left:y.top,h=this.horizontal?y.right:y.bottom,f>=n&&f<=r)return c;if(h>n)return c;u=c,i.push(c)}else if(this.horizontal&&this.direction==="rtl"){if(f=y.left,h=y.right,h<=r&&h>=n)return c;if(f<r)return c;u=c,i.push(c)}else{if(p=y.top,v=y.bottom,p>=n&&p<=r)return c;if(v>n)return c;u=c,i.push(c)}}),s)return this.findTextStartRange(s,n,r);return this.findTextStartRange(u,n,r)}findEnd(e,n,r){for(var i=[e],a,s=e,u;i.length;)if(a=i.shift(),u=this.walk(a,c=>{var f,h,p,v,y;if(y=$v(c),this.horizontal&&this.direction==="ltr"){if(f=Math.round(y.left),h=Math.round(y.right),f>r&&s)return s;if(h>r)return c;s=c,i.push(c)}else if(this.horizontal&&this.direction==="rtl"){if(f=Math.round(this.horizontal?y.left:y.top),h=Math.round(this.horizontal?y.right:y.bottom),h<n&&s)return s;if(f<n)return c;s=c,i.push(c)}else{if(p=Math.round(y.top),v=Math.round(y.bottom),p>r&&s)return s;if(v>r)return c;s=c,i.push(c)}}),u)return this.findTextEndRange(u,n,r);return this.findTextEndRange(s,n,r)}findTextStartRange(e,n,r){for(var i=this.splitTextNodeIntoRanges(e),a,s,u,c,f,h=0;h<i.length;h++)if(a=i[h],s=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=s.left,u>=n)return a}else if(this.horizontal&&this.direction==="rtl"){if(f=s.right,f<=r)return a}else if(c=s.top,c>=n)return a;return i[0]}findTextEndRange(e,n,r){for(var i=this.splitTextNodeIntoRanges(e),a,s,u,c,f,h,p,v=0;v<i.length;v++){if(s=i[v],u=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(c=u.left,f=u.right,c>r&&a)return a;if(f>r)return s}else if(this.horizontal&&this.direction==="rtl"){if(c=u.left,f=u.right,f<n&&a)return a;if(c<n)return s}else{if(h=u.top,p=u.bottom,h>r&&a)return a;if(p>r)return s}a=s}return i[i.length-1]}splitTextNodeIntoRanges(e,n){var r=[],i=e.textContent||"",a=i.trim(),s,u=e.ownerDocument,c=n||" ",f=a.indexOf(c);if(f===-1||e.nodeType!=Node.TEXT_NODE)return s=u.createRange(),s.selectNodeContents(e),[s];for(s=u.createRange(),s.setStart(e,0),s.setEnd(e,f),r.push(s),s=!1;f!=-1;)f=a.indexOf(c,f+1),f>0&&(s&&(s.setEnd(e,f),r.push(s)),s=u.createRange(),s.setStart(e,f+1));return s&&(s.setEnd(e,a.length),r.push(s)),r}rangePairToCfiPair(e,n){var r=n.start,i=n.end;r.collapse(!0),i.collapse(!1);let a=new Rt(r,e).toString(),s=new Rt(i,e).toString();return{start:a,end:s}}rangeListToCfiList(e,n){for(var r=[],i,a=0;a<n.length;a++)i=this.rangePairToCfiPair(e,n[a]),r.push(i);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const gD=typeof navigator<"u",Aj=gD&&/Chrome/.test(navigator.userAgent),HS=gD&&!Aj&&/AppleWebKit/.test(navigator.userAgent),Tj=1;class dx{constructor(e,n,r,i){this.epubcfi=new Rt,this.document=e,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=i||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",vh),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return rd}width(e){var n=this.content;return e&&bn(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}height(e){var n=this.content;return e&&bn(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}contentWidth(e){var n=this.content||this.document.body;return e&&bn(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}contentHeight(e){var n=this.content||this.document.body;return e&&bn(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}textWidth(){let e,n,r=this.document.createRange(),i=this.content||this.document.body,a=md(i);return r.selectNodeContents(i),e=r.getBoundingClientRect(),n=e.width,a&&a.width&&(n+=a.width),Math.round(n)}textHeight(){let e,n,r=this.document.createRange(),i=this.content||this.document.body;return r.selectNodeContents(i),e=r.getBoundingClientRect(),n=e.bottom,Math.round(n)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,n,r){var i=this.content||this.document.body;return n?i.style.setProperty(e,n,r?"important":""):i.style.removeProperty(e),this.window.getComputedStyle(i)[e]}viewport(e){var n=this.document.querySelector("meta[name='viewport']"),r={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},i=[],a={};if(n&&n.hasAttribute("content")){let s=n.getAttribute("content"),u=s.match(/width\s*=\s*([^,]*)/),c=s.match(/height\s*=\s*([^,]*)/),f=s.match(/initial-scale\s*=\s*([^,]*)/),h=s.match(/minimum-scale\s*=\s*([^,]*)/),p=s.match(/maximum-scale\s*=\s*([^,]*)/),v=s.match(/user-scalable\s*=\s*([^,]*)/);u&&u.length&&typeof u[1]<"u"&&(r.width=u[1]),c&&c.length&&typeof c[1]<"u"&&(r.height=c[1]),f&&f.length&&typeof f[1]<"u"&&(r.scale=f[1]),h&&h.length&&typeof h[1]<"u"&&(r.minimum=h[1]),p&&p.length&&typeof p[1]<"u"&&(r.maximum=p[1]),v&&v.length&&typeof v[1]<"u"&&(r.scalable=v[1])}return a=aD(e||{},r),e&&(a.width&&i.push("width="+a.width),a.height&&i.push("height="+a.height),a.scale&&i.push("initial-scale="+a.scale),a.scalable==="no"?(i.push("minimum-scale="+a.scale),i.push("maximum-scale="+a.scale),i.push("user-scalable="+a.scalable)):(a.scalable&&i.push("user-scalable="+a.scalable),a.minimum&&i.push("minimum-scale="+a.minimum),a.maximum&&i.push("minimum-scale="+a.maximum)),n||(n=this.document.createElement("meta"),n.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",i.join(", ")),this.window.scrollTo(0,0)),a}expand(){this.emit(Ve.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),n=this.textHeight();(e!=this._size.width||n!=this._size.height)&&(this._size={width:e,height:n},this.onResize&&this.onResize(this._size),this.emit(Ve.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,n=(function(u){u.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),r=0;r<e.length;r+=1){var i;try{i=e[r].cssRules}catch{return}if(!i)return;for(var a=0;a<i.length;a+=1)if(i[a].media){var s=this.window.matchMedia(i[a].media.mediaText);s.addListener(n)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(n=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),n,r=0;r<e.length;r++)n=e[r],typeof n.naturalWidth<"u"&&n.naturalWidth===0&&(n.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,n){var r,i={left:0,top:0};if(!this.document)return i;if(this.epubcfi.isCfiString(e)){let a=new Rt(e).toRange(this.document,n);if(a){try{if(!a.endContainer||a.startContainer==a.endContainer&&a.startOffset==a.endOffset){let s=a.startContainer.textContent.indexOf(" ",a.startOffset);s==-1&&(s=a.startContainer.textContent.length),a.setEnd(a.startContainer,s)}}catch(s){console.error("setting end offset to start container length failed",s)}if(a.startContainer.nodeType===Node.ELEMENT_NODE)r=a.startContainer.getBoundingClientRect(),i.left=r.left,i.top=r.top;else if(HS){let s=a.startContainer,u=new Range;try{s.nodeType===Tj?r=s.getBoundingClientRect():a.startOffset+2<s.length?(u.setStart(s,a.startOffset),u.setEnd(s,a.startOffset+2),r=u.getBoundingClientRect()):a.startOffset-2>0?(u.setStart(s,a.startOffset-2),u.setEnd(s,a.startOffset),r=u.getBoundingClientRect()):r=s.parentNode.getBoundingClientRect()}catch(c){console.error(c,c.stack)}}else r=a.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let a=e.substring(e.indexOf("#")+1),s=this.document.getElementById(a);if(s)if(HS){let u=new Range;u.selectNode(s),r=u.getBoundingClientRect()}else r=s.getBoundingClientRect()}return r&&(i.left=r.left,i.top=r.top),i}addStylesheet(e){return new Promise((function(n,r){var i,a=!1;if(!this.document){n(!1);return}if(i=this.document.querySelector("link[href='"+e+"']"),i){n(!0);return}i=this.document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){!a&&(!this.readyState||this.readyState=="complete")&&(a=!0,setTimeout(()=>{n(!0)},1))},this.document.head.appendChild(i)}).bind(this))}_getStylesheetNode(e){var n;return e="epubjs-inserted-css-"+(e||""),this.document?(n=this.document.getElementById(e),n||(n=this.document.createElement("style"),n.id=e,this.document.head.appendChild(n)),n):!1}addStylesheetCss(e,n){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(n),r.innerHTML=e,!0}addStylesheetRules(e,n){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(n).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var i=0,a=e.length;i<a;i++){var s=1,u=e[i],c=e[i][0],f="";Object.prototype.toString.call(u[1][0])==="[object Array]"&&(u=u[1],s=0);for(var h=u.length;s<h;s++){var p=u[s];f+=p[0]+":"+p[1]+(p[2]?" !important":"")+`;
`}r.insertRule(c+"{"+f+"}",r.cssRules.length)}else Object.keys(e).forEach(y=>{const C=e[y];if(Array.isArray(C))C.forEach(S=>{const T=Object.keys(S).map(D=>`${D}:${S[D]}`).join(";");r.insertRule(`${y}{${T}}`,r.cssRules.length)});else{const b=Object.keys(C).map(T=>`${T}:${C[T]}`).join(";");r.insertRule(`${y}{${b}}`,r.cssRules.length)}})}addScript(e){return new Promise((function(n,r){var i,a=!1;if(!this.document){n(!1);return}i=this.document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){!a&&(!this.readyState||this.readyState=="complete")&&(a=!0,setTimeout(function(){n(!0)},1))},this.document.head.appendChild(i)}).bind(this))}addClass(e){var n;this.document&&(n=this.content||this.document.body,n&&n.classList.add(e))}removeClass(e){var n;this.document&&(n=this.content||this.document.body,n&&n.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),rd.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(rd.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var n=this.window.getSelection();this.triggerSelectedEvent(n)}).bind(this),250)}triggerSelectedEvent(e){var n,r;e&&e.rangeCount>0&&(n=e.getRangeAt(0),n.collapsed||(r=new Rt(n,this.cfiBase).toString(),this.emit(Ve.CONTENTS.SELECTED,r),this.emit(Ve.CONTENTS.SELECTED_RANGE,n)))}range(e,n){var r=new Rt(e);return r.toRange(this.document,n)}cfiFromRange(e,n){return new Rt(e,this.cfiBase,n).toString()}cfiFromNode(e,n){return new Rt(e,this.cfiBase,n).toString()}map(e){var n=new bd(e);return n.section()}size(e,n){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),n>=0&&(this.height(n),r.height=n),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,n,r,i,a){let s=Ks("column-axis"),u=Ks("column-gap"),c=Ks("column-width"),f=Ks("column-fill"),p=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),a==="rtl"&&p==="horizontal"&&this.direction(a),this.width(e),this.height(n),this.viewport({width:e,height:n,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),p==="vertical"?(this.css("padding-top",i/2+"px",!0),this.css("padding-bottom",i/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(s,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",i/2+"px",!0),this.css("padding-right",i/2+"px",!0),this.css(s,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(f,"auto"),this.css(u,i+"px"),this.css(c,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,n,r){var i="scale("+e+")",a="";this.css("transform-origin","top left"),(n>=0||r>=0)&&(a=" translate("+(n||0)+"px, "+(r||0)+"px )"),this.css("transform",i+a)}fit(e,n,r){var i=this.viewport(),a=parseInt(i.width),s=parseInt(i.height),u=e/a,c=n/s,f=u<c?u:c;if(this.layoutStyle("paginated"),this.width(a),this.height(s),this.overflow("hidden"),this.scaler(f,0,0),this.css("background-size",a*f+"px "+s*f+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var h=e-a*f;this.css("margin-left",h+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,n,r,i,a){var s=new bd(n,a);return s.page(this,e,r,i)}linksHandler(){gj(this.content,e=>{this.emit(Ve.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let n=Ks("writing-mode");return e&&this.documentElement&&(this.documentElement.style[n]=e),this.window.getComputedStyle(this.documentElement)[n]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,n){return navigator.epubReadingSystem={name:e,version:n,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}qi(dx.prototype);class Cj{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,n,r,i,a,s){let u=encodeURI(n+e),f=new Rt(n).spinePos,h=new vD({type:e,cfiRange:n,data:r,sectionIndex:f,cb:i,className:a,styles:s});return this._annotations[u]=h,f in this._annotationsBySectionIndex?this._annotationsBySectionIndex[f].push(u):this._annotationsBySectionIndex[f]=[u],this.rendition.views().forEach(v=>{h.sectionIndex===v.index&&h.attach(v)}),h}remove(e,n){let r=encodeURI(e+n);if(r in this._annotations){let i=this._annotations[r];if(n&&i.type!==n)return;this.rendition.views().forEach(s=>{this._removeFromAnnotationBySectionIndex(i.sectionIndex,r),i.sectionIndex===s.index&&i.detach(s)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,n){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==n)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,n,r,i,a){return this.add("highlight",e,n,r,i,a)}underline(e,n,r,i,a){return this.add("underline",e,n,r,i,a)}mark(e,n,r){return this.add("mark",e,n,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(i=>{this._annotations[i].attach(e)})}clear(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(i=>{this._annotations[i].detach(e)})}show(){}hide(){}}class vD{constructor({type:e,cfiRange:n,data:r,sectionIndex:i,cb:a,className:s,styles:u}){this.type=e,this.cfiRange=n,this.data=r,this.sectionIndex=i,this.mark=void 0,this.cb=a,this.className=s,this.styles=u}update(e){this.data=e}attach(e){let{cfiRange:n,data:r,type:i,mark:a,cb:s,className:u,styles:c}=this,f;return i==="highlight"?f=e.highlight(n,r,s,u,c):i==="underline"?f=e.underline(n,r,s,u,c):i==="mark"&&(f=e.mark(n,r,s)),this.mark=f,this.emit(Ve.ANNOTATION.ATTACH,f),f}detach(e){let{cfiRange:n,type:r}=this,i;return e&&(r==="highlight"?i=e.unhighlight(n):r==="underline"?i=e.ununderline(n):r==="mark"&&(i=e.unmark(n))),this.mark=void 0,this.emit(Ve.ANNOTATION.DETACH,i),i}text(){}}qi(vD.prototype);var vi={},Su={},GS;function Nj(){if(GS)return Su;GS=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.createElement=t;function t(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return Su.default={createElement:t},Su}var Gs={},VS;function Dj(){if(VS)return Gs;VS=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.proxyMouse=t,Gs.clone=e,Gs.default={proxyMouse:t};function t(r,i){function a(f){for(var h=i.length-1;h>=0;h--){var p=i[h],v=f.clientX,y=f.clientY;if(f.touches&&f.touches.length&&(v=f.touches[0].clientX,y=f.touches[0].clientY),!!n(p,r,v,y)){p.dispatchEvent(e(f));break}}}if(r.nodeName==="iframe"||r.nodeName==="IFRAME")try{this.target=r.contentDocument}catch{this.target=r}else this.target=r;for(var s=["mouseup","mousedown","click","touchstart"],u=0;u<s.length;u++){var c=s[u];this.target.addEventListener(c,function(f){return a(f)},!1)}}function e(r){var i=Object.assign({},r,{bubbles:!1});try{return new MouseEvent(r.type,i)}catch{var a=document.createEvent("MouseEvents");return a.initMouseEvent(r.type,!1,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),a}}function n(r,i,a,s){var u=i.getBoundingClientRect();function c(y,C,S){var b=y.top-u.top,T=y.left-u.left,D=b+y.height,I=T+y.width;return b<=S&&T<=C&&D>S&&I>C}var f=r.getBoundingClientRect();if(!c(f,a,s))return!1;for(var h=r.getClientRects(),p=0,v=h.length;p<v;p++)if(c(h[p],a,s))return!0;return!1}return Gs}var $S;function Rj(){if($S)return vi;$S=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Underline=vi.Highlight=vi.Mark=vi.Pane=void 0;var t=function S(b,T,D){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,T);if(I===void 0){var P=Object.getPrototypeOf(b);return P===null?void 0:S(P,T,D)}else{if("value"in I)return I.value;var M=I.get;return M===void 0?void 0:M.call(D)}},e=(function(){function S(b,T){for(var D=0;D<T.length;D++){var I=T[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,T,D){return T&&S(b.prototype,T),D&&S(b,D),b}})(),n=Nj(),r=s(n),i=Dj(),a=s(i);function s(S){return S&&S.__esModule?S:{default:S}}function u(S,b){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:S}function c(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);S.prototype=Object.create(b&&b.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(S,b):S.__proto__=b)}function f(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}vi.Pane=(function(){function S(b){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;f(this,S),this.target=b,this.element=r.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),a.default.proxyMouse(this.target,this.marks),this.container=T,this.container.appendChild(this.element),this.render()}return e(S,[{key:"addMark",value:function(T){var D=r.default.createElement("g");return this.element.appendChild(D),T.bind(D,this.container),this.marks.push(T),T.render(),T}},{key:"removeMark",value:function(T){var D=this.marks.indexOf(T);if(D!==-1){var I=T.unbind();this.element.removeChild(I),this.marks.splice(D,1)}}},{key:"render",value:function(){y(this.element,v(this.target,this.container));var T=!0,D=!1,I=void 0;try{for(var P=this.marks[Symbol.iterator](),M;!(T=(M=P.next()).done);T=!0){var O=M.value;O.render()}}catch(L){D=!0,I=L}finally{try{!T&&P.return&&P.return()}finally{if(D)throw I}}}}]),S})();var h=vi.Mark=(function(){function S(){f(this,S),this.element=null}return e(S,[{key:"bind",value:function(T,D){this.element=T,this.container=D}},{key:"unbind",value:function(){var T=this.element;return this.element=null,T}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(T){this.element&&this.element.dispatchEvent(T)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var T=[],D=this.element.firstChild;D;)T.push(D.getBoundingClientRect()),D=D.nextSibling;return T}},{key:"filteredRanges",value:function(){var T=Array.from(this.range.getClientRects());return T.filter(function(D){for(var I=0;I<T.length;I++){if(T[I]===D)return!0;var P=C(T[I],D);if(P)return!1}return!0})}}]),S})(),p=vi.Highlight=(function(S){c(b,S);function b(T,D,I,P){f(this,b);var M=u(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return M.range=T,M.className=D,M.data=I||{},M.attributes=P||{},M}return e(b,[{key:"bind",value:function(D,I){t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this,D,I);for(var P in this.data)this.data.hasOwnProperty(P)&&(this.element.dataset[P]=this.data[P]);for(var P in this.attributes)this.attributes.hasOwnProperty(P)&&this.element.setAttribute(P,this.attributes[P]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var D=this.element.ownerDocument.createDocumentFragment(),I=this.filteredRanges(),P=this.element.getBoundingClientRect(),M=this.container.getBoundingClientRect(),O=0,L=I.length;O<L;O++){var z=I[O],B=r.default.createElement("rect");B.setAttribute("x",z.left-P.left+M.left),B.setAttribute("y",z.top-P.top+M.top),B.setAttribute("height",z.height),B.setAttribute("width",z.width),D.appendChild(B)}this.element.appendChild(D)}}]),b})(h);vi.Underline=(function(S){c(b,S);function b(T,D,I,P){return f(this,b),u(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T,D,I,P))}return e(b,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var D=this.element.ownerDocument.createDocumentFragment(),I=this.filteredRanges(),P=this.element.getBoundingClientRect(),M=this.container.getBoundingClientRect(),O=0,L=I.length;O<L;O++){var z=I[O],B=r.default.createElement("rect");B.setAttribute("x",z.left-P.left+M.left),B.setAttribute("y",z.top-P.top+M.top),B.setAttribute("height",z.height),B.setAttribute("width",z.width),B.setAttribute("fill","none");var q=r.default.createElement("line");q.setAttribute("x1",z.left-P.left+M.left),q.setAttribute("x2",z.left-P.left+M.left+z.width),q.setAttribute("y1",z.top-P.top+M.top+z.height-1),q.setAttribute("y2",z.top-P.top+M.top+z.height-1),q.setAttribute("stroke-width",1),q.setAttribute("stroke","black"),q.setAttribute("stroke-linecap","square"),D.appendChild(B),D.appendChild(q)}this.element.appendChild(D)}}]),b})(p);function v(S,b){var T=b.getBoundingClientRect(),D=S.getBoundingClientRect();return{top:D.top-T.top,left:D.left-T.left,height:S.scrollHeight,width:S.scrollWidth}}function y(S,b){S.style.setProperty("top",b.top+"px","important"),S.style.setProperty("left",b.left+"px","important"),S.style.setProperty("height",b.height+"px","important"),S.style.setProperty("width",b.width+"px","important")}function C(S,b){return b.right<=S.right&&b.left>=S.left&&b.top>=S.top&&b.bottom<=S.bottom}return vi}var Lf=Rj();class yD{constructor(e,n){this.settings=ir({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+gh(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Rt,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var n=document.createElement("div");return n.classList.add("epub-view"),n.style.height="0px",n.style.width="0px",n.style.overflow="hidden",n.style.position="relative",n.style.display="block",e&&e=="horizontal"?n.style.flex="none":n.style.flex="initial",n}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=nd(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,n){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(r){return this.load(r)}).bind(this)).then((function(){let r=this.contents.writingMode(),i;return this.settings.flow==="scrolled"?i=r.indexOf("vertical")===0?"horizontal":"vertical":i=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(i),this.emit(Ve.VIEWS.AXIS,i),this.setWritingMode(r),this.emit(Ve.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((a,s)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),a()})}).bind(this),(function(r){return this.emit(Ve.VIEWS.LOAD_ERROR,r),new Promise((i,a)=>{a(r)})}).bind(this)).then((function(){this.emit(Ve.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,n){var r=e||this.settings.width,i=n||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,i):this.settings.axis==="horizontal"?this.lock("height",r,i):this.lock("width",r,i),this.settings.width=r,this.settings.height=i}lock(e,n,r){var i=md(this.element),a;this.iframe?a=md(this.iframe):a={width:0,height:0},e=="width"&&bn(n)&&(this.lockedWidth=n-i.width-a.width),e=="height"&&bn(r)&&(this.lockedHeight=r-i.height-a.height),e==="both"&&bn(n)&&bn(r)&&(this.lockedWidth=n-i.width-a.width,this.lockedHeight=r-i.height-a.height),this.displayed&&this.iframe&&this.expand()}expand(e){var n=this.lockedWidth,r=this.lockedHeight,i;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(n=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(n=this.contents.textWidth(),n%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(i=n/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&i%2>0&&(n+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||r!=this._height)&&this.reframe(n,r),this._expanding=!1)}reframe(e,n){var r;bn(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),bn(n)&&(this.element.style.height=n+"px",this.iframe.style.height=n+"px",this._height=n);let i=this.prevBounds?e-this.prevBounds.width:e,a=this.prevBounds?n-this.prevBounds.height:n;r={width:e,height:n,widthDelta:i,heightDelta:a},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let s;for(let u in this.marks)this.marks.hasOwnProperty(u)&&(s=this.marks[u],this.placeMark(s.element,s.range))}),this.onResize(this,r),this.emit(Ve.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=nd(this.element)}load(e){var n=new Dt,r=n.promise;if(!this.iframe)return n.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=(function(a){this.onLoad(a,n)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=vd(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return n.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var i=this;MSApp.execUnsafeLocalFunction(function(){i.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,n){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new dx(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(Ve.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Ve.CONTENTS.RESIZE,i=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),n.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var n=new Dt;return this.displayed?n.resolve(this):this.render(e).then((function(){this.emit(Ve.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,n.resolve(this)}).bind(this),function(r){n.reject(r,this)}),n.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Ve.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Ve.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var n=this.contents.locationOf(e,this.settings.ignoreClass);return{left:n.left,top:n.top}}onDisplayed(e){}onResize(e,n){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=nd(this.element)),this.elementBounds}highlight(e,n={},r,i="epubjs-hl",a={}){if(!this.contents)return;const s=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},a);let u=this.contents.range(e),c=()=>{this.emit(Ve.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new Lf.Pane(this.iframe,this.element));let f=new Lf.Highlight(u,i,n,s),h=this.pane.addMark(f);return this.highlights[e]={mark:h,element:h.element,listeners:[c,r]},h.element.setAttribute("ref",i),h.element.addEventListener("click",c),h.element.addEventListener("touchstart",c),r&&(h.element.addEventListener("click",r),h.element.addEventListener("touchstart",r)),h}underline(e,n={},r,i="epubjs-ul",a={}){if(!this.contents)return;const s=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},a);let u=this.contents.range(e),c=()=>{this.emit(Ve.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new Lf.Pane(this.iframe,this.element));let f=new Lf.Underline(u,i,n,s),h=this.pane.addMark(f);return this.underlines[e]={mark:h,element:h.element,listeners:[c,r]},h.element.setAttribute("ref",i),h.element.addEventListener("click",c),h.element.addEventListener("touchstart",c),r&&(h.element.addEventListener("click",r),h.element.addEventListener("touchstart",r)),h}mark(e,n={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let i=this.contents.range(e);if(!i)return;let a=i.commonAncestorContainer,s=a.nodeType===1?a:a.parentNode,u=f=>{this.emit(Ve.VIEWS.MARK_CLICKED,e,n)};i.collapsed&&a.nodeType===1?(i=new Range,i.selectNodeContents(a)):i.collapsed&&(i=new Range,i.selectNodeContents(s));let c=this.document.createElement("a");return c.setAttribute("ref","epubjs-mk"),c.style.position="absolute",c.dataset.epubcfi=e,n&&Object.keys(n).forEach(f=>{c.dataset[f]=n[f]}),r&&(c.addEventListener("click",r),c.addEventListener("touchstart",r)),c.addEventListener("click",u),c.addEventListener("touchstart",u),this.placeMark(c,i),this.element.appendChild(c),this.marks[e]={element:c,range:i,listeners:[u,r]},s}placeMark(e,n){let r,i,a;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let u=n.getBoundingClientRect();r=u.top,i=u.right}else{let u=n.getClientRects(),c;for(var s=0;s!=u.length;s++)c=u[s],(!a||c.left<a)&&(a=c.left,i=Math.ceil(a/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=c.top)}e.style.top=`${r}px`,e.style.left=`${i}px`}unhighlight(e){let n;e in this.highlights&&(n=this.highlights[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let n;e in this.underlines&&(n=this.underlines[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let n;e in this.marks&&(n=this.marks[e],this.element.removeChild(n.element),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&lD(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}qi(yD.prototype);function Ij(){var t="reverse",e=Mj();return document.body.appendChild(e),e.scrollLeft>0?t="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(t="negative")),document.body.removeChild(e),t}function Mj(){var t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(n),e.appendChild(r),t.appendChild(e),t}var j0,YS;function hx(){if(YS)return j0;YS=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return j0=t,j0}var z0,WS;function Oj(){if(WS)return z0;WS=1;var t=typeof oi=="object"&&oi&&oi.Object===Object&&oi;return z0=t,z0}var F0,KS;function xD(){if(KS)return F0;KS=1;var t=Oj(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return F0=n,F0}var q0,XS;function kj(){if(XS)return q0;XS=1;var t=xD(),e=function(){return t.Date.now()};return q0=e,q0}var H0,ZS;function Pj(){if(ZS)return H0;ZS=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return H0=e,H0}var G0,JS;function Lj(){if(JS)return G0;JS=1;var t=Pj(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return G0=n,G0}var V0,QS;function bD(){if(QS)return V0;QS=1;var t=xD(),e=t.Symbol;return V0=e,V0}var $0,eA;function Uj(){if(eA)return $0;eA=1;var t=bD(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(u?s[i]=c:delete s[i]),h}return $0=a,$0}var Y0,tA;function Bj(){if(tA)return Y0;tA=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Y0=n,Y0}var W0,nA;function jj(){if(nA)return W0;nA=1;var t=bD(),e=Uj(),n=Bj(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:a&&a in Object(u)?e(u):n(u)}return W0=s,W0}var K0,rA;function zj(){if(rA)return K0;rA=1;function t(e){return e!=null&&typeof e=="object"}return K0=t,K0}var X0,iA;function Fj(){if(iA)return X0;iA=1;var t=jj(),e=zj(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return X0=r,X0}var Z0,aA;function qj(){if(aA)return Z0;aA=1;var t=Lj(),e=hx(),n=Fj(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?u(f.slice(2),p?2:8):i.test(f)?r:+f}return Z0=c,Z0}var J0,oA;function wD(){if(oA)return J0;oA=1;var t=hx(),e=kj(),n=qj(),r="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,p,v,y,C,S,b=0,T=!1,D=!1,I=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(T=!!f.leading,D="maxWait"in f,v=D?i(n(f.maxWait)||0,c):v,I="trailing"in f?!!f.trailing:I);function P(re){var me=h,Z=p;return h=p=void 0,b=re,y=u.apply(Z,me),y}function M(re){return b=re,C=setTimeout(z,c),T?P(re):y}function O(re){var me=re-S,Z=re-b,X=c-me;return D?a(X,v-Z):X}function L(re){var me=re-S,Z=re-b;return S===void 0||me>=c||me<0||D&&Z>=v}function z(){var re=e();if(L(re))return B(re);C=setTimeout(z,O(re))}function B(re){return C=void 0,I&&h?P(re):(h=p=void 0,y)}function q(){C!==void 0&&clearTimeout(C),b=0,h=S=p=C=void 0}function Y(){return C===void 0?y:B(e())}function W(){var re=e(),me=L(re);if(h=arguments,p=this,S=re,me){if(C===void 0)return M(S);if(D)return clearTimeout(C),C=setTimeout(z,c),P(S)}return C===void 0&&(C=setTimeout(z,c)),y}return W.cancel=q,W.flush=Y,W}return J0=s,J0}var Q0,sA;function Hj(){if(sA)return Q0;sA=1;var t=wD(),e=hx(),n="Expected a function";function r(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return Q0=r,Q0}var Gj=Hj();const Vj=hr(Gj);class $j{constructor(e){this.settings=e||{},this.id="epubjs-container-"+gh(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let n=e.height,r=e.width,i=e.overflow||!1,a=e.axis||"vertical",s=e.direction;ir(this.settings,e),e.height&&bn(e.height)&&(n=e.height+"px"),e.width&&bn(e.width)&&(r=e.width+"px");let u=document.createElement("div");return u.id=this.id,u.classList.add("epub-container"),u.style.wordSpacing="0",u.style.lineHeight="0",u.style.verticalAlign="top",u.style.position="relative",a==="horizontal"&&(u.style.display="flex",u.style.flexDirection="row",u.style.flexWrap="nowrap"),r&&(u.style.width=r),n&&(u.style.height=n),i&&(i==="scroll"&&a==="vertical"?(u.style["overflow-y"]=i,u.style["overflow-x"]="hidden"):i==="scroll"&&a==="horizontal"?(u.style["overflow-y"]="hidden",u.style["overflow-x"]=i):u.style.overflow=i),s&&(u.dir=s,u.style.direction=s),s&&this.settings.fullsize&&(document.body.style.direction=s),u}wrap(e){var n=document.createElement("div");return n.style.visibility="hidden",n.style.overflow="hidden",n.style.width="0",n.style.height="0",n.appendChild(e),n}getElement(e){var n;if(rD(e)?n=e:typeof e=="string"&&(n=document.getElementById(e)),!n)throw new Error("Not an Element");return n}attachTo(e){var n=this.getElement(e),r;if(n)return this.settings.hidden?r=this.wrapper:r=this.container,n.appendChild(r),this.element=n,n}getContainer(){return this.container}onResize(e){(!bn(this.settings.width)||!bn(this.settings.height))&&(this.resizeFunc=Vj(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,n){var r;let i=e||this.settings.width,a=n||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):bn(e)?this.container.style.width=e+"px":this.container.style.width=e,n===null?(r=r||this.element.getBoundingClientRect(),r.height&&(n=r.height,this.container.style.height=n+"px")):bn(n)?this.container.style.height=n+"px":this.container.style.height=n,bn(e)||(e=this.container.clientWidth),bn(n)||(n=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let s=gd(),u=window.getComputedStyle(document.body),c={left:parseFloat(u["padding-left"])||0,right:parseFloat(u["padding-right"])||0,top:parseFloat(u["padding-top"])||0,bottom:parseFloat(u["padding-bottom"])||0};return i||(e=s.width-c.left-c.right),(this.settings.fullsize&&!a||!a)&&(n=s.height-c.top-c.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:n-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?gd():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,n){var r="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),n.forEach(function(a){for(var s in a)a.hasOwnProperty(s)&&(i+=s+":"+a[s]+";")}),this.sheet.insertRule(r+e+" {"+i+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Yj{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,n){return this._views.splice(n,0,e),this.container&&(n<this.container.children.length?this.container.insertBefore(e.element,this.container.children[n]):this.container.appendChild(e.element)),this.length++,e}remove(e){var n=this._views.indexOf(e);n>-1&&this._views.splice(n,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,n=this.length;if(this.length){for(var r=0;r<n;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var n,r=this.length,i=0;i<r;i++)if(n=this._views[i],n.displayed&&n.section.index==e.index)return n}displayed(){for(var e=[],n,r=this.length,i=0;i<r;i++)n=this._views[i],n.displayed&&e.push(n);return e}show(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}}class wd{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new fx(this),this.settings=ir(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),ir(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,n){let r=e.tagName;typeof this.settings.fullsize>"u"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=n,this.settings.rtlScrollType=Ij(),this.stage=new $j({width:n.width,height:n.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Yj(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(n){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:n}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Ve.MANAGERS.ORIENTATION_CHANGE,n)}).bind(this),500)}onResized(e){this.resize()}resize(e,n,r){let i=this.stage.size(e,n);if(this.winBounds=gd(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===i.width&&this._stageSize.height===i.height||(this._stageSize=i,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Ve.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,n){return new this.View(e,ir(this.viewSettings,{forceRight:n}))}handleNextPrePaginated(e,n,r){let i;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||n.index===0)return;if(i=n.next(),i&&!i.properties.includes("page-spread-left"))return r.call(this,i)}}display(e,n){var r=new Dt,i=r.promise;(n===e.href||bn(n))&&(n=void 0);var a=this.views.find(e);if(a&&e&&this.layout.name!=="pre-paginated"){let u=a.offset();if(this.settings.direction==="ltr")this.scrollTo(u.left,u.top,!0);else{let c=a.width();this.scrollTo(u.left+c,u.top,!0)}if(n){let c=a.locationOf(n),f=a.width();this.moveTo(c,f)}return r.resolve(),i}this.clear();let s=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(s=!0),this.add(e,s).then((function(u){if(n){let c=u.locationOf(n),f=u.width();this.moveTo(c,f)}}).bind(this),u=>{r.reject(u)}).then((function(){return this.handleNextPrePaginated(s,e,this.add)}).bind(this)).then((function(){this.views.show(),r.resolve()}).bind(this)),i}afterDisplayed(e){this.emit(Ve.MANAGERS.ADDED,e)}afterResized(e){this.emit(Ve.MANAGERS.RESIZE,e.section)}moveTo(e,n){var r=0,i=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),i=Math.floor(e.top/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollHeight&&(i=this.container.scrollHeight-this.layout.delta)):i=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-n),this.scrollTo(r,i,!0)}add(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Ve.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(Ve.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}append(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Ve.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(Ve.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}prepend(e,n){var r=this.createView(e,n);return r.on(Ve.VIEWS.RESIZED,i=>{this.counter(i)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(Ve.VIEWS.AXIS,i=>{this.updateAxis(i)}),r.on(Ve.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,n;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,n<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft,n>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(n=this.container.scrollLeft+this.layout.delta*-1,n>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(i=!0),this.append(e,i).then((function(){return this.handleNextPrePaginated(i,e,this.append)}).bind(this),a=>a).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,n;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft,n>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft+this.container.offsetWidth,n<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(n=this.container.scrollLeft,n<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(i=!0),this.prepend(e,i).then((function(){var a;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(a=e.prev(),a))return this.prepend(a)}).bind(this),a=>a).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=n.height<window.innerHeight?n.height:window.innerHeight,i=n.width<window.innerWidth?n.width:window.innerWidth,a=this.settings.axis==="vertical";this.settings.direction;let s=0,u=0;return this.settings.fullsize&&(s=a?window.scrollY:window.scrollX),e.map(f=>{let{index:h,href:p}=f.section,v=f.position(),y=f.width(),C=f.height(),S,b,T,D;a?(S=s+n.top-v.top+u,b=S+r-u,D=this.layout.count(C,r).pages,T=r):(S=s+n.left-v.left+u,b=S+i-u,D=this.layout.count(y,i).pages,T=i);let I=Math.ceil(S/T),P=[],M=Math.ceil(b/T);if(this.settings.direction==="rtl"&&!a){let z=I;I=D-M,M=D-z}P=[];for(var O=I;O<=M;O++){let z=O+1;P.push(z)}let L=this.mapping.page(f.contents,f.section.cfiBase,S,b);return{index:h,href:p,pages:P,totalPages:D,mapping:L}})}paginatedLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=0,i=0;return this.settings.fullsize&&(r=window.scrollX),e.map(s=>{let{index:u,href:c}=s.section,f,h=s.position(),p=s.width(),v,y,C;this.settings.direction==="rtl"?(f=n.right-r,C=Math.min(Math.abs(f-h.left),this.layout.width)-i,y=h.width-(h.right-f)-i,v=y-C):(f=n.left+r,C=Math.min(h.right-f,this.layout.width)-i,v=f-h.left+i,y=v+C),i+=C;let S=this.mapping.page(s.contents,s.section.cfiBase,v,y),b=this.layout.count(p).pages,T=Math.floor(v/this.layout.pageWidth),D=[],I=Math.floor(y/this.layout.pageWidth);if(T<0&&(T=0,I=I+1),this.settings.direction==="rtl"){let M=T;T=b-I,I=b-M}for(var P=T+1;P<=I;P++){let M=P;D.push(M)}return{index:u,href:c,pages:D,totalPages:b,mapping:S}})}isVisible(e,n,r,i){var a=e.position(),s=i||this.bounds();return this.settings.axis==="horizontal"&&a.right>s.left-n&&a.left<s.right+r?!0:this.settings.axis==="vertical"&&a.bottom>s.top-n&&a.top<s.bottom+r}visible(){for(var e=this.bounds(),n=this.views.displayed(),r=n.length,i=[],a,s,u=0;u<r;u++)s=n[u],a=this.isVisible(s,0,0,e),a===!0&&i.push(s);return i}scrollBy(e,n,r){let i=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*i,n*i):(e&&(this.container.scrollLeft+=e*i),n&&(this.container.scrollTop+=n)),this.scrolled=!0}scrollTo(e,n,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,n):(this.container.scrollLeft=e,this.container.scrollTop=n),this.scrolled=!0}onScroll(){let e,n;this.settings.fullsize?(e=window.scrollY,n=window.scrollX):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:(this.emit(Ve.MANAGERS.SCROLL,{top:e,left:n}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(Ve.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new bd(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(n){n&&n.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,n){!n&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new bd(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,n="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":n,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(n){const r=n&&n.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}qi(wd.prototype);const Wj={easeInCubic:function(t){return Math.pow(t,3)}};class Xv{constructor(e,n){this.settings=ir({duration:80,minVelocity:.2,minDistance:10,easing:Wj.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Ve.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Ve.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let n=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{n.on(r,i=>this.triggerViewEvent(i,n))})}triggerViewEvent(e,n){this.emit(e.type,e,n)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:n,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:n,screenY:r}=e.touches[0],i=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&i<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let n=this.wasSwiped();n!==0?this.snap(n):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,n=this.endTouchX-this.startTouchX,r=Math.abs(n),i=this.endTime-this.startTime,a=n/i,s=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(a>s)return-1;if(a<-s)return 1}needsSnap(){let e=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor;return e%n!==0}snap(e=0){let n=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,i=Math.round(n/r)*r;return e&&(i+=e*r),this.smoothScrollTo(i)}smoothScrollTo(e){const n=new Dt,r=this.scrollLeft,i=this.now(),a=this.settings.duration,s=this.settings.easing;this.snapping=!0;function u(){const c=this.now(),f=Math.min(1,(c-i)/a);if(s(f),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,n.resolve();return}f<1?(window.requestAnimationFrame(u.bind(this)),this.scrollTo(r+(e-r)*f,0)):(this.scrollTo(e,0),this.snapping=!1,n.resolve())}return u.call(this),n.promise}scrollTo(e=0,n=0){this.fullsize?window.scroll(e,n):(this.scroller.scrollLeft=e,this.scroller.scrollTop=n)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}qi(Xv.prototype);var Kj=wD();const Xj=hr(Kj);class Zj extends wd{constructor(e){super(e),this.name="continuous",this.settings=ir(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),ir(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,n){return wd.prototype.display.call(this,e,n).then((function(){return this.fill()}).bind(this))}fill(e){var n=e||new Dt;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(n):n.resolve()}),n.promise}moveTo(e){var n=0,r=0;this.isPaginated?(n=Math.floor(e.left/this.layout.delta)*this.layout.delta,n+this.settings.offsetDelta):(r=e.top,e.top+this.settings.offsetDelta),(n>0||r>0)&&this.scrollBy(n,r,!0)}afterResized(e){this.emit(Ve.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var n=this.createView(e);return this.views.append(n),n.on(Ve.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(Ve.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(Ve.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}append(e){var n=this.createView(e);return n.on(Ve.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(Ve.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(Ve.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}prepend(e){var n=this.createView(e);return n.on(Ve.VIEWS.RESIZED,r=>{this.counter(r),n.expanded=!0}),n.on(Ve.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(Ve.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var n=this.bounds(),r=this.views.all(),i=r.length,a=typeof e<"u"?e:this.settings.offset||0,s,u,c=new Dt,f=[],h=0;h<i;h++)if(u=r[h],s=this.isVisible(u,a,a,n),s===!0)if(u.displayed)u.show();else{let p=u.display(this.request).then(function(v){v.show()},v=>{u.hide()});f.push(p)}else this.q.enqueue(u.destroy.bind(u)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return f.length?Promise.all(f).catch(p=>{c.reject(p)}):(c.resolve(),c.promise)}check(e,n){var r=new Dt,i=[],a=this.settings.axis==="horizontal",s=this.settings.offset||0;e&&a&&(s=e),n&&!a&&(s=n);var u=this._bounds;let c=a?this.scrollLeft:this.scrollTop,f=a?Math.floor(u.width):u.height,h=a?this.container.scrollWidth:this.container.scrollHeight,p=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",v=this.settings.rtlScrollType,y=this.settings.direction==="rtl";this.settings.fullsize?(a&&y&&v==="negative"||!a&&y&&v==="default")&&(c=c*-1):(y&&v==="default"&&p==="horizontal"&&(c=h-f-c),y&&v==="negative"&&p==="horizontal"&&(c=c*-1));let C=()=>{let I=this.views.first(),P=I&&I.section.prev();P&&i.push(this.prepend(P))},S=()=>{let I=this.views.last(),P=I&&I.section.next();P&&i.push(this.append(P))},b=c+f+s,T=c-s;b>=h&&S(),T<0&&C();let D=i.map(I=>I.display(this.request));return i.length?Promise.all(D).then(()=>this.check()).then(()=>this.update(s),I=>I):(this.q.enqueue((function(){this.update()}).bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new Dt,n=this.views.displayed(),r=n[0],i=n[n.length-1],a=this.views.indexOf(r),s=this.views.indexOf(i),u=this.views.slice(0,a),c=this.views.slice(s+1),f=0;f<u.length-1;f++)this.erase(u[f],u);for(var h=1;h<c.length;h++)this.erase(c[h]);return e.resolve(),e.promise}erase(e,n){var r,i;this.settings.fullsize?(r=window.scrollY,i=window.scrollX):(r=this.container.scrollTop,i=this.container.scrollLeft);var a=e.bounds();this.views.remove(e),n&&(this.settings.axis==="vertical"?this.scrollTo(0,r-a.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(i+Math.floor(a.width),0,!0):this.scrollTo(i,0,!0):this.scrollTo(i-Math.floor(a.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(n){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Xv(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=lx;let n=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*n,this.scrollLeft=window.scrollX*n):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=Xj(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,n,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,n=window.scrollX*r):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(n-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=n,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(Ve.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Ve.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Xv(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class px{constructor(e,n){this.settings=ir(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),ir(this.settings,n),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new bi(this),this.hooks.serialize=new bi(this),this.hooks.content=new bi(this),this.hooks.unloaded=new bi(this),this.hooks.layout=new bi(this),this.hooks.render=new bi(this),this.hooks.show=new bi(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new Sj(this),this.annotations=new Cj(this),this.epubcfi=new Rt,this.q=new fx(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Dt,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var n;return typeof e=="string"&&e==="default"?n=wd:typeof e=="string"&&e==="continuous"?n=Zj:n=e,n}requireView(e){var n;return typeof e=="string"&&e==="iframe"?n=yD:n=e,n}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Ve.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Ve.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Ve.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Ve.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Ve.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Ve.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(Ve.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var n=new Dt,r=n.promise,i;return this.displaying=n,this.book.locations.length()&&iD(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),i=this.book.spine.get(e),i?(this.manager.display(i,e).then(()=>{n.resolve(i),this.displaying=void 0,this.emit(Ve.RENDITION.DISPLAYED,i),this.reportLocation()},a=>{this.emit(Ve.RENDITION.DISPLAY_ERROR,a)}),r):(n.reject(new Error("No Section Found")),r)}}afterDisplayed(e){e.on(Ve.VIEWS.MARK_CLICKED,(n,r)=>this.triggerMarkEvent(n,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(Ve.RENDITION.RENDERED,e.section,e)}):this.emit(Ve.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(Ve.RENDITION.REMOVED,e.section,e)})}onResized(e,n){this.emit(Ve.RENDITION.RESIZED,{width:e.width,height:e.height},n),this.location&&this.location.start&&this.display(n||this.location.start.cfi)}onOrientationChange(e){this.emit(Ve.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,n,r){e&&(this.settings.width=e),n&&(this.settings.height=n),this.manager.resize(e,n,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var n,r=this.settings.layout||e.layout||"reflowable",i=this.settings.spread||e.spread||"auto",a=this.settings.orientation||e.orientation||"auto",s=this.settings.flow||e.flow||"auto",u=e.viewport||"",c=this.settings.minSpreadWidth||e.minSpreadWidth||800,f=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),n={layout:r,spread:i,orientation:a,flow:s,viewport:u,minSpreadWidth:c,direction:f},n}flow(e){var n=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(n="scrolled"),(e==="auto"||e==="paginated")&&(n="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(n),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(n),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new mD(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(Ve.LAYOUT.UPDATED,(n,r)=>{this.emit(Ve.RENDITION.LAYOUT,n,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,n){this.settings.spread=e,n&&(this.settings.minSpreadWidth=n),this._layout&&this._layout.spread(e,n),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then((function(i){let a=this.located(i);!a||!a.start||!a.end||(this.location=a,this.emit(Ve.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Ve.RENDITION.RELOCATED,this.location))}).bind(this));else if(r){let i=this.located(r);if(!i||!i.start||!i.end)return;this.location=i,this.emit(Ve.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Ve.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(n){return this.located(n)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let n=e[0],r=e[e.length-1],i={start:{index:n.index,href:n.href,cfi:n.mapping.start,displayed:{page:n.pages[0]||1,total:n.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},a=this.book.locations.locationFromCfi(n.mapping.start),s=this.book.locations.locationFromCfi(r.mapping.end);a!=null&&(i.start.location=a,i.start.percentage=this.book.locations.percentageFromLocation(a)),s!=null&&(i.end.location=s,i.end.percentage=this.book.locations.percentageFromLocation(s));let u=this.book.pageList.pageFromCfi(n.mapping.start),c=this.book.pageList.pageFromCfi(r.mapping.end);return u!=-1&&(i.start.page=u),c!=-1&&(i.end.page=c),r.index===this.book.spine.last().index&&i.end.displayed.page>=i.end.displayed.total&&(i.atEnd=!0),n.index===this.book.spine.first().index&&i.start.displayed.page===1&&(i.atStart=!0),i}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){rd.forEach(n=>{e.on(n,r=>this.triggerViewEvent(r,e))}),e.on(Ve.CONTENTS.SELECTED,n=>this.triggerSelectedEvent(n,e))}triggerViewEvent(e,n){this.emit(e.type,e,n)}triggerSelectedEvent(e,n){this.emit(Ve.RENDITION.SELECTED,e,n)}triggerMarkEvent(e,n,r){this.emit(Ve.RENDITION.MARK_CLICKED,e,n,r)}getRange(e,n){var r=new Rt(e),i=this.manager.visible().filter(function(a){if(r.spinePos===a.index)return!0});if(i.length)return i[0].contents.range(r,n)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(a){a()});let n=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)))*.95,i=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(a,s){setTimeout(function(){a()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(Ve.CONTENTS.LINK_CLICKED,n=>{let r=this.book.path.relative(n);this.display(r)})}injectStylesheet(e,n){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,n){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,n){let r=this.book.packaging.metadata.identifier,i=e.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),r&&i.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(i)}}qi(px.prototype);function co(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eg={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var lA;function Jj(){return lA||(lA=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,a){function s(f,h){if(!i[f]){if(!r[f]){var p=typeof co=="function"&&co;if(!h&&p)return p(f,!0);if(u)return u(f,!0);var v=new Error("Cannot find module '"+f+"'");throw v.code="MODULE_NOT_FOUND",v}var y=i[f]={exports:{}};r[f][0].call(y.exports,function(C){var S=r[f][1][C];return s(S||C)},y,y.exports,n,r,i,a)}return i[f].exports}for(var u=typeof co=="function"&&co,c=0;c<a.length;c++)s(a[c]);return s})({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var f=[],h,p,v,y,C,S,b,T=0,D=c.length,I=D,P=a.getTypeOf(c)!=="string";T<c.length;)I=D-T,P?(h=c[T++],p=T<D?c[T++]:0,v=T<D?c[T++]:0):(h=c.charCodeAt(T++),p=T<D?c.charCodeAt(T++):0,v=T<D?c.charCodeAt(T++):0),y=h>>2,C=(h&3)<<4|p>>4,S=I>1?(p&15)<<2|v>>6:64,b=I>2?v&63:64,f.push(u.charAt(y)+u.charAt(C)+u.charAt(S)+u.charAt(b));return f.join("")},i.decode=function(c){var f,h,p,v,y,C,S,b=0,T=0,D="data:";if(c.substr(0,D.length)===D)throw new Error("Invalid base64 input, it looks like a data url.");c=c.replace(/[^A-Za-z0-9+/=]/g,"");var I=c.length*3/4;if(c.charAt(c.length-1)===u.charAt(64)&&I--,c.charAt(c.length-2)===u.charAt(64)&&I--,I%1!==0)throw new Error("Invalid base64 input, bad content length.");var P;for(s.uint8array?P=new Uint8Array(I|0):P=new Array(I|0);b<c.length;)v=u.indexOf(c.charAt(b++)),y=u.indexOf(c.charAt(b++)),C=u.indexOf(c.charAt(b++)),S=u.indexOf(c.charAt(b++)),f=v<<2|y>>4,h=(y&15)<<4|C>>2,p=(C&3)<<6|S,P[T++]=f,C!==64&&(P[T++]=h),S!==64&&(P[T++]=p);return P}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function f(h,p,v,y,C){this.compressedSize=h,this.uncompressedSize=p,this.crc32=v,this.compression=y,this.compressedContent=C}f.prototype={getContentWorker:function(){var h=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(h,p,v){return h.pipe(new u).pipe(new c("uncompressedSize")).pipe(p.compressWorker(v)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils");function s(){for(var h,p=[],v=0;v<256;v++){h=v;for(var y=0;y<8;y++)h=h&1?3988292384^h>>>1:h>>>1;p[v]=h}return p}var u=s();function c(h,p,v,y){var C=u,S=y+v;h=h^-1;for(var b=y;b<S;b++)h=h>>>8^C[(h^p[b])&255];return h^-1}function f(h,p,v,y){var C=u,S=y+v;h=h^-1;for(var b=y;b<S;b++)h=h>>>8^C[(h^p.charCodeAt(b))&255];return h^-1}r.exports=function(p,v){if(typeof p>"u"||!p.length)return 0;var y=a.getTypeOf(p)!=="string";return y?c(v|0,p,p.length,0):f(v|0,p,p.length,0)}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;typeof Promise<"u"?a=Promise:a=n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),u=n("./utils"),c=n("./stream/GenericWorker"),f=a?"uint8array":"array";i.magic="\b\0";function h(p,v){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=v,this.meta={}}u.inherits(h,c),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,p.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(v){p.push({data:v,meta:p.meta})}},i.compressWorker=function(p){return new h("Deflate",p)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),f=n("../signature"),h=function(T,D){var I="",P;for(P=0;P<D;P++)I+=String.fromCharCode(T&255),T=T>>>8;return I},p=function(T,D){var I=T;return T||(I=D?16893:33204),(I&65535)<<16},v=function(T){return(T||0)&63},y=function(T,D,I,P,M,O){var L=T.file,z=T.compression,B=O!==u.utf8encode,q=a.transformTo("string",O(L.name)),Y=a.transformTo("string",u.utf8encode(L.name)),W=L.comment,re=a.transformTo("string",O(W)),me=a.transformTo("string",u.utf8encode(W)),Z=Y.length!==L.name.length,X=me.length!==W.length,Q,oe,de="",Ce="",$="",se=L.dir,Ae=L.date,we={crc32:0,compressedSize:0,uncompressedSize:0};(!D||I)&&(we.crc32=T.crc32,we.compressedSize=T.compressedSize,we.uncompressedSize=T.uncompressedSize);var Ue=0;D&&(Ue|=8),!B&&(Z||X)&&(Ue|=2048);var $e=0,qe=0;se&&($e|=16),M==="UNIX"?(qe=798,$e|=p(L.unixPermissions,se)):(qe=20,$e|=v(L.dosPermissions)),Q=Ae.getUTCHours(),Q=Q<<6,Q=Q|Ae.getUTCMinutes(),Q=Q<<5,Q=Q|Ae.getUTCSeconds()/2,oe=Ae.getUTCFullYear()-1980,oe=oe<<4,oe=oe|Ae.getUTCMonth()+1,oe=oe<<5,oe=oe|Ae.getUTCDate(),Z&&(Ce=h(1,1)+h(c(q),4)+Y,de+="up"+h(Ce.length,2)+Ce),X&&($=h(1,1)+h(c(re),4)+me,de+="uc"+h($.length,2)+$);var Ge="";Ge+=`
\0`,Ge+=h(Ue,2),Ge+=z.magic,Ge+=h(Q,2),Ge+=h(oe,2),Ge+=h(we.crc32,4),Ge+=h(we.compressedSize,4),Ge+=h(we.uncompressedSize,4),Ge+=h(q.length,2),Ge+=h(de.length,2);var ye=f.LOCAL_FILE_HEADER+Ge+q+de,We=f.CENTRAL_FILE_HEADER+h(qe,2)+Ge+h(re.length,2)+"\0\0\0\0"+h($e,4)+h(P,4)+q+de+re;return{fileRecord:ye,dirRecord:We}},C=function(T,D,I,P,M){var O="",L=a.transformTo("string",M(P));return O=f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(T,2)+h(T,2)+h(D,4)+h(I,4)+h(L.length,2)+L,O},S=function(T){var D="";return D=f.DATA_DESCRIPTOR+h(T.crc32,4)+h(T.compressedSize,4)+h(T.uncompressedSize,4),D};function b(T,D,I,P){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=I,this.encodeFileName=P,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(b,s),b.prototype.push=function(T){var D=T.meta.percent||0,I=this.entriesCount,P=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,s.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:I?(D+100*(I-P-1))/I:100}}))},b.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var D=this.streamFiles&&!T.file.dir;if(D){var I=y(T,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:I.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(T){this.accumulate=!1;var D=this.streamFiles&&!T.file.dir,I=y(T,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(I.dirRecord),D)this.push({data:S(T),meta:{percent:100}});else for(this.push({data:I.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var T=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var I=this.bytesWritten-T,P=C(this.dirRecords.length,I,T,this.zipComment,this.encodeFileName);this.push({data:P,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(T){this._sources.push(T);var D=this;return T.on("data",function(I){D.processChunk(I)}),T.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),T.on("error",function(I){D.error(I)}),this},b.prototype.resume=function(){if(!s.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},b.prototype.error=function(T){var D=this._sources;if(!s.prototype.error.call(this,T))return!1;for(var I=0;I<D.length;I++)try{D[I].error(T)}catch{}return!0},b.prototype.lock=function(){s.prototype.lock.call(this);for(var T=this._sources,D=0;D<T.length;D++)T[D].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker"),u=function(c,f){var h=c||f,p=a[h];if(!p)throw new Error(h+" is not a valid compression method !");return p};i.generateWorker=function(c,f,h){var p=new s(f.streamFiles,h,f.platform,f.encodeFileName),v=0;try{c.forEach(function(y,C){v++;var S=u(C.options.compression,f.compression),b=C.options.compressionOptions||f.compressionOptions||{},T=C.dir,D=C.date;C._compressWorker(S,b).withStreamInfo("file",{name:y,dir:T,date:D,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(p)}),p.entriesCount=v}catch(y){p.error(y)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var u in this)typeof this[u]!="function"&&(s[u]=this[u]);return s}}a.prototype=n("./object"),a.prototype.loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,u){return new a().loadAsync(s,u)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),u=n("./utf8"),c=n("./zipEntries"),f=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function p(v){return new s.Promise(function(y,C){var S=v.decompressed.getContentWorker().pipe(new f);S.on("error",function(b){C(b)}).on("end",function(){S.streamInfo.crc32!==v.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(v,y){var C=this;return y=a.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),h.isNode&&h.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",v,!0,y.optimizedBinaryString,y.base64).then(function(S){var b=new c(y);return b.load(S),b}).then(function(b){var T=[s.Promise.resolve(b)],D=b.files;if(y.checkCRC32)for(var I=0;I<D.length;I++)T.push(p(D[I]));return s.Promise.all(T)}).then(function(b){for(var T=b.shift(),D=T.files,I=0;I<D.length;I++){var P=D[I],M=P.fileNameStr,O=a.resolve(P.fileNameStr);C.file(O,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:y.createFolders}),P.dir||(C.file(O).unsafeOriginalName=M)}return T.zipComment.length&&(C.comment=T.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function u(c,f){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(u,s),u.prototype._bindStream=function(c){var f=this;this._stream=c,c.pause(),c.on("data",function(h){f.push({data:h,meta:{percent:0}})}).on("error",function(h){f.isPaused?this.generatedError=h:f.error(h)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return s.prototype.pause.call(this)?(this._stream.pause(),!0):!1},u.prototype.resume=function(){return s.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable,s=n("../utils");s.inherits(u,a);function u(c,f,h){a.call(this,f),this._helper=c;var p=this;c.on("data",function(v,y){p.push(v)||p._helper.pause(),h&&h(y)}).on("error",function(v){p.emit("error",v)}).on("end",function(){p.push(null)})}u.prototype._read=function(){this._helper.resume()},r.exports=u},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){var a=n("./utf8"),s=n("./utils"),u=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),f=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),v=n("./generate"),y=n("./nodejsUtils"),C=n("./nodejs/NodejsStreamInputAdapter"),S=function(M,O,L){var z=s.getTypeOf(O),B,q=s.extend(L||{},f);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&q.unixPermissions&16384&&(q.dir=!0),q.dosPermissions&&q.dosPermissions&16&&(q.dir=!0),q.dir&&(M=T(M)),q.createFolders&&(B=b(M))&&D.call(this,B,!0);var Y=z==="string"&&q.binary===!1&&q.base64===!1;(!L||typeof L.binary>"u")&&(q.binary=!Y);var W=O instanceof h&&O.uncompressedSize===0;(W||q.dir||!O||O.length===0)&&(q.base64=!1,q.binary=!0,O="",q.compression="STORE",z="string");var re=null;O instanceof h||O instanceof u?re=O:y.isNode&&y.isStream(O)?re=new C(M,O):re=s.prepareContent(M,O,q.binary,q.optimizedBinaryString,q.base64);var me=new p(M,re,q);this.files[M]=me},b=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var O=M.lastIndexOf("/");return O>0?M.substring(0,O):""},T=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},D=function(M,O){return O=typeof O<"u"?O:f.createFolders,M=T(M),this.files[M]||S.call(this,M,null,{dir:!0,createFolders:O}),this.files[M]};function I(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var O,L,z;for(O in this.files)z=this.files[O],L=O.slice(this.root.length,O.length),L&&O.slice(0,this.root.length)===this.root&&M(L,z)},filter:function(M){var O=[];return this.forEach(function(L,z){M(L,z)&&O.push(z)}),O},file:function(M,O,L){if(arguments.length===1)if(I(M)){var z=M;return this.filter(function(q,Y){return!Y.dir&&z.test(q)})}else{var B=this.files[this.root+M];return B&&!B.dir?B:null}else M=this.root+M,S.call(this,M,O,L);return this},folder:function(M){if(!M)return this;if(I(M))return this.filter(function(B,q){return q.dir&&M.test(B)});var O=this.root+M,L=D.call(this,O),z=this.clone();return z.root=L.name,z},remove:function(M){M=this.root+M;var O=this.files[M];if(O||(M.slice(-1)!=="/"&&(M+="/"),O=this.files[M]),O&&!O.dir)delete this.files[M];else for(var L=this.filter(function(B,q){return q.name.slice(0,M.length)===M}),z=0;z<L.length;z++)delete this.files[L[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var O,L={};try{if(L=s.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode}),L.type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");s.checkSupport(L.type),(L.platform==="darwin"||L.platform==="freebsd"||L.platform==="linux"||L.platform==="sunos")&&(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var z=L.comment||this.comment||"";O=v.generateWorker(this,L,z)}catch(B){O=new u("error"),O.error(B)}return new c(O,L.type||"string",L.mimeType)},generateAsync:function(M,O){return this.generateInternalStream(M).accumulate(O)},generateNodeStream:function(M,O){return M=M||{},M.type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(O)}};r.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader"),s=n("../utils");function u(c){a.call(this,c);for(var f=0;f<this.data.length;f++)c[f]=c[f]&255}s.inherits(u,a),u.prototype.byteAt=function(c){return this.data[this.zero+c]},u.prototype.lastIndexOfSignature=function(c){for(var f=c.charCodeAt(0),h=c.charCodeAt(1),p=c.charCodeAt(2),v=c.charCodeAt(3),y=this.length-4;y>=0;--y)if(this.data[y]===f&&this.data[y+1]===h&&this.data[y+2]===p&&this.data[y+3]===v)return y-this.zero;return-1},u.prototype.readAndCheckSignature=function(c){var f=c.charCodeAt(0),h=c.charCodeAt(1),p=c.charCodeAt(2),v=c.charCodeAt(3),y=this.readData(4);return f===y[0]&&h===y[1]&&p===y[2]&&v===y[3]},u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=u},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var c=0,f;for(this.checkOffset(u),f=this.index+u-1;f>=this.index;f--)c=(c<<8)+this.byteAt(f);return this.index+=u,c},readString:function(u){return a.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC((u>>25&127)+1980,(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(u&31)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader"),s=n("../utils");function u(c){a.call(this,c)}s.inherits(u,a),u.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader"),s=n("../utils");function u(c){a.call(this,c)}s.inherits(u,a),u.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},u.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},u.prototype.readAndCheckSignature=function(c){var f=this.readData(4);return c===f},u.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=u},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader"),s=n("../utils");function u(c){a.call(this,c)}s.inherits(u,a),u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),u=n("./ArrayReader"),c=n("./StringReader"),f=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(p){var v=a.getTypeOf(p);return a.checkSupport(v),v==="string"&&!s.uint8array?new c(p):v==="nodebuffer"?new f(p):s.uint8array?new h(a.transformTo("uint8array",p)):new u(a.transformTo("array",p))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function u(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(u,a),u.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32"),u=n("../utils");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u.inherits(c,a),c.prototype.processChunk=function(f){this.streamInfo.crc32=s(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function u(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(u,s),u.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker"),u=16*1024;function c(f){s.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(p){h.dataIsReady=!0,h.data=p,h.max=p&&p.length||0,h.type=a.getTypeOf(p),h.isPaused||h._tickAndRepeat()},function(p){h.error(p)})}a.inherits(c,s),c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return s.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0):!1},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=u,h=null,p=Math.min(this.max,this.index+f);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,p);break;case"uint8array":h=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":h=this.data.slice(this.index,p);break}return this.index=p,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return this.isFinished?!1:(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,u){return this._listeners[s].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,u){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,u)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var u=this;return s.on("data",function(c){u.processChunk(c)}),s.on("end",function(){u.end()}),s.on("error",function(c){u.error(c)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var s=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,u){return this.extraStreamInfo[s]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),u=n("./GenericWorker"),c=n("../base64"),f=n("../support"),h=n("../external"),p=null;if(f.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(b,T,D){switch(b){case"blob":return a.newBlob(a.transformTo("arraybuffer",T),D);case"base64":return c.encode(T);default:return a.transformTo(b,T)}}function y(b,T){var D,I=0,P=null,M=0;for(D=0;D<T.length;D++)M+=T[D].length;switch(b){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(P=new Uint8Array(M),D=0;D<T.length;D++)P.set(T[D],I),I+=T[D].length;return P;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+b+"'")}}function C(b,T){return new h.Promise(function(D,I){var P=[],M=b._internalType,O=b._outputType,L=b._mimeType;b.on("data",function(z,B){P.push(z),T&&T(B)}).on("error",function(z){P=[],I(z)}).on("end",function(){try{var z=v(O,y(M,P),L);D(z)}catch(B){I(B)}P=[]}).resume()})}function S(b,T,D){var I=T;switch(T){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string";break}try{this._internalType=I,this._outputType=T,this._mimeType=D,a.checkSupport(I),this._worker=b.pipe(new s(I)),b.lock()}catch(P){this._worker=new u("error"),this._worker.error(P)}}S.prototype={accumulate:function(b){return C(this,b)},on:function(b,T){var D=this;return b==="data"?this._worker.on(b,function(I){T.call(D,I.data,I.meta)}):this._worker.on(b,function(){a.delay(T,arguments,D)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=S},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,u=new s;u.append(a),i.blob=u.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),u=n("./nodejsUtils"),c=n("./stream/GenericWorker"),f=new Array(256),h=0;h<256;h++)f[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;f[254]=f[254]=1;var p=function(b){var T,D,I,P,M,O=b.length,L=0;for(P=0;P<O;P++)D=b.charCodeAt(P),(D&64512)===55296&&P+1<O&&(I=b.charCodeAt(P+1),(I&64512)===56320&&(D=65536+(D-55296<<10)+(I-56320),P++)),L+=D<128?1:D<2048?2:D<65536?3:4;for(s.uint8array?T=new Uint8Array(L):T=new Array(L),M=0,P=0;M<L;P++)D=b.charCodeAt(P),(D&64512)===55296&&P+1<O&&(I=b.charCodeAt(P+1),(I&64512)===56320&&(D=65536+(D-55296<<10)+(I-56320),P++)),D<128?T[M++]=D:D<2048?(T[M++]=192|D>>>6,T[M++]=128|D&63):D<65536?(T[M++]=224|D>>>12,T[M++]=128|D>>>6&63,T[M++]=128|D&63):(T[M++]=240|D>>>18,T[M++]=128|D>>>12&63,T[M++]=128|D>>>6&63,T[M++]=128|D&63);return T},v=function(b,T){var D;for(T=T||b.length,T>b.length&&(T=b.length),D=T-1;D>=0&&(b[D]&192)===128;)D--;return D<0||D===0?T:D+f[b[D]]>T?D:T},y=function(b){var T,D,I,P,M=b.length,O=new Array(M*2);for(D=0,T=0;T<M;){if(I=b[T++],I<128){O[D++]=I;continue}if(P=f[I],P>4){O[D++]=65533,T+=P-1;continue}for(I&=P===2?31:P===3?15:7;P>1&&T<M;)I=I<<6|b[T++]&63,P--;if(P>1){O[D++]=65533;continue}I<65536?O[D++]=I:(I-=65536,O[D++]=55296|I>>10&1023,O[D++]=56320|I&1023)}return O.length!==D&&(O.subarray?O=O.subarray(0,D):O.length=D),a.applyFromCharCode(O)};i.utf8encode=function(T){return s.nodebuffer?u.newBufferFrom(T,"utf-8"):p(T)},i.utf8decode=function(T){return s.nodebuffer?a.transformTo("nodebuffer",T).toString("utf-8"):(T=a.transformTo(s.uint8array?"uint8array":"array",T),y(T))};function C(){c.call(this,"utf-8 decode"),this.leftOver=null}a.inherits(C,c),C.prototype.processChunk=function(b){var T=a.transformTo(s.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var D=T;T=new Uint8Array(D.length+this.leftOver.length),T.set(this.leftOver,0),T.set(D,this.leftOver.length)}else T=this.leftOver.concat(T);this.leftOver=null}var I=v(T),P=T;I!==T.length&&(s.uint8array?(P=T.subarray(0,I),this.leftOver=T.subarray(I,T.length)):(P=T.slice(0,I),this.leftOver=T.slice(I,T.length))),this.push({data:i.utf8decode(P),meta:b.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=C;function S(){c.call(this,"utf-8 encode")}a.inherits(S,c),S.prototype.processChunk=function(b){this.push({data:i.utf8encode(b.data),meta:b.meta})},i.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),u=n("./nodejsUtils"),c=n("./external");n("setimmediate");function f(b){var T=null;return a.uint8array?T=new Uint8Array(b.length):T=new Array(b.length),p(b,T)}i.newBlob=function(b,T){i.checkSupport("blob");try{return new Blob([b],{type:T})}catch{try{var D=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,I=new D;return I.append(b),I.getBlob(T)}catch{throw new Error("Bug : can't construct the Blob.")}}};function h(b){return b}function p(b,T){for(var D=0;D<b.length;++D)T[D]=b.charCodeAt(D)&255;return T}var v={stringifyByChunk:function(b,T,D){var I=[],P=0,M=b.length;if(M<=D)return String.fromCharCode.apply(null,b);for(;P<M;)T==="array"||T==="nodebuffer"?I.push(String.fromCharCode.apply(null,b.slice(P,Math.min(P+D,M)))):I.push(String.fromCharCode.apply(null,b.subarray(P,Math.min(P+D,M)))),P+=D;return I.join("")},stringifyByChar:function(b){for(var T="",D=0;D<b.length;D++)T+=String.fromCharCode(b[D]);return T},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function y(b){var T=65536,D=i.getTypeOf(b),I=!0;if(D==="uint8array"?I=v.applyCanBeUsed.uint8array:D==="nodebuffer"&&(I=v.applyCanBeUsed.nodebuffer),I)for(;T>1;)try{return v.stringifyByChunk(b,D,T)}catch{T=Math.floor(T/2)}return v.stringifyByChar(b)}i.applyFromCharCode=y;function C(b,T){for(var D=0;D<b.length;D++)T[D]=b[D];return T}var S={};S.string={string:h,array:function(b){return p(b,new Array(b.length))},arraybuffer:function(b){return S.string.uint8array(b).buffer},uint8array:function(b){return p(b,new Uint8Array(b.length))},nodebuffer:function(b){return p(b,u.allocBuffer(b.length))}},S.array={string:y,array:h,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return u.newBufferFrom(b)}},S.arraybuffer={string:function(b){return y(new Uint8Array(b))},array:function(b){return C(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return u.newBufferFrom(new Uint8Array(b))}},S.uint8array={string:y,array:function(b){return C(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:h,nodebuffer:function(b){return u.newBufferFrom(b)}},S.nodebuffer={string:y,array:function(b){return C(b,new Array(b.length))},arraybuffer:function(b){return S.nodebuffer.uint8array(b).buffer},uint8array:function(b){return C(b,new Uint8Array(b.length))},nodebuffer:h},i.transformTo=function(b,T){if(T||(T=""),!b)return T;i.checkSupport(b);var D=i.getTypeOf(T),I=S[D][b](T);return I},i.resolve=function(b){for(var T=b.split("/"),D=[],I=0;I<T.length;I++){var P=T[I];P==="."||P===""&&I!==0&&I!==T.length-1||(P===".."?D.pop():D.push(P))}return D.join("/")},i.getTypeOf=function(b){if(typeof b=="string")return"string";if(Object.prototype.toString.call(b)==="[object Array]")return"array";if(a.nodebuffer&&u.isBuffer(b))return"nodebuffer";if(a.uint8array&&b instanceof Uint8Array)return"uint8array";if(a.arraybuffer&&b instanceof ArrayBuffer)return"arraybuffer"},i.checkSupport=function(b){var T=a[b.toLowerCase()];if(!T)throw new Error(b+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(b){var T="",D,I;for(I=0;I<(b||"").length;I++)D=b.charCodeAt(I),T+="\\x"+(D<16?"0":"")+D.toString(16).toUpperCase();return T},i.delay=function(b,T,D){setImmediate(function(){b.apply(D||null,T||[])})},i.inherits=function(b,T){var D=function(){};D.prototype=T.prototype,b.prototype=new D},i.extend=function(){var b={},T,D;for(T=0;T<arguments.length;T++)for(D in arguments[T])Object.prototype.hasOwnProperty.call(arguments[T],D)&&typeof b[D]>"u"&&(b[D]=arguments[T][D]);return b},i.prepareContent=function(b,T,D,I,P){var M=c.Promise.resolve(T).then(function(O){var L=a.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1);return L&&typeof FileReader<"u"?new c.Promise(function(z,B){var q=new FileReader;q.onload=function(Y){z(Y.target.result)},q.onerror=function(Y){B(Y.target.error)},q.readAsArrayBuffer(O)}):O});return M.then(function(O){var L=i.getTypeOf(O);return L?(L==="arraybuffer"?O=i.transformTo("uint8array",O):L==="string"&&(P?O=s.decode(O):D&&I!==!0&&(O=f(O))),O):c.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),u=n("./signature"),c=n("./zipEntry"),f=n("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(p)+")")}},isSignature:function(p,v){var y=this.reader.index;this.reader.setIndex(p);var C=this.reader.readString(4),S=C===v;return this.reader.setIndex(y),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),v=f.uint8array?"uint8array":"array",y=s.transformTo(v,p);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p=this.zip64EndOfCentralSize-44,v=0,y,C,S;v<p;)y=this.reader.readInt(2),C=this.reader.readInt(4),S=this.reader.readData(C),this.zip64ExtensibleData[y]={id:y,length:C,value:S}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,v;for(p=0;p<this.files.length;p++)v=this.files[p],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)p=new c({zip64:this.zip64},this.loadOptions),p.readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(p<0){var v=!this.isSignature(0,u.LOCAL_FILE_HEADER);throw v?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(p);var y=p;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,p=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),p<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var S=y-C;if(S>0)this.isSignature(y,u.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(p){this.reader=a(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),u=n("./compressedObject"),c=n("./crc32"),f=n("./utf8"),h=n("./compressions"),p=n("./support"),v=0,y=3,C=function(b){for(var T in h)if(Object.prototype.hasOwnProperty.call(h,T)&&h[T].magic===b)return h[T];return null};function S(b,T){this.options=b,this.loadOptions=T}S.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(b){var T,D;if(b.skip(22),this.fileNameLength=b.readInt(2),D=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(D),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(T=C(this.compressionMethod),T===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,T,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var T=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(T),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),b===v&&(this.dosPermissions=this.externalFileAttributes&63),b===y&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var T=b.index+this.extraFieldsLength,D,I,P;for(this.extraFields||(this.extraFields={});b.index+4<T;)D=b.readInt(2),I=b.readInt(2),P=b.readData(I),this.extraFields[D]={id:D,length:I,value:P};b.setIndex(T)},handleUTF8:function(){var b=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var T=this.findExtraFieldUnicodePath();if(T!==null)this.fileNameStr=T;else{var D=s.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(D)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var P=s.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var T=a(b.value);return T.readInt(1)!==1||c(this.fileName)!==T.readInt(4)?null:f.utf8decode(T.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var T=a(b.value);return T.readInt(1)!==1||c(this.fileComment)!==T.readInt(4)?null:f.utf8decode(T.readData(b.length-5))}return null}},r.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){var a=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),u=n("./utf8"),c=n("./compressedObject"),f=n("./stream/GenericWorker"),h=function(C,S,b){this.name=C,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=S,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}};h.prototype={internalStream:function(C){var S=null,b="string";try{if(!C)throw new Error("No output type specified.");b=C.toLowerCase();var T=b==="string"||b==="text";(b==="binarystring"||b==="text")&&(b="string"),S=this._decompressWorker();var D=!this._dataBinary;D&&!T&&(S=S.pipe(new u.Utf8EncodeWorker)),!D&&T&&(S=S.pipe(new u.Utf8DecodeWorker))}catch(I){S=new f("error"),S.error(I)}return new a(S,b,"")},async:function(C,S){return this.internalStream(C).accumulate(S)},nodeStream:function(C,S){return this.internalStream(C||"nodebuffer").toNodejsStream(S)},_compressWorker:function(C,S){if(this._data instanceof c&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(b,C,S)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof f?this._data:new s(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<p.length;y++)h.prototype[p[y]]=v;r.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s=a.MutationObserver||a.WebKitMutationObserver,u;if(s){var c=0,f=new s(C),h=a.document.createTextNode("");f.observe(h,{characterData:!0}),u=function(){h.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var p=new a.MessageChannel;p.port1.onmessage=C,u=function(){p.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?u=function(){var b=a.document.createElement("script");b.onreadystatechange=function(){C(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:u=function(){setTimeout(C,0)};var v,y=[];function C(){v=!0;for(var b,T,D=y.length;D;){for(T=y,y=[],b=-1;++b<D;)T[b]();D=y.length}v=!1}r.exports=S;function S(b){y.push(b)===1&&!v&&u()}}).call(this,typeof oi<"u"?oi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var u={},c=["REJECTED"],f=["FULFILLED"],h=["PENDING"];r.exports=p;function p(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,M!==s&&S(this,M)}p.prototype.finally=function(M){if(typeof M!="function")return this;var O=this.constructor;return this.then(L,z);function L(B){function q(){return B}return O.resolve(M()).then(q)}function z(B){function q(){throw B}return O.resolve(M()).then(q)}},p.prototype.catch=function(M){return this.then(null,M)},p.prototype.then=function(M,O){if(typeof M!="function"&&this.state===f||typeof O!="function"&&this.state===c)return this;var L=new this.constructor(s);if(this.state!==h){var z=this.state===f?M:O;y(L,z,this.outcome)}else this.queue.push(new v(L,M,O));return L};function v(M,O,L){this.promise=M,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(M){u.resolve(this.promise,M)},v.prototype.otherCallFulfilled=function(M){y(this.promise,this.onFulfilled,M)},v.prototype.callRejected=function(M){u.reject(this.promise,M)},v.prototype.otherCallRejected=function(M){y(this.promise,this.onRejected,M)};function y(M,O,L){a(function(){var z;try{z=O(L)}catch(B){return u.reject(M,B)}z===M?u.reject(M,new TypeError("Cannot resolve promise with itself")):u.resolve(M,z)})}u.resolve=function(M,O){var L=b(C,O);if(L.status==="error")return u.reject(M,L.value);var z=L.value;if(z)S(M,z);else{M.state=f,M.outcome=O;for(var B=-1,q=M.queue.length;++B<q;)M.queue[B].callFulfilled(O)}return M},u.reject=function(M,O){M.state=c,M.outcome=O;for(var L=-1,z=M.queue.length;++L<z;)M.queue[L].callRejected(O);return M};function C(M){var O=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof O=="function")return function(){O.apply(M,arguments)}}function S(M,O){var L=!1;function z(W){L||(L=!0,u.reject(M,W))}function B(W){L||(L=!0,u.resolve(M,W))}function q(){O(B,z)}var Y=b(q);Y.status==="error"&&z(Y.value)}function b(M,O){var L={};try{L.value=M(O),L.status="success"}catch(z){L.status="error",L.value=z}return L}p.resolve=T;function T(M){return M instanceof this?M:u.resolve(new this(s),M)}p.reject=D;function D(M){var O=new this(s);return u.reject(O,M)}p.all=I;function I(M){var O=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=M.length,z=!1;if(!L)return this.resolve([]);for(var B=new Array(L),q=0,Y=-1,W=new this(s);++Y<L;)re(M[Y],Y);return W;function re(me,Z){O.resolve(me).then(X,function(Q){z||(z=!0,u.reject(W,Q))});function X(Q){B[Z]=Q,++q===L&&!z&&(z=!0,u.resolve(W,B))}}}p.race=P;function P(M){var O=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=M.length,z=!1;if(!L)return this.resolve([]);for(var B=-1,q=new this(s);++B<L;)Y(M[B]);return q;function Y(W){O.resolve(W).then(function(re){z||(z=!0,u.resolve(q,re))},function(re){z||(z=!0,u.reject(q,re))})}}},{immediate:36}],38:[function(n,r,i){var a=n("./lib/utils/common").assign,s=n("./lib/deflate"),u=n("./lib/inflate"),c=n("./lib/zlib/constants"),f={};a(f,s,u,c),r.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),u=n("./utils/strings"),c=n("./zlib/messages"),f=n("./zlib/zstream"),h=Object.prototype.toString,p=0,v=4,y=0,C=1,S=2,b=-1,T=0,D=8;function I(L){if(!(this instanceof I))return new I(L);this.options=s.assign({level:b,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},L||{});var z=this.options;z.raw&&z.windowBits>0?z.windowBits=-z.windowBits:z.gzip&&z.windowBits>0&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var B=a.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(B!==y)throw new Error(c[B]);if(z.header&&a.deflateSetHeader(this.strm,z.header),z.dictionary){var q;if(typeof z.dictionary=="string"?q=u.string2buf(z.dictionary):h.call(z.dictionary)==="[object ArrayBuffer]"?q=new Uint8Array(z.dictionary):q=z.dictionary,B=a.deflateSetDictionary(this.strm,q),B!==y)throw new Error(c[B]);this._dict_set=!0}}I.prototype.push=function(L,z){var B=this.strm,q=this.options.chunkSize,Y,W;if(this.ended)return!1;W=z===~~z?z:z===!0?v:p,typeof L=="string"?B.input=u.string2buf(L):h.call(L)==="[object ArrayBuffer]"?B.input=new Uint8Array(L):B.input=L,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new s.Buf8(q),B.next_out=0,B.avail_out=q),Y=a.deflate(B,W),Y!==C&&Y!==y)return this.onEnd(Y),this.ended=!0,!1;(B.avail_out===0||B.avail_in===0&&(W===v||W===S))&&(this.options.to==="string"?this.onData(u.buf2binstring(s.shrinkBuf(B.output,B.next_out))):this.onData(s.shrinkBuf(B.output,B.next_out)))}while((B.avail_in>0||B.avail_out===0)&&Y!==C);return W===v?(Y=a.deflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===y):(W===S&&(this.onEnd(y),B.avail_out=0),!0)},I.prototype.onData=function(L){this.chunks.push(L)},I.prototype.onEnd=function(L){L===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function P(L,z){var B=new I(z);if(B.push(L,!0),B.err)throw B.msg||c[B.err];return B.result}function M(L,z){return z=z||{},z.raw=!0,P(L,z)}function O(L,z){return z=z||{},z.gzip=!0,P(L,z)}i.Deflate=I,i.deflate=P,i.deflateRaw=M,i.gzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),u=n("./utils/strings"),c=n("./zlib/constants"),f=n("./zlib/messages"),h=n("./zlib/zstream"),p=n("./zlib/gzheader"),v=Object.prototype.toString;function y(b){if(!(this instanceof y))return new y(b);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},b||{});var T=this.options;T.raw&&T.windowBits>=0&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),T.windowBits>=0&&T.windowBits<16&&!(b&&b.windowBits)&&(T.windowBits+=32),T.windowBits>15&&T.windowBits<48&&(T.windowBits&15)===0&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var D=a.inflateInit2(this.strm,T.windowBits);if(D!==c.Z_OK)throw new Error(f[D]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}y.prototype.push=function(b,T){var D=this.strm,I=this.options.chunkSize,P=this.options.dictionary,M,O,L,z,B,q,Y=!1;if(this.ended)return!1;O=T===~~T?T:T===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof b=="string"?D.input=u.binstring2buf(b):v.call(b)==="[object ArrayBuffer]"?D.input=new Uint8Array(b):D.input=b,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new s.Buf8(I),D.next_out=0,D.avail_out=I),M=a.inflate(D,c.Z_NO_FLUSH),M===c.Z_NEED_DICT&&P&&(typeof P=="string"?q=u.string2buf(P):v.call(P)==="[object ArrayBuffer]"?q=new Uint8Array(P):q=P,M=a.inflateSetDictionary(this.strm,q)),M===c.Z_BUF_ERROR&&Y===!0&&(M=c.Z_OK,Y=!1),M!==c.Z_STREAM_END&&M!==c.Z_OK)return this.onEnd(M),this.ended=!0,!1;D.next_out&&(D.avail_out===0||M===c.Z_STREAM_END||D.avail_in===0&&(O===c.Z_FINISH||O===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(L=u.utf8border(D.output,D.next_out),z=D.next_out-L,B=u.buf2string(D.output,L),D.next_out=z,D.avail_out=I-z,z&&s.arraySet(D.output,D.output,L,z,0),this.onData(B)):this.onData(s.shrinkBuf(D.output,D.next_out))),D.avail_in===0&&D.avail_out===0&&(Y=!0)}while((D.avail_in>0||D.avail_out===0)&&M!==c.Z_STREAM_END);return M===c.Z_STREAM_END&&(O=c.Z_FINISH),O===c.Z_FINISH?(M=a.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===c.Z_OK):(O===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),D.avail_out=0),!0)},y.prototype.onData=function(b){this.chunks.push(b)},y.prototype.onEnd=function(b){b===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function C(b,T){var D=new y(T);if(D.push(b,!0),D.err)throw D.msg||f[D.err];return D.result}function S(b,T){return T=T||{},T.raw=!0,C(b,T)}i.Inflate=y,i.inflate=C,i.inflateRaw=S,i.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var h=f.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])}}return c},i.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var s={arraySet:function(c,f,h,p,v){if(f.subarray&&c.subarray){c.set(f.subarray(h,h+p),v);return}for(var y=0;y<p;y++)c[v+y]=f[h+y]},flattenChunks:function(c){var f,h,p,v,y,C;for(p=0,f=0,h=c.length;f<h;f++)p+=c[f].length;for(C=new Uint8Array(p),v=0,f=0,h=c.length;f<h;f++)y=c[f],C.set(y,v),v+=y.length;return C}},u={arraySet:function(c,f,h,p,v){for(var y=0;y<p;y++)c[v+y]=f[h+y]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var c=new a.Buf8(256),f=0;f<256;f++)c[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;c[254]=c[254]=1,i.string2buf=function(p){var v,y,C,S,b,T=p.length,D=0;for(S=0;S<T;S++)y=p.charCodeAt(S),(y&64512)===55296&&S+1<T&&(C=p.charCodeAt(S+1),(C&64512)===56320&&(y=65536+(y-55296<<10)+(C-56320),S++)),D+=y<128?1:y<2048?2:y<65536?3:4;for(v=new a.Buf8(D),b=0,S=0;b<D;S++)y=p.charCodeAt(S),(y&64512)===55296&&S+1<T&&(C=p.charCodeAt(S+1),(C&64512)===56320&&(y=65536+(y-55296<<10)+(C-56320),S++)),y<128?v[b++]=y:y<2048?(v[b++]=192|y>>>6,v[b++]=128|y&63):y<65536?(v[b++]=224|y>>>12,v[b++]=128|y>>>6&63,v[b++]=128|y&63):(v[b++]=240|y>>>18,v[b++]=128|y>>>12&63,v[b++]=128|y>>>6&63,v[b++]=128|y&63);return v};function h(p,v){if(v<65537&&(p.subarray&&u||!p.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(p,v));for(var y="",C=0;C<v;C++)y+=String.fromCharCode(p[C]);return y}i.buf2binstring=function(p){return h(p,p.length)},i.binstring2buf=function(p){for(var v=new a.Buf8(p.length),y=0,C=v.length;y<C;y++)v[y]=p.charCodeAt(y);return v},i.buf2string=function(p,v){var y,C,S,b,T=v||p.length,D=new Array(T*2);for(C=0,y=0;y<T;){if(S=p[y++],S<128){D[C++]=S;continue}if(b=c[S],b>4){D[C++]=65533,y+=b-1;continue}for(S&=b===2?31:b===3?15:7;b>1&&y<T;)S=S<<6|p[y++]&63,b--;if(b>1){D[C++]=65533;continue}S<65536?D[C++]=S:(S-=65536,D[C++]=55296|S>>10&1023,D[C++]=56320|S&1023)}return h(D,C)},i.utf8border=function(p,v){var y;for(v=v||p.length,v>p.length&&(v=p.length),y=v-1;y>=0&&(p[y]&192)===128;)y--;return y<0||y===0?v:y+c[p[y]]>v?y:v}},{"./common":41}],43:[function(n,r,i){function a(s,u,c,f){for(var h=s&65535|0,p=s>>>16&65535|0,v=0;c!==0;){v=c>2e3?2e3:c,c-=v;do h=h+u[f++]|0,p=p+h|0;while(--v);h%=65521,p%=65521}return h|p<<16|0}r.exports=a},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){function a(){for(var c,f=[],h=0;h<256;h++){c=h;for(var p=0;p<8;p++)c=c&1?3988292384^c>>>1:c>>>1;f[h]=c}return f}var s=a();function u(c,f,h,p){var v=s,y=p+h;c^=-1;for(var C=p;C<y;C++)c=c>>>8^v[(c^f[C])&255];return c^-1}r.exports=u},{}],46:[function(n,r,i){var a=n("../utils/common"),s=n("./trees"),u=n("./adler32"),c=n("./crc32"),f=n("./messages"),h=0,p=1,v=3,y=4,C=5,S=0,b=1,T=-2,D=-3,I=-5,P=-1,M=1,O=2,L=3,z=4,B=0,q=2,Y=8,W=9,re=15,me=8,Z=29,X=256,Q=X+1+Z,oe=30,de=19,Ce=2*Q+1,$=15,se=3,Ae=258,we=Ae+se+1,Ue=32,$e=42,qe=69,Ge=73,ye=91,We=103,je=113,Ee=666,Qe=1,Ye=2,tt=3,rt=4,ot=3;function Mt(A,J){return A.msg=f[J],J}function Ot(A){return(A<<1)-(A>4?9:0)}function Ft(A){for(var J=A.length;--J>=0;)A[J]=0}function it(A){var J=A.state,ie=J.pending;ie>A.avail_out&&(ie=A.avail_out),ie!==0&&(a.arraySet(A.output,J.pending_buf,J.pending_out,ie,A.next_out),A.next_out+=ie,J.pending_out+=ie,A.total_out+=ie,A.avail_out-=ie,J.pending-=ie,J.pending===0&&(J.pending_out=0))}function ut(A,J){s._tr_flush_block(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,J),A.block_start=A.strstart,it(A.strm)}function st(A,J){A.pending_buf[A.pending++]=J}function _t(A,J){A.pending_buf[A.pending++]=J>>>8&255,A.pending_buf[A.pending++]=J&255}function or(A,J,ie,j){var ee=A.avail_in;return ee>j&&(ee=j),ee===0?0:(A.avail_in-=ee,a.arraySet(J,A.input,A.next_in,ee,ie),A.state.wrap===1?A.adler=u(A.adler,J,ee,ie):A.state.wrap===2&&(A.adler=c(A.adler,J,ee,ie)),A.next_in+=ee,A.total_in+=ee,ee)}function wn(A,J){var ie=A.max_chain_length,j=A.strstart,ee,pe,ze=A.prev_length,Pe=A.nice_match,Fe=A.strstart>A.w_size-we?A.strstart-(A.w_size-we):0,ft=A.window,dn=A.w_mask,yt=A.prev,ht=A.strstart+Ae,At=ft[j+ze-1],at=ft[j+ze];A.prev_length>=A.good_match&&(ie>>=2),Pe>A.lookahead&&(Pe=A.lookahead);do if(ee=J,!(ft[ee+ze]!==at||ft[ee+ze-1]!==At||ft[ee]!==ft[j]||ft[++ee]!==ft[j+1])){j+=2,ee++;do;while(ft[++j]===ft[++ee]&&ft[++j]===ft[++ee]&&ft[++j]===ft[++ee]&&ft[++j]===ft[++ee]&&ft[++j]===ft[++ee]&&ft[++j]===ft[++ee]&&ft[++j]===ft[++ee]&&ft[++j]===ft[++ee]&&j<ht);if(pe=Ae-(ht-j),j=ht-Ae,pe>ze){if(A.match_start=J,ze=pe,pe>=Pe)break;At=ft[j+ze-1],at=ft[j+ze]}}while((J=yt[J&dn])>Fe&&--ie!==0);return ze<=A.lookahead?ze:A.lookahead}function en(A){var J=A.w_size,ie,j,ee,pe,ze;do{if(pe=A.window_size-A.lookahead-A.strstart,A.strstart>=J+(J-we)){a.arraySet(A.window,A.window,J,J,0),A.match_start-=J,A.strstart-=J,A.block_start-=J,j=A.hash_size,ie=j;do ee=A.head[--ie],A.head[ie]=ee>=J?ee-J:0;while(--j);j=J,ie=j;do ee=A.prev[--ie],A.prev[ie]=ee>=J?ee-J:0;while(--j);pe+=J}if(A.strm.avail_in===0)break;if(j=or(A.strm,A.window,A.strstart+A.lookahead,pe),A.lookahead+=j,A.lookahead+A.insert>=se)for(ze=A.strstart-A.insert,A.ins_h=A.window[ze],A.ins_h=(A.ins_h<<A.hash_shift^A.window[ze+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[ze+se-1])&A.hash_mask,A.prev[ze&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=ze,ze++,A.insert--,!(A.lookahead+A.insert<se)););}while(A.lookahead<we&&A.strm.avail_in!==0)}function kn(A,J){var ie=65535;for(ie>A.pending_buf_size-5&&(ie=A.pending_buf_size-5);;){if(A.lookahead<=1){if(en(A),A.lookahead===0&&J===h)return Qe;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var j=A.block_start+ie;if((A.strstart===0||A.strstart>=j)&&(A.lookahead=A.strstart-j,A.strstart=j,ut(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-we&&(ut(A,!1),A.strm.avail_out===0))return Qe}return A.insert=0,J===y?(ut(A,!0),A.strm.avail_out===0?tt:rt):(A.strstart>A.block_start&&(ut(A,!1),A.strm.avail_out===0),Qe)}function Fn(A,J){for(var ie,j;;){if(A.lookahead<we){if(en(A),A.lookahead<we&&J===h)return Qe;if(A.lookahead===0)break}if(ie=0,A.lookahead>=se&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+se-1])&A.hash_mask,ie=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),ie!==0&&A.strstart-ie<=A.w_size-we&&(A.match_length=wn(A,ie)),A.match_length>=se)if(j=s._tr_tally(A,A.strstart-A.match_start,A.match_length-se),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=se){A.match_length--;do A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+se-1])&A.hash_mask,ie=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;while(--A.match_length!==0);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else j=s._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(j&&(ut(A,!1),A.strm.avail_out===0))return Qe}return A.insert=A.strstart<se-1?A.strstart:se-1,J===y?(ut(A,!0),A.strm.avail_out===0?tt:rt):A.last_lit&&(ut(A,!1),A.strm.avail_out===0)?Qe:Ye}function sn(A,J){for(var ie,j,ee;;){if(A.lookahead<we){if(en(A),A.lookahead<we&&J===h)return Qe;if(A.lookahead===0)break}if(ie=0,A.lookahead>=se&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+se-1])&A.hash_mask,ie=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=se-1,ie!==0&&A.prev_length<A.max_lazy_match&&A.strstart-ie<=A.w_size-we&&(A.match_length=wn(A,ie),A.match_length<=5&&(A.strategy===M||A.match_length===se&&A.strstart-A.match_start>4096)&&(A.match_length=se-1)),A.prev_length>=se&&A.match_length<=A.prev_length){ee=A.strstart+A.lookahead-se,j=s._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-se),A.lookahead-=A.prev_length-1,A.prev_length-=2;do++A.strstart<=ee&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+se-1])&A.hash_mask,ie=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart);while(--A.prev_length!==0);if(A.match_available=0,A.match_length=se-1,A.strstart++,j&&(ut(A,!1),A.strm.avail_out===0))return Qe}else if(A.match_available){if(j=s._tr_tally(A,0,A.window[A.strstart-1]),j&&ut(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return Qe}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(j=s._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<se-1?A.strstart:se-1,J===y?(ut(A,!0),A.strm.avail_out===0?tt:rt):A.last_lit&&(ut(A,!1),A.strm.avail_out===0)?Qe:Ye}function Tn(A,J){for(var ie,j,ee,pe,ze=A.window;;){if(A.lookahead<=Ae){if(en(A),A.lookahead<=Ae&&J===h)return Qe;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=se&&A.strstart>0&&(ee=A.strstart-1,j=ze[ee],j===ze[++ee]&&j===ze[++ee]&&j===ze[++ee])){pe=A.strstart+Ae;do;while(j===ze[++ee]&&j===ze[++ee]&&j===ze[++ee]&&j===ze[++ee]&&j===ze[++ee]&&j===ze[++ee]&&j===ze[++ee]&&j===ze[++ee]&&ee<pe);A.match_length=Ae-(pe-ee),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=se?(ie=s._tr_tally(A,1,A.match_length-se),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(ie=s._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),ie&&(ut(A,!1),A.strm.avail_out===0))return Qe}return A.insert=0,J===y?(ut(A,!0),A.strm.avail_out===0?tt:rt):A.last_lit&&(ut(A,!1),A.strm.avail_out===0)?Qe:Ye}function mn(A,J){for(var ie;;){if(A.lookahead===0&&(en(A),A.lookahead===0)){if(J===h)return Qe;break}if(A.match_length=0,ie=s._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,ie&&(ut(A,!1),A.strm.avail_out===0))return Qe}return A.insert=0,J===y?(ut(A,!0),A.strm.avail_out===0?tt:rt):A.last_lit&&(ut(A,!1),A.strm.avail_out===0)?Qe:Ye}function zt(A,J,ie,j,ee){this.good_length=A,this.max_lazy=J,this.nice_length=ie,this.max_chain=j,this.func=ee}var St;St=[new zt(0,0,0,0,kn),new zt(4,4,8,4,Fn),new zt(4,5,16,8,Fn),new zt(4,6,32,32,Fn),new zt(4,4,16,16,sn),new zt(8,16,32,32,sn),new zt(8,16,128,128,sn),new zt(8,32,128,256,sn),new zt(32,128,258,1024,sn),new zt(32,258,258,4096,sn)];function gn(A){A.window_size=2*A.w_size,Ft(A.head),A.max_lazy_match=St[A.level].max_lazy,A.good_match=St[A.level].good_length,A.nice_match=St[A.level].nice_length,A.max_chain_length=St[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=se-1,A.match_available=0,A.ins_h=0}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(Ce*2),this.dyn_dtree=new a.Buf16((2*oe+1)*2),this.bl_tree=new a.Buf16((2*de+1)*2),Ft(this.dyn_ltree),Ft(this.dyn_dtree),Ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16($+1),this.heap=new a.Buf16(2*Q+1),Ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*Q+1),Ft(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Re(A){var J;return!A||!A.state?Mt(A,T):(A.total_in=A.total_out=0,A.data_type=q,J=A.state,J.pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?$e:je,A.adler=J.wrap===2?0:1,J.last_flush=h,s._tr_init(J),S)}function Oe(A){var J=Re(A);return J===S&&gn(A.state),J}function He(A,J){return!A||!A.state||A.state.wrap!==2?T:(A.state.gzhead=J,S)}function ae(A,J,ie,j,ee,pe){if(!A)return T;var ze=1;if(J===P&&(J=6),j<0?(ze=0,j=-j):j>15&&(ze=2,j-=16),ee<1||ee>W||ie!==Y||j<8||j>15||J<0||J>9||pe<0||pe>z)return Mt(A,T);j===8&&(j=9);var Pe=new V;return A.state=Pe,Pe.strm=A,Pe.wrap=ze,Pe.gzhead=null,Pe.w_bits=j,Pe.w_size=1<<Pe.w_bits,Pe.w_mask=Pe.w_size-1,Pe.hash_bits=ee+7,Pe.hash_size=1<<Pe.hash_bits,Pe.hash_mask=Pe.hash_size-1,Pe.hash_shift=~~((Pe.hash_bits+se-1)/se),Pe.window=new a.Buf8(Pe.w_size*2),Pe.head=new a.Buf16(Pe.hash_size),Pe.prev=new a.Buf16(Pe.w_size),Pe.lit_bufsize=1<<ee+6,Pe.pending_buf_size=Pe.lit_bufsize*4,Pe.pending_buf=new a.Buf8(Pe.pending_buf_size),Pe.d_buf=1*Pe.lit_bufsize,Pe.l_buf=3*Pe.lit_bufsize,Pe.level=J,Pe.strategy=pe,Pe.method=ie,Oe(A)}function _e(A,J){return ae(A,J,Y,re,me,B)}function N(A,J){var ie,j,ee,pe;if(!A||!A.state||J>C||J<0)return A?Mt(A,T):T;if(j=A.state,!A.output||!A.input&&A.avail_in!==0||j.status===Ee&&J!==y)return Mt(A,A.avail_out===0?I:T);if(j.strm=A,ie=j.last_flush,j.last_flush=J,j.status===$e)if(j.wrap===2)A.adler=0,st(j,31),st(j,139),st(j,8),j.gzhead?(st(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),st(j,j.gzhead.time&255),st(j,j.gzhead.time>>8&255),st(j,j.gzhead.time>>16&255),st(j,j.gzhead.time>>24&255),st(j,j.level===9?2:j.strategy>=O||j.level<2?4:0),st(j,j.gzhead.os&255),j.gzhead.extra&&j.gzhead.extra.length&&(st(j,j.gzhead.extra.length&255),st(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(A.adler=c(A.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=qe):(st(j,0),st(j,0),st(j,0),st(j,0),st(j,0),st(j,j.level===9?2:j.strategy>=O||j.level<2?4:0),st(j,ot),j.status=je);else{var ze=Y+(j.w_bits-8<<4)<<8,Pe=-1;j.strategy>=O||j.level<2?Pe=0:j.level<6?Pe=1:j.level===6?Pe=2:Pe=3,ze|=Pe<<6,j.strstart!==0&&(ze|=Ue),ze+=31-ze%31,j.status=je,_t(j,ze),j.strstart!==0&&(_t(j,A.adler>>>16),_t(j,A.adler&65535)),A.adler=1}if(j.status===qe)if(j.gzhead.extra){for(ee=j.pending;j.gzindex<(j.gzhead.extra.length&65535)&&!(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>ee&&(A.adler=c(A.adler,j.pending_buf,j.pending-ee,ee)),it(A),ee=j.pending,j.pending===j.pending_buf_size));)st(j,j.gzhead.extra[j.gzindex]&255),j.gzindex++;j.gzhead.hcrc&&j.pending>ee&&(A.adler=c(A.adler,j.pending_buf,j.pending-ee,ee)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=Ge)}else j.status=Ge;if(j.status===Ge)if(j.gzhead.name){ee=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>ee&&(A.adler=c(A.adler,j.pending_buf,j.pending-ee,ee)),it(A),ee=j.pending,j.pending===j.pending_buf_size)){pe=1;break}j.gzindex<j.gzhead.name.length?pe=j.gzhead.name.charCodeAt(j.gzindex++)&255:pe=0,st(j,pe)}while(pe!==0);j.gzhead.hcrc&&j.pending>ee&&(A.adler=c(A.adler,j.pending_buf,j.pending-ee,ee)),pe===0&&(j.gzindex=0,j.status=ye)}else j.status=ye;if(j.status===ye)if(j.gzhead.comment){ee=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>ee&&(A.adler=c(A.adler,j.pending_buf,j.pending-ee,ee)),it(A),ee=j.pending,j.pending===j.pending_buf_size)){pe=1;break}j.gzindex<j.gzhead.comment.length?pe=j.gzhead.comment.charCodeAt(j.gzindex++)&255:pe=0,st(j,pe)}while(pe!==0);j.gzhead.hcrc&&j.pending>ee&&(A.adler=c(A.adler,j.pending_buf,j.pending-ee,ee)),pe===0&&(j.status=We)}else j.status=We;if(j.status===We&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&it(A),j.pending+2<=j.pending_buf_size&&(st(j,A.adler&255),st(j,A.adler>>8&255),A.adler=0,j.status=je)):j.status=je),j.pending!==0){if(it(A),A.avail_out===0)return j.last_flush=-1,S}else if(A.avail_in===0&&Ot(J)<=Ot(ie)&&J!==y)return Mt(A,I);if(j.status===Ee&&A.avail_in!==0)return Mt(A,I);if(A.avail_in!==0||j.lookahead!==0||J!==h&&j.status!==Ee){var Fe=j.strategy===O?mn(j,J):j.strategy===L?Tn(j,J):St[j.level].func(j,J);if((Fe===tt||Fe===rt)&&(j.status=Ee),Fe===Qe||Fe===tt)return A.avail_out===0&&(j.last_flush=-1),S;if(Fe===Ye&&(J===p?s._tr_align(j):J!==C&&(s._tr_stored_block(j,0,0,!1),J===v&&(Ft(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),it(A),A.avail_out===0))return j.last_flush=-1,S}return J!==y?S:j.wrap<=0?b:(j.wrap===2?(st(j,A.adler&255),st(j,A.adler>>8&255),st(j,A.adler>>16&255),st(j,A.adler>>24&255),st(j,A.total_in&255),st(j,A.total_in>>8&255),st(j,A.total_in>>16&255),st(j,A.total_in>>24&255)):(_t(j,A.adler>>>16),_t(j,A.adler&65535)),it(A),j.wrap>0&&(j.wrap=-j.wrap),j.pending!==0?S:b)}function U(A){var J;return!A||!A.state?T:(J=A.state.status,J!==$e&&J!==qe&&J!==Ge&&J!==ye&&J!==We&&J!==je&&J!==Ee?Mt(A,T):(A.state=null,J===je?Mt(A,D):S))}function H(A,J){var ie=J.length,j,ee,pe,ze,Pe,Fe,ft,dn;if(!A||!A.state||(j=A.state,ze=j.wrap,ze===2||ze===1&&j.status!==$e||j.lookahead))return T;for(ze===1&&(A.adler=u(A.adler,J,ie,0)),j.wrap=0,ie>=j.w_size&&(ze===0&&(Ft(j.head),j.strstart=0,j.block_start=0,j.insert=0),dn=new a.Buf8(j.w_size),a.arraySet(dn,J,ie-j.w_size,j.w_size,0),J=dn,ie=j.w_size),Pe=A.avail_in,Fe=A.next_in,ft=A.input,A.avail_in=ie,A.next_in=0,A.input=J,en(j);j.lookahead>=se;){ee=j.strstart,pe=j.lookahead-(se-1);do j.ins_h=(j.ins_h<<j.hash_shift^j.window[ee+se-1])&j.hash_mask,j.prev[ee&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=ee,ee++;while(--pe);j.strstart=ee,j.lookahead=se-1,en(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=se-1,j.match_available=0,A.next_in=Fe,A.input=ft,A.avail_in=Pe,j.wrap=ze,S}i.deflateInit=_e,i.deflateInit2=ae,i.deflateReset=Oe,i.deflateResetKeep=Re,i.deflateSetHeader=He,i.deflate=N,i.deflateEnd=U,i.deflateSetDictionary=H,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=a},{}],48:[function(n,r,i){var a=30,s=12;r.exports=function(c,f){var h,p,v,y,C,S,b,T,D,I,P,M,O,L,z,B,q,Y,W,re,me,Z,X,Q,oe;h=c.state,p=c.next_in,Q=c.input,v=p+(c.avail_in-5),y=c.next_out,oe=c.output,C=y-(f-c.avail_out),S=y+(c.avail_out-257),b=h.dmax,T=h.wsize,D=h.whave,I=h.wnext,P=h.window,M=h.hold,O=h.bits,L=h.lencode,z=h.distcode,B=(1<<h.lenbits)-1,q=(1<<h.distbits)-1;e:do{O<15&&(M+=Q[p++]<<O,O+=8,M+=Q[p++]<<O,O+=8),Y=L[M&B];t:for(;;){if(W=Y>>>24,M>>>=W,O-=W,W=Y>>>16&255,W===0)oe[y++]=Y&65535;else if(W&16){re=Y&65535,W&=15,W&&(O<W&&(M+=Q[p++]<<O,O+=8),re+=M&(1<<W)-1,M>>>=W,O-=W),O<15&&(M+=Q[p++]<<O,O+=8,M+=Q[p++]<<O,O+=8),Y=z[M&q];n:for(;;){if(W=Y>>>24,M>>>=W,O-=W,W=Y>>>16&255,W&16){if(me=Y&65535,W&=15,O<W&&(M+=Q[p++]<<O,O+=8,O<W&&(M+=Q[p++]<<O,O+=8)),me+=M&(1<<W)-1,me>b){c.msg="invalid distance too far back",h.mode=a;break e}if(M>>>=W,O-=W,W=y-C,me>W){if(W=me-W,W>D&&h.sane){c.msg="invalid distance too far back",h.mode=a;break e}if(Z=0,X=P,I===0){if(Z+=T-W,W<re){re-=W;do oe[y++]=P[Z++];while(--W);Z=y-me,X=oe}}else if(I<W){if(Z+=T+I-W,W-=I,W<re){re-=W;do oe[y++]=P[Z++];while(--W);if(Z=0,I<re){W=I,re-=W;do oe[y++]=P[Z++];while(--W);Z=y-me,X=oe}}}else if(Z+=I-W,W<re){re-=W;do oe[y++]=P[Z++];while(--W);Z=y-me,X=oe}for(;re>2;)oe[y++]=X[Z++],oe[y++]=X[Z++],oe[y++]=X[Z++],re-=3;re&&(oe[y++]=X[Z++],re>1&&(oe[y++]=X[Z++]))}else{Z=y-me;do oe[y++]=oe[Z++],oe[y++]=oe[Z++],oe[y++]=oe[Z++],re-=3;while(re>2);re&&(oe[y++]=oe[Z++],re>1&&(oe[y++]=oe[Z++]))}}else if((W&64)===0){Y=z[(Y&65535)+(M&(1<<W)-1)];continue n}else{c.msg="invalid distance code",h.mode=a;break e}break}}else if((W&64)===0){Y=L[(Y&65535)+(M&(1<<W)-1)];continue t}else if(W&32){h.mode=s;break e}else{c.msg="invalid literal/length code",h.mode=a;break e}break}}while(p<v&&y<S);re=O>>3,p-=re,O-=re<<3,M&=(1<<O)-1,c.next_in=p,c.next_out=y,c.avail_in=p<v?5+(v-p):5-(p-v),c.avail_out=y<S?257+(S-y):257-(y-S),h.hold=M,h.bits=O}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),u=n("./crc32"),c=n("./inffast"),f=n("./inftrees"),h=0,p=1,v=2,y=4,C=5,S=6,b=0,T=1,D=2,I=-2,P=-3,M=-4,O=-5,L=8,z=1,B=2,q=3,Y=4,W=5,re=6,me=7,Z=8,X=9,Q=10,oe=11,de=12,Ce=13,$=14,se=15,Ae=16,we=17,Ue=18,$e=19,qe=20,Ge=21,ye=22,We=23,je=24,Ee=25,Qe=26,Ye=27,tt=28,rt=29,ot=30,Mt=31,Ot=32,Ft=852,it=592,ut=15,st=ut;function _t(ae){return(ae>>>24&255)+(ae>>>8&65280)+((ae&65280)<<8)+((ae&255)<<24)}function or(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function wn(ae){var _e;return!ae||!ae.state?I:(_e=ae.state,ae.total_in=ae.total_out=_e.total=0,ae.msg="",_e.wrap&&(ae.adler=_e.wrap&1),_e.mode=z,_e.last=0,_e.havedict=0,_e.dmax=32768,_e.head=null,_e.hold=0,_e.bits=0,_e.lencode=_e.lendyn=new a.Buf32(Ft),_e.distcode=_e.distdyn=new a.Buf32(it),_e.sane=1,_e.back=-1,b)}function en(ae){var _e;return!ae||!ae.state?I:(_e=ae.state,_e.wsize=0,_e.whave=0,_e.wnext=0,wn(ae))}function kn(ae,_e){var N,U;return!ae||!ae.state||(U=ae.state,_e<0?(N=0,_e=-_e):(N=(_e>>4)+1,_e<48&&(_e&=15)),_e&&(_e<8||_e>15))?I:(U.window!==null&&U.wbits!==_e&&(U.window=null),U.wrap=N,U.wbits=_e,en(ae))}function Fn(ae,_e){var N,U;return ae?(U=new or,ae.state=U,U.window=null,N=kn(ae,_e),N!==b&&(ae.state=null),N):I}function sn(ae){return Fn(ae,st)}var Tn=!0,mn,zt;function St(ae){if(Tn){var _e;for(mn=new a.Buf32(512),zt=new a.Buf32(32),_e=0;_e<144;)ae.lens[_e++]=8;for(;_e<256;)ae.lens[_e++]=9;for(;_e<280;)ae.lens[_e++]=7;for(;_e<288;)ae.lens[_e++]=8;for(f(p,ae.lens,0,288,mn,0,ae.work,{bits:9}),_e=0;_e<32;)ae.lens[_e++]=5;f(v,ae.lens,0,32,zt,0,ae.work,{bits:5}),Tn=!1}ae.lencode=mn,ae.lenbits=9,ae.distcode=zt,ae.distbits=5}function gn(ae,_e,N,U){var H,A=ae.state;return A.window===null&&(A.wsize=1<<A.wbits,A.wnext=0,A.whave=0,A.window=new a.Buf8(A.wsize)),U>=A.wsize?(a.arraySet(A.window,_e,N-A.wsize,A.wsize,0),A.wnext=0,A.whave=A.wsize):(H=A.wsize-A.wnext,H>U&&(H=U),a.arraySet(A.window,_e,N-U,H,A.wnext),U-=H,U?(a.arraySet(A.window,_e,N-U,U,0),A.wnext=U,A.whave=A.wsize):(A.wnext+=H,A.wnext===A.wsize&&(A.wnext=0),A.whave<A.wsize&&(A.whave+=H))),0}function V(ae,_e){var N,U,H,A,J,ie,j,ee,pe,ze,Pe,Fe,ft,dn,yt=0,ht,At,at,It,Cn,Ir,ln,sr,vn=new a.Buf8(4),Xn,lr,di=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ae||!ae.state||!ae.output||!ae.input&&ae.avail_in!==0)return I;N=ae.state,N.mode===de&&(N.mode=Ce),J=ae.next_out,H=ae.output,j=ae.avail_out,A=ae.next_in,U=ae.input,ie=ae.avail_in,ee=N.hold,pe=N.bits,ze=ie,Pe=j,sr=b;e:for(;;)switch(N.mode){case z:if(N.wrap===0){N.mode=Ce;break}for(;pe<16;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if(N.wrap&2&&ee===35615){N.check=0,vn[0]=ee&255,vn[1]=ee>>>8&255,N.check=u(N.check,vn,2,0),ee=0,pe=0,N.mode=B;break}if(N.flags=0,N.head&&(N.head.done=!1),!(N.wrap&1)||(((ee&255)<<8)+(ee>>8))%31){ae.msg="incorrect header check",N.mode=ot;break}if((ee&15)!==L){ae.msg="unknown compression method",N.mode=ot;break}if(ee>>>=4,pe-=4,ln=(ee&15)+8,N.wbits===0)N.wbits=ln;else if(ln>N.wbits){ae.msg="invalid window size",N.mode=ot;break}N.dmax=1<<ln,ae.adler=N.check=1,N.mode=ee&512?Q:de,ee=0,pe=0;break;case B:for(;pe<16;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if(N.flags=ee,(N.flags&255)!==L){ae.msg="unknown compression method",N.mode=ot;break}if(N.flags&57344){ae.msg="unknown header flags set",N.mode=ot;break}N.head&&(N.head.text=ee>>8&1),N.flags&512&&(vn[0]=ee&255,vn[1]=ee>>>8&255,N.check=u(N.check,vn,2,0)),ee=0,pe=0,N.mode=q;case q:for(;pe<32;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}N.head&&(N.head.time=ee),N.flags&512&&(vn[0]=ee&255,vn[1]=ee>>>8&255,vn[2]=ee>>>16&255,vn[3]=ee>>>24&255,N.check=u(N.check,vn,4,0)),ee=0,pe=0,N.mode=Y;case Y:for(;pe<16;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}N.head&&(N.head.xflags=ee&255,N.head.os=ee>>8),N.flags&512&&(vn[0]=ee&255,vn[1]=ee>>>8&255,N.check=u(N.check,vn,2,0)),ee=0,pe=0,N.mode=W;case W:if(N.flags&1024){for(;pe<16;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}N.length=ee,N.head&&(N.head.extra_len=ee),N.flags&512&&(vn[0]=ee&255,vn[1]=ee>>>8&255,N.check=u(N.check,vn,2,0)),ee=0,pe=0}else N.head&&(N.head.extra=null);N.mode=re;case re:if(N.flags&1024&&(Fe=N.length,Fe>ie&&(Fe=ie),Fe&&(N.head&&(ln=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),a.arraySet(N.head.extra,U,A,Fe,ln)),N.flags&512&&(N.check=u(N.check,U,Fe,A)),ie-=Fe,A+=Fe,N.length-=Fe),N.length))break e;N.length=0,N.mode=me;case me:if(N.flags&2048){if(ie===0)break e;Fe=0;do ln=U[A+Fe++],N.head&&ln&&N.length<65536&&(N.head.name+=String.fromCharCode(ln));while(ln&&Fe<ie);if(N.flags&512&&(N.check=u(N.check,U,Fe,A)),ie-=Fe,A+=Fe,ln)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=Z;case Z:if(N.flags&4096){if(ie===0)break e;Fe=0;do ln=U[A+Fe++],N.head&&ln&&N.length<65536&&(N.head.comment+=String.fromCharCode(ln));while(ln&&Fe<ie);if(N.flags&512&&(N.check=u(N.check,U,Fe,A)),ie-=Fe,A+=Fe,ln)break e}else N.head&&(N.head.comment=null);N.mode=X;case X:if(N.flags&512){for(;pe<16;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if(ee!==(N.check&65535)){ae.msg="header crc mismatch",N.mode=ot;break}ee=0,pe=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),ae.adler=N.check=0,N.mode=de;break;case Q:for(;pe<32;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}ae.adler=N.check=_t(ee),ee=0,pe=0,N.mode=oe;case oe:if(N.havedict===0)return ae.next_out=J,ae.avail_out=j,ae.next_in=A,ae.avail_in=ie,N.hold=ee,N.bits=pe,D;ae.adler=N.check=1,N.mode=de;case de:if(_e===C||_e===S)break e;case Ce:if(N.last){ee>>>=pe&7,pe-=pe&7,N.mode=Ye;break}for(;pe<3;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}switch(N.last=ee&1,ee>>>=1,pe-=1,ee&3){case 0:N.mode=$;break;case 1:if(St(N),N.mode=qe,_e===S){ee>>>=2,pe-=2;break e}break;case 2:N.mode=we;break;case 3:ae.msg="invalid block type",N.mode=ot}ee>>>=2,pe-=2;break;case $:for(ee>>>=pe&7,pe-=pe&7;pe<32;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if((ee&65535)!==(ee>>>16^65535)){ae.msg="invalid stored block lengths",N.mode=ot;break}if(N.length=ee&65535,ee=0,pe=0,N.mode=se,_e===S)break e;case se:N.mode=Ae;case Ae:if(Fe=N.length,Fe){if(Fe>ie&&(Fe=ie),Fe>j&&(Fe=j),Fe===0)break e;a.arraySet(H,U,A,Fe,J),ie-=Fe,A+=Fe,j-=Fe,J+=Fe,N.length-=Fe;break}N.mode=de;break;case we:for(;pe<14;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if(N.nlen=(ee&31)+257,ee>>>=5,pe-=5,N.ndist=(ee&31)+1,ee>>>=5,pe-=5,N.ncode=(ee&15)+4,ee>>>=4,pe-=4,N.nlen>286||N.ndist>30){ae.msg="too many length or distance symbols",N.mode=ot;break}N.have=0,N.mode=Ue;case Ue:for(;N.have<N.ncode;){for(;pe<3;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}N.lens[di[N.have++]]=ee&7,ee>>>=3,pe-=3}for(;N.have<19;)N.lens[di[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,Xn={bits:N.lenbits},sr=f(h,N.lens,0,19,N.lencode,0,N.work,Xn),N.lenbits=Xn.bits,sr){ae.msg="invalid code lengths set",N.mode=ot;break}N.have=0,N.mode=$e;case $e:for(;N.have<N.nlen+N.ndist;){for(;yt=N.lencode[ee&(1<<N.lenbits)-1],ht=yt>>>24,At=yt>>>16&255,at=yt&65535,!(ht<=pe);){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if(at<16)ee>>>=ht,pe-=ht,N.lens[N.have++]=at;else{if(at===16){for(lr=ht+2;pe<lr;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if(ee>>>=ht,pe-=ht,N.have===0){ae.msg="invalid bit length repeat",N.mode=ot;break}ln=N.lens[N.have-1],Fe=3+(ee&3),ee>>>=2,pe-=2}else if(at===17){for(lr=ht+3;pe<lr;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}ee>>>=ht,pe-=ht,ln=0,Fe=3+(ee&7),ee>>>=3,pe-=3}else{for(lr=ht+7;pe<lr;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}ee>>>=ht,pe-=ht,ln=0,Fe=11+(ee&127),ee>>>=7,pe-=7}if(N.have+Fe>N.nlen+N.ndist){ae.msg="invalid bit length repeat",N.mode=ot;break}for(;Fe--;)N.lens[N.have++]=ln}}if(N.mode===ot)break;if(N.lens[256]===0){ae.msg="invalid code -- missing end-of-block",N.mode=ot;break}if(N.lenbits=9,Xn={bits:N.lenbits},sr=f(p,N.lens,0,N.nlen,N.lencode,0,N.work,Xn),N.lenbits=Xn.bits,sr){ae.msg="invalid literal/lengths set",N.mode=ot;break}if(N.distbits=6,N.distcode=N.distdyn,Xn={bits:N.distbits},sr=f(v,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,Xn),N.distbits=Xn.bits,sr){ae.msg="invalid distances set",N.mode=ot;break}if(N.mode=qe,_e===S)break e;case qe:N.mode=Ge;case Ge:if(ie>=6&&j>=258){ae.next_out=J,ae.avail_out=j,ae.next_in=A,ae.avail_in=ie,N.hold=ee,N.bits=pe,c(ae,Pe),J=ae.next_out,H=ae.output,j=ae.avail_out,A=ae.next_in,U=ae.input,ie=ae.avail_in,ee=N.hold,pe=N.bits,N.mode===de&&(N.back=-1);break}for(N.back=0;yt=N.lencode[ee&(1<<N.lenbits)-1],ht=yt>>>24,At=yt>>>16&255,at=yt&65535,!(ht<=pe);){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if(At&&(At&240)===0){for(It=ht,Cn=At,Ir=at;yt=N.lencode[Ir+((ee&(1<<It+Cn)-1)>>It)],ht=yt>>>24,At=yt>>>16&255,at=yt&65535,!(It+ht<=pe);){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}ee>>>=It,pe-=It,N.back+=It}if(ee>>>=ht,pe-=ht,N.back+=ht,N.length=at,At===0){N.mode=Qe;break}if(At&32){N.back=-1,N.mode=de;break}if(At&64){ae.msg="invalid literal/length code",N.mode=ot;break}N.extra=At&15,N.mode=ye;case ye:if(N.extra){for(lr=N.extra;pe<lr;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}N.length+=ee&(1<<N.extra)-1,ee>>>=N.extra,pe-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=We;case We:for(;yt=N.distcode[ee&(1<<N.distbits)-1],ht=yt>>>24,At=yt>>>16&255,at=yt&65535,!(ht<=pe);){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if((At&240)===0){for(It=ht,Cn=At,Ir=at;yt=N.distcode[Ir+((ee&(1<<It+Cn)-1)>>It)],ht=yt>>>24,At=yt>>>16&255,at=yt&65535,!(It+ht<=pe);){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}ee>>>=It,pe-=It,N.back+=It}if(ee>>>=ht,pe-=ht,N.back+=ht,At&64){ae.msg="invalid distance code",N.mode=ot;break}N.offset=at,N.extra=At&15,N.mode=je;case je:if(N.extra){for(lr=N.extra;pe<lr;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}N.offset+=ee&(1<<N.extra)-1,ee>>>=N.extra,pe-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){ae.msg="invalid distance too far back",N.mode=ot;break}N.mode=Ee;case Ee:if(j===0)break e;if(Fe=Pe-j,N.offset>Fe){if(Fe=N.offset-Fe,Fe>N.whave&&N.sane){ae.msg="invalid distance too far back",N.mode=ot;break}Fe>N.wnext?(Fe-=N.wnext,ft=N.wsize-Fe):ft=N.wnext-Fe,Fe>N.length&&(Fe=N.length),dn=N.window}else dn=H,ft=J-N.offset,Fe=N.length;Fe>j&&(Fe=j),j-=Fe,N.length-=Fe;do H[J++]=dn[ft++];while(--Fe);N.length===0&&(N.mode=Ge);break;case Qe:if(j===0)break e;H[J++]=N.length,j--,N.mode=Ge;break;case Ye:if(N.wrap){for(;pe<32;){if(ie===0)break e;ie--,ee|=U[A++]<<pe,pe+=8}if(Pe-=j,ae.total_out+=Pe,N.total+=Pe,Pe&&(ae.adler=N.check=N.flags?u(N.check,H,Pe,J-Pe):s(N.check,H,Pe,J-Pe)),Pe=j,(N.flags?ee:_t(ee))!==N.check){ae.msg="incorrect data check",N.mode=ot;break}ee=0,pe=0}N.mode=tt;case tt:if(N.wrap&&N.flags){for(;pe<32;){if(ie===0)break e;ie--,ee+=U[A++]<<pe,pe+=8}if(ee!==(N.total&4294967295)){ae.msg="incorrect length check",N.mode=ot;break}ee=0,pe=0}N.mode=rt;case rt:sr=T;break e;case ot:sr=P;break e;case Mt:return M;case Ot:default:return I}return ae.next_out=J,ae.avail_out=j,ae.next_in=A,ae.avail_in=ie,N.hold=ee,N.bits=pe,(N.wsize||Pe!==ae.avail_out&&N.mode<ot&&(N.mode<Ye||_e!==y))&&gn(ae,ae.output,ae.next_out,Pe-ae.avail_out),ze-=ae.avail_in,Pe-=ae.avail_out,ae.total_in+=ze,ae.total_out+=Pe,N.total+=Pe,N.wrap&&Pe&&(ae.adler=N.check=N.flags?u(N.check,H,Pe,ae.next_out-Pe):s(N.check,H,Pe,ae.next_out-Pe)),ae.data_type=N.bits+(N.last?64:0)+(N.mode===de?128:0)+(N.mode===qe||N.mode===se?256:0),(ze===0&&Pe===0||_e===y)&&sr===b&&(sr=O),sr}function Re(ae){if(!ae||!ae.state)return I;var _e=ae.state;return _e.window&&(_e.window=null),ae.state=null,b}function Oe(ae,_e){var N;return!ae||!ae.state||(N=ae.state,(N.wrap&2)===0)?I:(N.head=_e,_e.done=!1,b)}function He(ae,_e){var N=_e.length,U,H,A;return!ae||!ae.state||(U=ae.state,U.wrap!==0&&U.mode!==oe)?I:U.mode===oe&&(H=1,H=s(H,_e,N,0),H!==U.check)?P:(A=gn(ae,_e,N,N),A?(U.mode=Mt,M):(U.havedict=1,b))}i.inflateReset=en,i.inflateReset2=kn,i.inflateResetKeep=wn,i.inflateInit=sn,i.inflateInit2=Fn,i.inflate=V,i.inflateEnd=Re,i.inflateGetHeader=Oe,i.inflateSetDictionary=He,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=15,u=852,c=592,f=0,h=1,p=2,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],S=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(T,D,I,P,M,O,L,z){var B=z.bits,q=0,Y=0,W=0,re=0,me=0,Z=0,X=0,Q=0,oe=0,de=0,Ce,$,se,Ae,we,Ue=null,$e=0,qe,Ge=new a.Buf16(s+1),ye=new a.Buf16(s+1),We=null,je=0,Ee,Qe,Ye;for(q=0;q<=s;q++)Ge[q]=0;for(Y=0;Y<P;Y++)Ge[D[I+Y]]++;for(me=B,re=s;re>=1&&Ge[re]===0;re--);if(me>re&&(me=re),re===0)return M[O++]=1<<24|64<<16|0,M[O++]=1<<24|64<<16|0,z.bits=1,0;for(W=1;W<re&&Ge[W]===0;W++);for(me<W&&(me=W),Q=1,q=1;q<=s;q++)if(Q<<=1,Q-=Ge[q],Q<0)return-1;if(Q>0&&(T===f||re!==1))return-1;for(ye[1]=0,q=1;q<s;q++)ye[q+1]=ye[q]+Ge[q];for(Y=0;Y<P;Y++)D[I+Y]!==0&&(L[ye[D[I+Y]]++]=Y);if(T===f?(Ue=We=L,qe=19):T===h?(Ue=v,$e-=257,We=y,je-=257,qe=256):(Ue=C,We=S,qe=-1),de=0,Y=0,q=W,we=O,Z=me,X=0,se=-1,oe=1<<me,Ae=oe-1,T===h&&oe>u||T===p&&oe>c)return 1;for(;;){Ee=q-X,L[Y]<qe?(Qe=0,Ye=L[Y]):L[Y]>qe?(Qe=We[je+L[Y]],Ye=Ue[$e+L[Y]]):(Qe=96,Ye=0),Ce=1<<q-X,$=1<<Z,W=$;do $-=Ce,M[we+(de>>X)+$]=Ee<<24|Qe<<16|Ye|0;while($!==0);for(Ce=1<<q-1;de&Ce;)Ce>>=1;if(Ce!==0?(de&=Ce-1,de+=Ce):de=0,Y++,--Ge[q]===0){if(q===re)break;q=D[I+L[Y]]}if(q>me&&(de&Ae)!==se){for(X===0&&(X=me),we+=W,Z=q-X,Q=1<<Z;Z+X<re&&(Q-=Ge[Z+X],!(Q<=0));)Z++,Q<<=1;if(oe+=1<<Z,T===h&&oe>u||T===p&&oe>c)return 1;se=de&Ae,M[se]=me<<24|Z<<16|we-O|0}}return de!==0&&(M[we+de]=q-X<<24|64<<16|0),z.bits=me,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=4,u=0,c=1,f=2;function h(V){for(var Re=V.length;--Re>=0;)V[Re]=0}var p=0,v=1,y=2,C=3,S=258,b=29,T=256,D=T+1+b,I=30,P=19,M=2*D+1,O=15,L=16,z=7,B=256,q=16,Y=17,W=18,re=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],me=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=512,oe=new Array((D+2)*2);h(oe);var de=new Array(I*2);h(de);var Ce=new Array(Q);h(Ce);var $=new Array(S-C+1);h($);var se=new Array(b);h(se);var Ae=new Array(I);h(Ae);function we(V,Re,Oe,He,ae){this.static_tree=V,this.extra_bits=Re,this.extra_base=Oe,this.elems=He,this.max_length=ae,this.has_stree=V&&V.length}var Ue,$e,qe;function Ge(V,Re){this.dyn_tree=V,this.max_code=0,this.stat_desc=Re}function ye(V){return V<256?Ce[V]:Ce[256+(V>>>7)]}function We(V,Re){V.pending_buf[V.pending++]=Re&255,V.pending_buf[V.pending++]=Re>>>8&255}function je(V,Re,Oe){V.bi_valid>L-Oe?(V.bi_buf|=Re<<V.bi_valid&65535,We(V,V.bi_buf),V.bi_buf=Re>>L-V.bi_valid,V.bi_valid+=Oe-L):(V.bi_buf|=Re<<V.bi_valid&65535,V.bi_valid+=Oe)}function Ee(V,Re,Oe){je(V,Oe[Re*2],Oe[Re*2+1])}function Qe(V,Re){var Oe=0;do Oe|=V&1,V>>>=1,Oe<<=1;while(--Re>0);return Oe>>>1}function Ye(V){V.bi_valid===16?(We(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):V.bi_valid>=8&&(V.pending_buf[V.pending++]=V.bi_buf&255,V.bi_buf>>=8,V.bi_valid-=8)}function tt(V,Re){var Oe=Re.dyn_tree,He=Re.max_code,ae=Re.stat_desc.static_tree,_e=Re.stat_desc.has_stree,N=Re.stat_desc.extra_bits,U=Re.stat_desc.extra_base,H=Re.stat_desc.max_length,A,J,ie,j,ee,pe,ze=0;for(j=0;j<=O;j++)V.bl_count[j]=0;for(Oe[V.heap[V.heap_max]*2+1]=0,A=V.heap_max+1;A<M;A++)J=V.heap[A],j=Oe[Oe[J*2+1]*2+1]+1,j>H&&(j=H,ze++),Oe[J*2+1]=j,!(J>He)&&(V.bl_count[j]++,ee=0,J>=U&&(ee=N[J-U]),pe=Oe[J*2],V.opt_len+=pe*(j+ee),_e&&(V.static_len+=pe*(ae[J*2+1]+ee)));if(ze!==0){do{for(j=H-1;V.bl_count[j]===0;)j--;V.bl_count[j]--,V.bl_count[j+1]+=2,V.bl_count[H]--,ze-=2}while(ze>0);for(j=H;j!==0;j--)for(J=V.bl_count[j];J!==0;)ie=V.heap[--A],!(ie>He)&&(Oe[ie*2+1]!==j&&(V.opt_len+=(j-Oe[ie*2+1])*Oe[ie*2],Oe[ie*2+1]=j),J--)}}function rt(V,Re,Oe){var He=new Array(O+1),ae=0,_e,N;for(_e=1;_e<=O;_e++)He[_e]=ae=ae+Oe[_e-1]<<1;for(N=0;N<=Re;N++){var U=V[N*2+1];U!==0&&(V[N*2]=Qe(He[U]++,U))}}function ot(){var V,Re,Oe,He,ae,_e=new Array(O+1);for(Oe=0,He=0;He<b-1;He++)for(se[He]=Oe,V=0;V<1<<re[He];V++)$[Oe++]=He;for($[Oe-1]=He,ae=0,He=0;He<16;He++)for(Ae[He]=ae,V=0;V<1<<me[He];V++)Ce[ae++]=He;for(ae>>=7;He<I;He++)for(Ae[He]=ae<<7,V=0;V<1<<me[He]-7;V++)Ce[256+ae++]=He;for(Re=0;Re<=O;Re++)_e[Re]=0;for(V=0;V<=143;)oe[V*2+1]=8,V++,_e[8]++;for(;V<=255;)oe[V*2+1]=9,V++,_e[9]++;for(;V<=279;)oe[V*2+1]=7,V++,_e[7]++;for(;V<=287;)oe[V*2+1]=8,V++,_e[8]++;for(rt(oe,D+1,_e),V=0;V<I;V++)de[V*2+1]=5,de[V*2]=Qe(V,5);Ue=new we(oe,re,T+1,D,O),$e=new we(de,me,0,I,O),qe=new we(new Array(0),Z,0,P,z)}function Mt(V){var Re;for(Re=0;Re<D;Re++)V.dyn_ltree[Re*2]=0;for(Re=0;Re<I;Re++)V.dyn_dtree[Re*2]=0;for(Re=0;Re<P;Re++)V.bl_tree[Re*2]=0;V.dyn_ltree[B*2]=1,V.opt_len=V.static_len=0,V.last_lit=V.matches=0}function Ot(V){V.bi_valid>8?We(V,V.bi_buf):V.bi_valid>0&&(V.pending_buf[V.pending++]=V.bi_buf),V.bi_buf=0,V.bi_valid=0}function Ft(V,Re,Oe,He){Ot(V),We(V,Oe),We(V,~Oe),a.arraySet(V.pending_buf,V.window,Re,Oe,V.pending),V.pending+=Oe}function it(V,Re,Oe,He){var ae=Re*2,_e=Oe*2;return V[ae]<V[_e]||V[ae]===V[_e]&&He[Re]<=He[Oe]}function ut(V,Re,Oe){for(var He=V.heap[Oe],ae=Oe<<1;ae<=V.heap_len&&(ae<V.heap_len&&it(Re,V.heap[ae+1],V.heap[ae],V.depth)&&ae++,!it(Re,He,V.heap[ae],V.depth));)V.heap[Oe]=V.heap[ae],Oe=ae,ae<<=1;V.heap[Oe]=He}function st(V,Re,Oe){var He,ae,_e=0,N,U;if(V.last_lit!==0)do He=V.pending_buf[V.d_buf+_e*2]<<8|V.pending_buf[V.d_buf+_e*2+1],ae=V.pending_buf[V.l_buf+_e],_e++,He===0?Ee(V,ae,Re):(N=$[ae],Ee(V,N+T+1,Re),U=re[N],U!==0&&(ae-=se[N],je(V,ae,U)),He--,N=ye(He),Ee(V,N,Oe),U=me[N],U!==0&&(He-=Ae[N],je(V,He,U)));while(_e<V.last_lit);Ee(V,B,Re)}function _t(V,Re){var Oe=Re.dyn_tree,He=Re.stat_desc.static_tree,ae=Re.stat_desc.has_stree,_e=Re.stat_desc.elems,N,U,H=-1,A;for(V.heap_len=0,V.heap_max=M,N=0;N<_e;N++)Oe[N*2]!==0?(V.heap[++V.heap_len]=H=N,V.depth[N]=0):Oe[N*2+1]=0;for(;V.heap_len<2;)A=V.heap[++V.heap_len]=H<2?++H:0,Oe[A*2]=1,V.depth[A]=0,V.opt_len--,ae&&(V.static_len-=He[A*2+1]);for(Re.max_code=H,N=V.heap_len>>1;N>=1;N--)ut(V,Oe,N);A=_e;do N=V.heap[1],V.heap[1]=V.heap[V.heap_len--],ut(V,Oe,1),U=V.heap[1],V.heap[--V.heap_max]=N,V.heap[--V.heap_max]=U,Oe[A*2]=Oe[N*2]+Oe[U*2],V.depth[A]=(V.depth[N]>=V.depth[U]?V.depth[N]:V.depth[U])+1,Oe[N*2+1]=Oe[U*2+1]=A,V.heap[1]=A++,ut(V,Oe,1);while(V.heap_len>=2);V.heap[--V.heap_max]=V.heap[1],tt(V,Re),rt(Oe,H,V.bl_count)}function or(V,Re,Oe){var He,ae=-1,_e,N=Re[1],U=0,H=7,A=4;for(N===0&&(H=138,A=3),Re[(Oe+1)*2+1]=65535,He=0;He<=Oe;He++)_e=N,N=Re[(He+1)*2+1],!(++U<H&&_e===N)&&(U<A?V.bl_tree[_e*2]+=U:_e!==0?(_e!==ae&&V.bl_tree[_e*2]++,V.bl_tree[q*2]++):U<=10?V.bl_tree[Y*2]++:V.bl_tree[W*2]++,U=0,ae=_e,N===0?(H=138,A=3):_e===N?(H=6,A=3):(H=7,A=4))}function wn(V,Re,Oe){var He,ae=-1,_e,N=Re[1],U=0,H=7,A=4;for(N===0&&(H=138,A=3),He=0;He<=Oe;He++)if(_e=N,N=Re[(He+1)*2+1],!(++U<H&&_e===N)){if(U<A)do Ee(V,_e,V.bl_tree);while(--U!==0);else _e!==0?(_e!==ae&&(Ee(V,_e,V.bl_tree),U--),Ee(V,q,V.bl_tree),je(V,U-3,2)):U<=10?(Ee(V,Y,V.bl_tree),je(V,U-3,3)):(Ee(V,W,V.bl_tree),je(V,U-11,7));U=0,ae=_e,N===0?(H=138,A=3):_e===N?(H=6,A=3):(H=7,A=4)}}function en(V){var Re;for(or(V,V.dyn_ltree,V.l_desc.max_code),or(V,V.dyn_dtree,V.d_desc.max_code),_t(V,V.bl_desc),Re=P-1;Re>=3&&V.bl_tree[X[Re]*2+1]===0;Re--);return V.opt_len+=3*(Re+1)+5+5+4,Re}function kn(V,Re,Oe,He){var ae;for(je(V,Re-257,5),je(V,Oe-1,5),je(V,He-4,4),ae=0;ae<He;ae++)je(V,V.bl_tree[X[ae]*2+1],3);wn(V,V.dyn_ltree,Re-1),wn(V,V.dyn_dtree,Oe-1)}function Fn(V){var Re=4093624447,Oe;for(Oe=0;Oe<=31;Oe++,Re>>>=1)if(Re&1&&V.dyn_ltree[Oe*2]!==0)return u;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return c;for(Oe=32;Oe<T;Oe++)if(V.dyn_ltree[Oe*2]!==0)return c;return u}var sn=!1;function Tn(V){sn||(ot(),sn=!0),V.l_desc=new Ge(V.dyn_ltree,Ue),V.d_desc=new Ge(V.dyn_dtree,$e),V.bl_desc=new Ge(V.bl_tree,qe),V.bi_buf=0,V.bi_valid=0,Mt(V)}function mn(V,Re,Oe,He){je(V,(p<<1)+(He?1:0),3),Ft(V,Re,Oe)}function zt(V){je(V,v<<1,3),Ee(V,B,oe),Ye(V)}function St(V,Re,Oe,He){var ae,_e,N=0;V.level>0?(V.strm.data_type===f&&(V.strm.data_type=Fn(V)),_t(V,V.l_desc),_t(V,V.d_desc),N=en(V),ae=V.opt_len+3+7>>>3,_e=V.static_len+3+7>>>3,_e<=ae&&(ae=_e)):ae=_e=Oe+5,Oe+4<=ae&&Re!==-1?mn(V,Re,Oe,He):V.strategy===s||_e===ae?(je(V,(v<<1)+(He?1:0),3),st(V,oe,de)):(je(V,(y<<1)+(He?1:0),3),kn(V,V.l_desc.max_code+1,V.d_desc.max_code+1,N+1),st(V,V.dyn_ltree,V.dyn_dtree)),Mt(V),He&&Ot(V)}function gn(V,Re,Oe){return V.pending_buf[V.d_buf+V.last_lit*2]=Re>>>8&255,V.pending_buf[V.d_buf+V.last_lit*2+1]=Re&255,V.pending_buf[V.l_buf+V.last_lit]=Oe&255,V.last_lit++,Re===0?V.dyn_ltree[Oe*2]++:(V.matches++,Re--,V.dyn_ltree[($[Oe]+T+1)*2]++,V.dyn_dtree[ye(Re)*2]++),V.last_lit===V.lit_bufsize-1}i._tr_init=Tn,i._tr_stored_block=mn,i._tr_flush_block=St,i._tr_tally=gn,i._tr_align=zt},{"../utils/common":41}],53:[function(n,r,i){function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=a},{}],54:[function(n,r,i){(function(a){(function(s,u){if(s.setImmediate)return;var c=1,f={},h=!1,p=s.document,v;function y(z){typeof z!="function"&&(z=new Function(""+z));for(var B=new Array(arguments.length-1),q=0;q<B.length;q++)B[q]=arguments[q+1];var Y={callback:z,args:B};return f[c]=Y,v(c),c++}function C(z){delete f[z]}function S(z){var B=z.callback,q=z.args;switch(q.length){case 0:B();break;case 1:B(q[0]);break;case 2:B(q[0],q[1]);break;case 3:B(q[0],q[1],q[2]);break;default:B.apply(u,q);break}}function b(z){if(h)setTimeout(b,0,z);else{var B=f[z];if(B){h=!0;try{S(B)}finally{C(z),h=!1}}}}function T(){v=function(z){process.nextTick(function(){b(z)})}}function D(){if(s.postMessage&&!s.importScripts){var z=!0,B=s.onmessage;return s.onmessage=function(){z=!1},s.postMessage("","*"),s.onmessage=B,z}}function I(){var z="setImmediate$"+Math.random()+"$",B=function(q){q.source===s&&typeof q.data=="string"&&q.data.indexOf(z)===0&&b(+q.data.slice(z.length))};s.addEventListener?s.addEventListener("message",B,!1):s.attachEvent("onmessage",B),v=function(q){s.postMessage(z+q,"*")}}function P(){var z=new MessageChannel;z.port1.onmessage=function(B){var q=B.data;b(q)},v=function(B){z.port2.postMessage(B)}}function M(){var z=p.documentElement;v=function(B){var q=p.createElement("script");q.onreadystatechange=function(){b(B),q.onreadystatechange=null,z.removeChild(q),q=null},z.appendChild(q)}}function O(){v=function(z){setTimeout(b,0,z)}}var L=Object.getPrototypeOf&&Object.getPrototypeOf(s);L=L&&L.setTimeout?L:s,{}.toString.call(s.process)==="[object process]"?T():D()?I():s.MessageChannel?P():p&&"onreadystatechange"in p.createElement("script")?M():O(),L.setImmediate=y,L.clearImmediate=C})(typeof self>"u"?typeof a>"u"?this:a:self)}).call(this,typeof oi<"u"?oi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(eg)),eg.exports}var Qj=Jj();const ez=hr(Qj);class tz{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new ez}catch{throw new Error("JSZip lib not loaded")}}open(e,n){return this.zip.loadAsync(e,{base64:n})}openUrl(e,n){return Uu(e,"binary").then((function(r){return this.zip.loadAsync(r,{base64:n})}).bind(this))}request(e,n){var r=new Dt,i,a=new ma(e);return n||(n=a.extension),n=="blob"?i=this.getBlob(e):i=this.getText(e),i?i.then((function(s){let u=this.handleResponse(s,n);r.resolve(u)}).bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):Lu(n)?r=Ui(e,"text/xml"):n=="xhtml"?r=Ui(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=Ui(e,"text/html"):r=e,r}getBlob(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return n=n||ol.lookup(i.name),i.async("uint8array").then(function(a){return new Blob([a],{type:n})})}getText(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return i.async("string").then(function(a){return a})}getBase64(e,n){var r=window.decodeURIComponent(e.substr(1)),i=this.zip.file(r);if(i)return n=n||ol.lookup(i.name),i.async("base64").then(function(a){return"data:"+n+";base64,"+a})}createUrl(e,n){var r=new Dt,i=window.URL||window.webkitURL||window.mozURL,a,s,u=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(u?(s=this.getBase64(e),s&&s.then((function(c){this.urlCache[e]=c,r.resolve(c)}).bind(this))):(s=this.getBlob(e),s&&s.then((function(c){a=i.createObjectURL(c),this.urlCache[e]=a,r.resolve(a)}).bind(this))),s||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.zip=void 0,this.urlCache={}}}var tg={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var uA;function nz(){return uA||(uA=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,a){function s(f,h){if(!i[f]){if(!r[f]){var p=typeof co=="function"&&co;if(!h&&p)return p(f,!0);if(u)return u(f,!0);var v=new Error("Cannot find module '"+f+"'");throw v.code="MODULE_NOT_FOUND",v}var y=i[f]={exports:{}};r[f][0].call(y.exports,function(C){var S=r[f][1][C];return s(S||C)},y,y.exports,n,r,i,a)}return i[f].exports}for(var u=typeof co=="function"&&co,c=0;c<a.length;c++)s(a[c]);return s})({1:[function(n,r,i){(function(a){var s=a.MutationObserver||a.WebKitMutationObserver,u;if(s){var c=0,f=new s(C),h=a.document.createTextNode("");f.observe(h,{characterData:!0}),u=function(){h.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var p=new a.MessageChannel;p.port1.onmessage=C,u=function(){p.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?u=function(){var b=a.document.createElement("script");b.onreadystatechange=function(){C(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:u=function(){setTimeout(C,0)};var v,y=[];function C(){v=!0;for(var b,T,D=y.length;D;){for(T=y,y=[],b=-1;++b<D;)T[b]();D=y.length}v=!1}r.exports=S;function S(b){y.push(b)===1&&!v&&u()}}).call(this,typeof oi<"u"?oi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var a=n(1);function s(){}var u={},c=["REJECTED"],f=["FULFILLED"],h=["PENDING"];r.exports=p;function p(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,M!==s&&S(this,M)}p.prototype.catch=function(M){return this.then(null,M)},p.prototype.then=function(M,O){if(typeof M!="function"&&this.state===f||typeof O!="function"&&this.state===c)return this;var L=new this.constructor(s);if(this.state!==h){var z=this.state===f?M:O;y(L,z,this.outcome)}else this.queue.push(new v(L,M,O));return L};function v(M,O,L){this.promise=M,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(M){u.resolve(this.promise,M)},v.prototype.otherCallFulfilled=function(M){y(this.promise,this.onFulfilled,M)},v.prototype.callRejected=function(M){u.reject(this.promise,M)},v.prototype.otherCallRejected=function(M){y(this.promise,this.onRejected,M)};function y(M,O,L){a(function(){var z;try{z=O(L)}catch(B){return u.reject(M,B)}z===M?u.reject(M,new TypeError("Cannot resolve promise with itself")):u.resolve(M,z)})}u.resolve=function(M,O){var L=b(C,O);if(L.status==="error")return u.reject(M,L.value);var z=L.value;if(z)S(M,z);else{M.state=f,M.outcome=O;for(var B=-1,q=M.queue.length;++B<q;)M.queue[B].callFulfilled(O)}return M},u.reject=function(M,O){M.state=c,M.outcome=O;for(var L=-1,z=M.queue.length;++L<z;)M.queue[L].callRejected(O);return M};function C(M){var O=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof O=="function")return function(){O.apply(M,arguments)}}function S(M,O){var L=!1;function z(W){L||(L=!0,u.reject(M,W))}function B(W){L||(L=!0,u.resolve(M,W))}function q(){O(B,z)}var Y=b(q);Y.status==="error"&&z(Y.value)}function b(M,O){var L={};try{L.value=M(O),L.status="success"}catch(z){L.status="error",L.value=z}return L}p.resolve=T;function T(M){return M instanceof this?M:u.resolve(new this(s),M)}p.reject=D;function D(M){var O=new this(s);return u.reject(O,M)}p.all=I;function I(M){var O=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=M.length,z=!1;if(!L)return this.resolve([]);for(var B=new Array(L),q=0,Y=-1,W=new this(s);++Y<L;)re(M[Y],Y);return W;function re(me,Z){O.resolve(me).then(X,function(Q){z||(z=!0,u.reject(W,Q))});function X(Q){B[Z]=Q,++q===L&&!z&&(z=!0,u.resolve(W,B))}}}p.race=P;function P(M){var O=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=M.length,z=!1;if(!L)return this.resolve([]);for(var B=-1,q=new this(s);++B<L;)Y(M[B]);return q;function Y(W){O.resolve(W).then(function(re){z||(z=!0,u.resolve(q,re))},function(re){z||(z=!0,u.reject(q,re))})}}},{1:1}],3:[function(n,r,i){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof oi<"u"?oi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G};function s(G,ne){if(!(G instanceof ne))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=u();function f(){try{if(!c||!c.open)return!1;var G=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ne=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!G||ne)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function h(G,ne){G=G||[],ne=ne||{};try{return new Blob(G,ne)}catch(ue){if(ue.name!=="TypeError")throw ue;for(var K=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ce=new K,he=0;he<G.length;he+=1)ce.append(G[he]);return ce.getBlob(ne.type)}}typeof Promise>"u"&&n(3);var p=Promise;function v(G,ne){ne&&G.then(function(K){ne(null,K)},function(K){ne(K)})}function y(G,ne,K){typeof ne=="function"&&G.then(ne),typeof K=="function"&&G.catch(K)}function C(G){return typeof G!="string"&&(console.warn(G+" used as a key, but it is not a string."),G=String(G)),G}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var b="local-forage-detect-blob-support",T=void 0,D={},I=Object.prototype.toString,P="readonly",M="readwrite";function O(G){for(var ne=G.length,K=new ArrayBuffer(ne),ce=new Uint8Array(K),he=0;he<ne;he++)ce[he]=G.charCodeAt(he);return K}function L(G){return new p(function(ne){var K=G.transaction(b,M),ce=h([""]);K.objectStore(b).put(ce,"key"),K.onabort=function(he){he.preventDefault(),he.stopPropagation(),ne(!1)},K.oncomplete=function(){var he=navigator.userAgent.match(/Chrome\/(\d+)/),ue=navigator.userAgent.match(/Edge\//);ne(ue||!he||parseInt(he[1],10)>=43)}}).catch(function(){return!1})}function z(G){return typeof T=="boolean"?p.resolve(T):L(G).then(function(ne){return T=ne,T})}function B(G){var ne=D[G.name],K={};K.promise=new p(function(ce,he){K.resolve=ce,K.reject=he}),ne.deferredOperations.push(K),ne.dbReady?ne.dbReady=ne.dbReady.then(function(){return K.promise}):ne.dbReady=K.promise}function q(G){var ne=D[G.name],K=ne.deferredOperations.pop();if(K)return K.resolve(),K.promise}function Y(G,ne){var K=D[G.name],ce=K.deferredOperations.pop();if(ce)return ce.reject(ne),ce.promise}function W(G,ne){return new p(function(K,ce){if(D[G.name]=D[G.name]||se(),G.db)if(ne)B(G),G.db.close();else return K(G.db);var he=[G.name];ne&&he.push(G.version);var ue=c.open.apply(c,he);ne&&(ue.onupgradeneeded=function(Ne){var Me=ue.result;try{Me.createObjectStore(G.storeName),Ne.oldVersion<=1&&Me.createObjectStore(b)}catch(Le){if(Le.name==="ConstraintError")console.warn('The database "'+G.name+'" has been upgraded from version '+Ne.oldVersion+" to version "+Ne.newVersion+', but the storage "'+G.storeName+'" already exists.');else throw Le}}),ue.onerror=function(Ne){Ne.preventDefault(),ce(ue.error)},ue.onsuccess=function(){var Ne=ue.result;Ne.onversionchange=function(Me){Me.target.close()},K(Ne),q(G)}})}function re(G){return W(G,!1)}function me(G){return W(G,!0)}function Z(G,ne){if(!G.db)return!0;var K=!G.db.objectStoreNames.contains(G.storeName),ce=G.version<G.db.version,he=G.version>G.db.version;if(ce&&(G.version!==ne&&console.warn('The database "'+G.name+`" can't be downgraded from version `+G.db.version+" to version "+G.version+"."),G.version=G.db.version),he||K){if(K){var ue=G.db.version+1;ue>G.version&&(G.version=ue)}return!0}return!1}function X(G){return new p(function(ne,K){var ce=new FileReader;ce.onerror=K,ce.onloadend=function(he){var ue=btoa(he.target.result||"");ne({__local_forage_encoded_blob:!0,data:ue,type:G.type})},ce.readAsBinaryString(G)})}function Q(G){var ne=O(atob(G.data));return h([ne],{type:G.type})}function oe(G){return G&&G.__local_forage_encoded_blob}function de(G){var ne=this,K=ne._initReady().then(function(){var ce=D[ne._dbInfo.name];if(ce&&ce.dbReady)return ce.dbReady});return y(K,G,G),K}function Ce(G){B(G);for(var ne=D[G.name],K=ne.forages,ce=0;ce<K.length;ce++){var he=K[ce];he._dbInfo.db&&(he._dbInfo.db.close(),he._dbInfo.db=null)}return G.db=null,re(G).then(function(ue){return G.db=ue,Z(G)?me(G):ue}).then(function(ue){G.db=ne.db=ue;for(var Ne=0;Ne<K.length;Ne++)K[Ne]._dbInfo.db=ue}).catch(function(ue){throw Y(G,ue),ue})}function $(G,ne,K,ce){ce===void 0&&(ce=1);try{var he=G.db.transaction(G.storeName,ne);K(null,he)}catch(ue){if(ce>0&&(!G.db||ue.name==="InvalidStateError"||ue.name==="NotFoundError"))return p.resolve().then(function(){if(!G.db||ue.name==="NotFoundError"&&!G.db.objectStoreNames.contains(G.storeName)&&G.version<=G.db.version)return G.db&&(G.version=G.db.version+1),me(G)}).then(function(){return Ce(G).then(function(){$(G,ne,K,ce-1)})}).catch(K);K(ue)}}function se(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ae(G){var ne=this,K={db:null};if(G)for(var ce in G)K[ce]=G[ce];var he=D[K.name];he||(he=se(),D[K.name]=he),he.forages.push(ne),ne._initReady||(ne._initReady=ne.ready,ne.ready=de);var ue=[];function Ne(){return p.resolve()}for(var Me=0;Me<he.forages.length;Me++){var Le=he.forages[Me];Le!==ne&&ue.push(Le._initReady().catch(Ne))}var ke=he.forages.slice(0);return p.all(ue).then(function(){return K.db=he.db,re(K)}).then(function(Be){return K.db=Be,Z(K,ne._defaultConfig.version)?me(K):Be}).then(function(Be){K.db=he.db=Be,ne._dbInfo=K;for(var Je=0;Je<ke.length;Je++){var mt=ke[Je];mt!==ne&&(mt._dbInfo.db=K.db,mt._dbInfo.version=K.version)}})}function we(G,ne){var K=this;G=C(G);var ce=new p(function(he,ue){K.ready().then(function(){$(K._dbInfo,P,function(Ne,Me){if(Ne)return ue(Ne);try{var Le=Me.objectStore(K._dbInfo.storeName),ke=Le.get(G);ke.onsuccess=function(){var Be=ke.result;Be===void 0&&(Be=null),oe(Be)&&(Be=Q(Be)),he(Be)},ke.onerror=function(){ue(ke.error)}}catch(Be){ue(Be)}})}).catch(ue)});return v(ce,ne),ce}function Ue(G,ne){var K=this,ce=new p(function(he,ue){K.ready().then(function(){$(K._dbInfo,P,function(Ne,Me){if(Ne)return ue(Ne);try{var Le=Me.objectStore(K._dbInfo.storeName),ke=Le.openCursor(),Be=1;ke.onsuccess=function(){var Je=ke.result;if(Je){var mt=Je.value;oe(mt)&&(mt=Q(mt));var xt=G(mt,Je.key,Be++);xt!==void 0?he(xt):Je.continue()}else he()},ke.onerror=function(){ue(ke.error)}}catch(Je){ue(Je)}})}).catch(ue)});return v(ce,ne),ce}function $e(G,ne,K){var ce=this;G=C(G);var he=new p(function(ue,Ne){var Me;ce.ready().then(function(){return Me=ce._dbInfo,I.call(ne)==="[object Blob]"?z(Me.db).then(function(Le){return Le?ne:X(ne)}):ne}).then(function(Le){$(ce._dbInfo,M,function(ke,Be){if(ke)return Ne(ke);try{var Je=Be.objectStore(ce._dbInfo.storeName);Le===null&&(Le=void 0);var mt=Je.put(Le,G);Be.oncomplete=function(){Le===void 0&&(Le=null),ue(Le)},Be.onabort=Be.onerror=function(){var xt=mt.error?mt.error:mt.transaction.error;Ne(xt)}}catch(xt){Ne(xt)}})}).catch(Ne)});return v(he,K),he}function qe(G,ne){var K=this;G=C(G);var ce=new p(function(he,ue){K.ready().then(function(){$(K._dbInfo,M,function(Ne,Me){if(Ne)return ue(Ne);try{var Le=Me.objectStore(K._dbInfo.storeName),ke=Le.delete(G);Me.oncomplete=function(){he()},Me.onerror=function(){ue(ke.error)},Me.onabort=function(){var Be=ke.error?ke.error:ke.transaction.error;ue(Be)}}catch(Be){ue(Be)}})}).catch(ue)});return v(ce,ne),ce}function Ge(G){var ne=this,K=new p(function(ce,he){ne.ready().then(function(){$(ne._dbInfo,M,function(ue,Ne){if(ue)return he(ue);try{var Me=Ne.objectStore(ne._dbInfo.storeName),Le=Me.clear();Ne.oncomplete=function(){ce()},Ne.onabort=Ne.onerror=function(){var ke=Le.error?Le.error:Le.transaction.error;he(ke)}}catch(ke){he(ke)}})}).catch(he)});return v(K,G),K}function ye(G){var ne=this,K=new p(function(ce,he){ne.ready().then(function(){$(ne._dbInfo,P,function(ue,Ne){if(ue)return he(ue);try{var Me=Ne.objectStore(ne._dbInfo.storeName),Le=Me.count();Le.onsuccess=function(){ce(Le.result)},Le.onerror=function(){he(Le.error)}}catch(ke){he(ke)}})}).catch(he)});return v(K,G),K}function We(G,ne){var K=this,ce=new p(function(he,ue){if(G<0){he(null);return}K.ready().then(function(){$(K._dbInfo,P,function(Ne,Me){if(Ne)return ue(Ne);try{var Le=Me.objectStore(K._dbInfo.storeName),ke=!1,Be=Le.openKeyCursor();Be.onsuccess=function(){var Je=Be.result;if(!Je){he(null);return}G===0||ke?he(Je.key):(ke=!0,Je.advance(G))},Be.onerror=function(){ue(Be.error)}}catch(Je){ue(Je)}})}).catch(ue)});return v(ce,ne),ce}function je(G){var ne=this,K=new p(function(ce,he){ne.ready().then(function(){$(ne._dbInfo,P,function(ue,Ne){if(ue)return he(ue);try{var Me=Ne.objectStore(ne._dbInfo.storeName),Le=Me.openKeyCursor(),ke=[];Le.onsuccess=function(){var Be=Le.result;if(!Be){ce(ke);return}ke.push(Be.key),Be.continue()},Le.onerror=function(){he(Le.error)}}catch(Be){he(Be)}})}).catch(he)});return v(K,G),K}function Ee(G,ne){ne=S.apply(this,arguments);var K=this.config();G=typeof G!="function"&&G||{},G.name||(G.name=G.name||K.name,G.storeName=G.storeName||K.storeName);var ce=this,he;if(!G.name)he=p.reject("Invalid arguments");else{var ue=G.name===K.name&&ce._dbInfo.db,Ne=ue?p.resolve(ce._dbInfo.db):re(G).then(function(Me){var Le=D[G.name],ke=Le.forages;Le.db=Me;for(var Be=0;Be<ke.length;Be++)ke[Be]._dbInfo.db=Me;return Me});G.storeName?he=Ne.then(function(Me){if(Me.objectStoreNames.contains(G.storeName)){var Le=Me.version+1;B(G);var ke=D[G.name],Be=ke.forages;Me.close();for(var Je=0;Je<Be.length;Je++){var mt=Be[Je];mt._dbInfo.db=null,mt._dbInfo.version=Le}var xt=new p(function(kt,hn){var Vt=c.open(G.name,Le);Vt.onerror=function(xr){var ka=Vt.result;ka.close(),hn(xr)},Vt.onupgradeneeded=function(){var xr=Vt.result;xr.deleteObjectStore(G.storeName)},Vt.onsuccess=function(){var xr=Vt.result;xr.close(),kt(xr)}});return xt.then(function(kt){ke.db=kt;for(var hn=0;hn<Be.length;hn++){var Vt=Be[hn];Vt._dbInfo.db=kt,q(Vt._dbInfo)}}).catch(function(kt){throw(Y(G,kt)||p.resolve()).catch(function(){}),kt})}}):he=Ne.then(function(Me){B(G);var Le=D[G.name],ke=Le.forages;Me.close();for(var Be=0;Be<ke.length;Be++){var Je=ke[Be];Je._dbInfo.db=null}var mt=new p(function(xt,kt){var hn=c.deleteDatabase(G.name);hn.onerror=function(){var Vt=hn.result;Vt&&Vt.close(),kt(hn.error)},hn.onblocked=function(){console.warn('dropInstance blocked for database "'+G.name+'" until all open connections are closed')},hn.onsuccess=function(){var Vt=hn.result;Vt&&Vt.close(),xt(Vt)}});return mt.then(function(xt){Le.db=xt;for(var kt=0;kt<ke.length;kt++){var hn=ke[kt];q(hn._dbInfo)}}).catch(function(xt){throw(Y(G,xt)||p.resolve()).catch(function(){}),xt})})}return v(he,ne),he}var Qe={_driver:"asyncStorage",_initStorage:Ae,_support:f(),iterate:Ue,getItem:we,setItem:$e,removeItem:qe,clear:Ge,length:ye,key:We,keys:je,dropInstance:Ee};function Ye(){return typeof openDatabase=="function"}var tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt="~~local_forage_type~",ot=/^~~local_forage_type~([^~]+)~/,Mt="__lfsc__:",Ot=Mt.length,Ft="arbf",it="blob",ut="si08",st="ui08",_t="uic8",or="si16",wn="si32",en="ur16",kn="ui32",Fn="fl32",sn="fl64",Tn=Ot+Ft.length,mn=Object.prototype.toString;function zt(G){var ne=G.length*.75,K=G.length,ce,he=0,ue,Ne,Me,Le;G[G.length-1]==="="&&(ne--,G[G.length-2]==="="&&ne--);var ke=new ArrayBuffer(ne),Be=new Uint8Array(ke);for(ce=0;ce<K;ce+=4)ue=tt.indexOf(G[ce]),Ne=tt.indexOf(G[ce+1]),Me=tt.indexOf(G[ce+2]),Le=tt.indexOf(G[ce+3]),Be[he++]=ue<<2|Ne>>4,Be[he++]=(Ne&15)<<4|Me>>2,Be[he++]=(Me&3)<<6|Le&63;return ke}function St(G){var ne=new Uint8Array(G),K="",ce;for(ce=0;ce<ne.length;ce+=3)K+=tt[ne[ce]>>2],K+=tt[(ne[ce]&3)<<4|ne[ce+1]>>4],K+=tt[(ne[ce+1]&15)<<2|ne[ce+2]>>6],K+=tt[ne[ce+2]&63];return ne.length%3===2?K=K.substring(0,K.length-1)+"=":ne.length%3===1&&(K=K.substring(0,K.length-2)+"=="),K}function gn(G,ne){var K="";if(G&&(K=mn.call(G)),G&&(K==="[object ArrayBuffer]"||G.buffer&&mn.call(G.buffer)==="[object ArrayBuffer]")){var ce,he=Mt;G instanceof ArrayBuffer?(ce=G,he+=Ft):(ce=G.buffer,K==="[object Int8Array]"?he+=ut:K==="[object Uint8Array]"?he+=st:K==="[object Uint8ClampedArray]"?he+=_t:K==="[object Int16Array]"?he+=or:K==="[object Uint16Array]"?he+=en:K==="[object Int32Array]"?he+=wn:K==="[object Uint32Array]"?he+=kn:K==="[object Float32Array]"?he+=Fn:K==="[object Float64Array]"?he+=sn:ne(new Error("Failed to get type for BinaryArray"))),ne(he+St(ce))}else if(K==="[object Blob]"){var ue=new FileReader;ue.onload=function(){var Ne=rt+G.type+"~"+St(this.result);ne(Mt+it+Ne)},ue.readAsArrayBuffer(G)}else try{ne(JSON.stringify(G))}catch(Ne){console.error("Couldn't convert value into a JSON string: ",G),ne(null,Ne)}}function V(G){if(G.substring(0,Ot)!==Mt)return JSON.parse(G);var ne=G.substring(Tn),K=G.substring(Ot,Tn),ce;if(K===it&&ot.test(ne)){var he=ne.match(ot);ce=he[1],ne=ne.substring(he[0].length)}var ue=zt(ne);switch(K){case Ft:return ue;case it:return h([ue],{type:ce});case ut:return new Int8Array(ue);case st:return new Uint8Array(ue);case _t:return new Uint8ClampedArray(ue);case or:return new Int16Array(ue);case en:return new Uint16Array(ue);case wn:return new Int32Array(ue);case kn:return new Uint32Array(ue);case Fn:return new Float32Array(ue);case sn:return new Float64Array(ue);default:throw new Error("Unkown type: "+K)}}var Re={serialize:gn,deserialize:V,stringToBuffer:zt,bufferToString:St};function Oe(G,ne,K,ce){G.executeSql("CREATE TABLE IF NOT EXISTS "+ne.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],K,ce)}function He(G){var ne=this,K={db:null};if(G)for(var ce in G)K[ce]=typeof G[ce]!="string"?G[ce].toString():G[ce];var he=new p(function(ue,Ne){try{K.db=openDatabase(K.name,String(K.version),K.description,K.size)}catch(Me){return Ne(Me)}K.db.transaction(function(Me){Oe(Me,K,function(){ne._dbInfo=K,ue()},function(Le,ke){Ne(ke)})},Ne)});return K.serializer=Re,he}function ae(G,ne,K,ce,he,ue){G.executeSql(K,ce,he,function(Ne,Me){Me.code===Me.SYNTAX_ERR?Ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ne.storeName],function(Le,ke){ke.rows.length?ue(Le,Me):Oe(Le,ne,function(){Le.executeSql(K,ce,he,ue)},ue)},ue):ue(Ne,Me)},ue)}function _e(G,ne){var K=this;G=C(G);var ce=new p(function(he,ue){K.ready().then(function(){var Ne=K._dbInfo;Ne.db.transaction(function(Me){ae(Me,Ne,"SELECT * FROM "+Ne.storeName+" WHERE key = ? LIMIT 1",[G],function(Le,ke){var Be=ke.rows.length?ke.rows.item(0).value:null;Be&&(Be=Ne.serializer.deserialize(Be)),he(Be)},function(Le,ke){ue(ke)})})}).catch(ue)});return v(ce,ne),ce}function N(G,ne){var K=this,ce=new p(function(he,ue){K.ready().then(function(){var Ne=K._dbInfo;Ne.db.transaction(function(Me){ae(Me,Ne,"SELECT * FROM "+Ne.storeName,[],function(Le,ke){for(var Be=ke.rows,Je=Be.length,mt=0;mt<Je;mt++){var xt=Be.item(mt),kt=xt.value;if(kt&&(kt=Ne.serializer.deserialize(kt)),kt=G(kt,xt.key,mt+1),kt!==void 0){he(kt);return}}he()},function(Le,ke){ue(ke)})})}).catch(ue)});return v(ce,ne),ce}function U(G,ne,K,ce){var he=this;G=C(G);var ue=new p(function(Ne,Me){he.ready().then(function(){ne===void 0&&(ne=null);var Le=ne,ke=he._dbInfo;ke.serializer.serialize(ne,function(Be,Je){Je?Me(Je):ke.db.transaction(function(mt){ae(mt,ke,"INSERT OR REPLACE INTO "+ke.storeName+" (key, value) VALUES (?, ?)",[G,Be],function(){Ne(Le)},function(xt,kt){Me(kt)})},function(mt){if(mt.code===mt.QUOTA_ERR){if(ce>0){Ne(U.apply(he,[G,Le,K,ce-1]));return}Me(mt)}})})}).catch(Me)});return v(ue,K),ue}function H(G,ne,K){return U.apply(this,[G,ne,K,1])}function A(G,ne){var K=this;G=C(G);var ce=new p(function(he,ue){K.ready().then(function(){var Ne=K._dbInfo;Ne.db.transaction(function(Me){ae(Me,Ne,"DELETE FROM "+Ne.storeName+" WHERE key = ?",[G],function(){he()},function(Le,ke){ue(ke)})})}).catch(ue)});return v(ce,ne),ce}function J(G){var ne=this,K=new p(function(ce,he){ne.ready().then(function(){var ue=ne._dbInfo;ue.db.transaction(function(Ne){ae(Ne,ue,"DELETE FROM "+ue.storeName,[],function(){ce()},function(Me,Le){he(Le)})})}).catch(he)});return v(K,G),K}function ie(G){var ne=this,K=new p(function(ce,he){ne.ready().then(function(){var ue=ne._dbInfo;ue.db.transaction(function(Ne){ae(Ne,ue,"SELECT COUNT(key) as c FROM "+ue.storeName,[],function(Me,Le){var ke=Le.rows.item(0).c;ce(ke)},function(Me,Le){he(Le)})})}).catch(he)});return v(K,G),K}function j(G,ne){var K=this,ce=new p(function(he,ue){K.ready().then(function(){var Ne=K._dbInfo;Ne.db.transaction(function(Me){ae(Me,Ne,"SELECT key FROM "+Ne.storeName+" WHERE id = ? LIMIT 1",[G+1],function(Le,ke){var Be=ke.rows.length?ke.rows.item(0).key:null;he(Be)},function(Le,ke){ue(ke)})})}).catch(ue)});return v(ce,ne),ce}function ee(G){var ne=this,K=new p(function(ce,he){ne.ready().then(function(){var ue=ne._dbInfo;ue.db.transaction(function(Ne){ae(Ne,ue,"SELECT key FROM "+ue.storeName,[],function(Me,Le){for(var ke=[],Be=0;Be<Le.rows.length;Be++)ke.push(Le.rows.item(Be).key);ce(ke)},function(Me,Le){he(Le)})})}).catch(he)});return v(K,G),K}function pe(G){return new p(function(ne,K){G.transaction(function(ce){ce.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(he,ue){for(var Ne=[],Me=0;Me<ue.rows.length;Me++)Ne.push(ue.rows.item(Me).name);ne({db:G,storeNames:Ne})},function(he,ue){K(ue)})},function(ce){K(ce)})})}function ze(G,ne){ne=S.apply(this,arguments);var K=this.config();G=typeof G!="function"&&G||{},G.name||(G.name=G.name||K.name,G.storeName=G.storeName||K.storeName);var ce=this,he;return G.name?he=new p(function(ue){var Ne;G.name===K.name?Ne=ce._dbInfo.db:Ne=openDatabase(G.name,"","",0),G.storeName?ue({db:Ne,storeNames:[G.storeName]}):ue(pe(Ne))}).then(function(ue){return new p(function(Ne,Me){ue.db.transaction(function(Le){function ke(xt){return new p(function(kt,hn){Le.executeSql("DROP TABLE IF EXISTS "+xt,[],function(){kt()},function(Vt,xr){hn(xr)})})}for(var Be=[],Je=0,mt=ue.storeNames.length;Je<mt;Je++)Be.push(ke(ue.storeNames[Je]));p.all(Be).then(function(){Ne()}).catch(function(xt){Me(xt)})},function(Le){Me(Le)})})}):he=p.reject("Invalid arguments"),v(he,ne),he}var Pe={_driver:"webSQLStorage",_initStorage:He,_support:Ye(),iterate:N,getItem:_e,setItem:H,removeItem:A,clear:J,length:ie,key:j,keys:ee,dropInstance:ze};function Fe(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ft(G,ne){var K=G.name+"/";return G.storeName!==ne.storeName&&(K+=G.storeName+"/"),K}function dn(){var G="_localforage_support_test";try{return localStorage.setItem(G,!0),localStorage.removeItem(G),!1}catch{return!0}}function yt(){return!dn()||localStorage.length>0}function ht(G){var ne=this,K={};if(G)for(var ce in G)K[ce]=G[ce];return K.keyPrefix=ft(G,ne._defaultConfig),yt()?(ne._dbInfo=K,K.serializer=Re,p.resolve()):p.reject()}function At(G){var ne=this,K=ne.ready().then(function(){for(var ce=ne._dbInfo.keyPrefix,he=localStorage.length-1;he>=0;he--){var ue=localStorage.key(he);ue.indexOf(ce)===0&&localStorage.removeItem(ue)}});return v(K,G),K}function at(G,ne){var K=this;G=C(G);var ce=K.ready().then(function(){var he=K._dbInfo,ue=localStorage.getItem(he.keyPrefix+G);return ue&&(ue=he.serializer.deserialize(ue)),ue});return v(ce,ne),ce}function It(G,ne){var K=this,ce=K.ready().then(function(){for(var he=K._dbInfo,ue=he.keyPrefix,Ne=ue.length,Me=localStorage.length,Le=1,ke=0;ke<Me;ke++){var Be=localStorage.key(ke);if(Be.indexOf(ue)===0){var Je=localStorage.getItem(Be);if(Je&&(Je=he.serializer.deserialize(Je)),Je=G(Je,Be.substring(Ne),Le++),Je!==void 0)return Je}}});return v(ce,ne),ce}function Cn(G,ne){var K=this,ce=K.ready().then(function(){var he=K._dbInfo,ue;try{ue=localStorage.key(G)}catch{ue=null}return ue&&(ue=ue.substring(he.keyPrefix.length)),ue});return v(ce,ne),ce}function Ir(G){var ne=this,K=ne.ready().then(function(){for(var ce=ne._dbInfo,he=localStorage.length,ue=[],Ne=0;Ne<he;Ne++){var Me=localStorage.key(Ne);Me.indexOf(ce.keyPrefix)===0&&ue.push(Me.substring(ce.keyPrefix.length))}return ue});return v(K,G),K}function ln(G){var ne=this,K=ne.keys().then(function(ce){return ce.length});return v(K,G),K}function sr(G,ne){var K=this;G=C(G);var ce=K.ready().then(function(){var he=K._dbInfo;localStorage.removeItem(he.keyPrefix+G)});return v(ce,ne),ce}function vn(G,ne,K){var ce=this;G=C(G);var he=ce.ready().then(function(){ne===void 0&&(ne=null);var ue=ne;return new p(function(Ne,Me){var Le=ce._dbInfo;Le.serializer.serialize(ne,function(ke,Be){if(Be)Me(Be);else try{localStorage.setItem(Le.keyPrefix+G,ke),Ne(ue)}catch(Je){(Je.name==="QuotaExceededError"||Je.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Me(Je),Me(Je)}})})});return v(he,K),he}function Xn(G,ne){if(ne=S.apply(this,arguments),G=typeof G!="function"&&G||{},!G.name){var K=this.config();G.name=G.name||K.name,G.storeName=G.storeName||K.storeName}var ce=this,he;return G.name?he=new p(function(ue){G.storeName?ue(ft(G,ce._defaultConfig)):ue(G.name+"/")}).then(function(ue){for(var Ne=localStorage.length-1;Ne>=0;Ne--){var Me=localStorage.key(Ne);Me.indexOf(ue)===0&&localStorage.removeItem(Me)}}):he=p.reject("Invalid arguments"),v(he,ne),he}var lr={_driver:"localStorageWrapper",_initStorage:ht,_support:Fe(),iterate:It,getItem:at,setItem:vn,removeItem:sr,clear:At,length:ln,key:Cn,keys:Ir,dropInstance:Xn},di=function(ne,K){return ne===K||typeof ne=="number"&&typeof K=="number"&&isNaN(ne)&&isNaN(K)},Ma=function(ne,K){for(var ce=ne.length,he=0;he<ce;){if(di(ne[he],K))return!0;he++}return!1},Oa=Array.isArray||function(G){return Object.prototype.toString.call(G)==="[object Array]"},$r={},En={},Hi={INDEXEDDB:Qe,WEBSQL:Pe,LOCALSTORAGE:lr},_c=[Hi.INDEXEDDB._driver,Hi.WEBSQL._driver,Hi.LOCALSTORAGE._driver],Yr=["dropInstance"],Ri=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Yr),rp={description:"",driver:_c.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Sc(G,ne){G[ne]=function(){var K=arguments;return G.ready().then(function(){return G[ne].apply(G,K)})}}function as(){for(var G=1;G<arguments.length;G++){var ne=arguments[G];if(ne)for(var K in ne)ne.hasOwnProperty(K)&&(Oa(ne[K])?arguments[0][K]=ne[K].slice():arguments[0][K]=ne[K])}return arguments[0]}var ip=(function(){function G(ne){s(this,G);for(var K in Hi)if(Hi.hasOwnProperty(K)){var ce=Hi[K],he=ce._driver;this[K]=he,$r[he]||this.defineDriver(ce)}this._defaultConfig=as({},rp),this._config=as({},this._defaultConfig,ne),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return G.prototype.config=function(K){if((typeof K>"u"?"undefined":a(K))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ce in K){if(ce==="storeName"&&(K[ce]=K[ce].replace(/\W/g,"_")),ce==="version"&&typeof K[ce]!="number")return new Error("Database version must be a number.");this._config[ce]=K[ce]}return"driver"in K&&K.driver?this.setDriver(this._config.driver):!0}else return typeof K=="string"?this._config[K]:this._config},G.prototype.defineDriver=function(K,ce,he){var ue=new p(function(Ne,Me){try{var Le=K._driver,ke=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!K._driver){Me(ke);return}for(var Be=Ri.concat("_initStorage"),Je=0,mt=Be.length;Je<mt;Je++){var xt=Be[Je],kt=!Ma(Yr,xt);if((kt||K[xt])&&typeof K[xt]!="function"){Me(ke);return}}var hn=function(){for(var ka=function(ls){return function(){var hi=new Error("Method "+ls+" is not implemented by the current driver"),us=p.reject(hi);return v(us,arguments[arguments.length-1]),us}},ss=0,Rl=Yr.length;ss<Rl;ss++){var Il=Yr[ss];K[Il]||(K[Il]=ka(Il))}};hn();var Vt=function(ka){$r[Le]&&console.info("Redefining LocalForage driver: "+Le),$r[Le]=K,En[Le]=ka,Ne()};"_support"in K?K._support&&typeof K._support=="function"?K._support().then(Vt,Me):Vt(!!K._support):Vt(!0)}catch(xr){Me(xr)}});return y(ue,ce,he),ue},G.prototype.driver=function(){return this._driver||null},G.prototype.getDriver=function(K,ce,he){var ue=$r[K]?p.resolve($r[K]):p.reject(new Error("Driver not found."));return y(ue,ce,he),ue},G.prototype.getSerializer=function(K){var ce=p.resolve(Re);return y(ce,K),ce},G.prototype.ready=function(K){var ce=this,he=ce._driverSet.then(function(){return ce._ready===null&&(ce._ready=ce._initDriver()),ce._ready});return y(he,K,K),he},G.prototype.setDriver=function(K,ce,he){var ue=this;Oa(K)||(K=[K]);var Ne=this._getSupportedDrivers(K);function Me(){ue._config.driver=ue.driver()}function Le(Je){return ue._extend(Je),Me(),ue._ready=ue._initStorage(ue._config),ue._ready}function ke(Je){return function(){var mt=0;function xt(){for(;mt<Je.length;){var kt=Je[mt];return mt++,ue._dbInfo=null,ue._ready=null,ue.getDriver(kt).then(Le).catch(xt)}Me();var hn=new Error("No available storage method found.");return ue._driverSet=p.reject(hn),ue._driverSet}return xt()}}var Be=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=Be.then(function(){var Je=Ne[0];return ue._dbInfo=null,ue._ready=null,ue.getDriver(Je).then(function(mt){ue._driver=mt._driver,Me(),ue._wrapLibraryMethodsWithReady(),ue._initDriver=ke(Ne)})}).catch(function(){Me();var Je=new Error("No available storage method found.");return ue._driverSet=p.reject(Je),ue._driverSet}),y(this._driverSet,ce,he),this._driverSet},G.prototype.supports=function(K){return!!En[K]},G.prototype._extend=function(K){as(this,K)},G.prototype._getSupportedDrivers=function(K){for(var ce=[],he=0,ue=K.length;he<ue;he++){var Ne=K[he];this.supports(Ne)&&ce.push(Ne)}return ce},G.prototype._wrapLibraryMethodsWithReady=function(){for(var K=0,ce=Ri.length;K<ce;K++)Sc(this,Ri[K])},G.prototype.createInstance=function(K){return new G(K)},G})(),os=new ip;r.exports=os},{3:3}]},{},[4])(4)})})(tg)),tg.exports}var rz=nz();const cA=hr(rz);class ED{constructor(e,n,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=n||Uu,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof cA>"u"&&(e=cA),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let n=navigator.onLine;this.online=n,n?this.emit("online",this):this.emit("offline",this)}add(e,n){let r=e.resources.map(i=>{let{href:a}=i,s=this.resolver(a),u=window.encodeURIComponent(s);return this.storage.getItem(u).then(c=>!c||n?this.requester(s,"binary").then(f=>this.storage.setItem(u,f)):c)});return Promise.all(r)}put(e,n,r){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(a=>a||this.requester(e,"binary",n,r).then(s=>this.storage.setItem(i,s)))}request(e,n,r,i){return this.online?this.requester(e,n,r,i).then(a=>(this.put(e),a)):this.retrieve(e,n)}retrieve(e,n){new Dt;var r,i=new ma(e);return n||(n=i.extension),n=="blob"?r=this.getBlob(e):r=this.getText(e),r.then(a=>{var s=new Dt,u;return a?(u=this.handleResponse(a,n),s.resolve(u)):s.reject({message:"File not found in storage: "+e,stack:new Error().stack}),s.promise})}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):Lu(n)?r=Ui(e,"text/xml"):n=="xhtml"?r=Ui(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=Ui(e,"text/html"):r=e,r}getBlob(e,n){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(i){if(i)return n=n||ol.lookup(e),new Blob([i],{type:n})})}getText(e,n){let r=window.encodeURIComponent(e);return n=n||ol.lookup(e),this.storage.getItem(r).then(function(i){var a=new Dt,s=new FileReader,u;if(i)return u=new Blob([i],{type:n}),s.addEventListener("loadend",()=>{a.resolve(s.result)}),s.readAsText(u,n),a.promise})}getBase64(e,n){let r=window.encodeURIComponent(e);return n=n||ol.lookup(e),this.storage.getItem(r).then(i=>{var a=new Dt,s=new FileReader,u;if(i)return u=new Blob([i],{type:n}),s.addEventListener("loadend",()=>{a.resolve(s.result)}),s.readAsDataURL(u,n),a.promise})}createUrl(e,n){var r=new Dt,i=window.URL||window.webkitURL||window.mozURL,a,s,u=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(u?(s=this.getBase64(e),s&&s.then((function(c){this.urlCache[e]=c,r.resolve(c)}).bind(this))):(s=this.getBlob(e),s&&s.then((function(c){a=i.createObjectURL(c),this.urlCache[e]=a,r.resolve(a)}).bind(this))),s||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.urlCache={},this.removeListeners()}}qi(ED.prototype);class ng{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const n=Xt(e,"display_options");return n?(pa(n,"option").forEach(i=>{let a="";switch(i.childNodes.length&&(a=i.childNodes[0].nodeValue),i.attributes.name.value){case"interactive":this.interactive=a;break;case"fixed-layout":this.fixedLayout=a;break;case"open-to-spread":this.openToSpread=a;break;case"orientation-lock":this.orientationLock=a;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const fA="META-INF/container.xml",iz="META-INF/com.apple.ibooks.display-options.xml",yi={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class mx{constructor(e,n){typeof n>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(n=e,e=void 0),this.settings=ir(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),ir(this.settings,n),this.opening=new Dt,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Dt,spine:new Dt,metadata:new Dt,cover:new Dt,navigation:new Dt,pageList:new Dt,resources:new Dt,displayOptions:new Dt},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Uu,this.spine=new yj,this.locations=new pD(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var i=new Error("Cannot load book at "+e);this.emit(Ve.BOOK.OPEN_FAILED,i)})}open(e,n){var r,i=n||this.determineType(e);return i===yi.BINARY?(this.archived=!0,this.url=new xi("/",""),r=this.openEpub(e)):i===yi.BASE64?(this.archived=!0,this.url=new xi("/",""),r=this.openEpub(e,i)):i===yi.EPUB?(this.archived=!0,this.url=new xi("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):i==yi.OPF?(this.url=new xi(e),r=this.openPackaging(this.url.Path.toString())):i==yi.MANIFEST?(this.url=new xi(e),r=this.openManifest(this.url.Path.toString())):(this.url=new xi(e),r=this.openContainer(fA).then(this.openPackaging.bind(this))),r}openEpub(e,n){return this.unarchive(e,n||this.settings.encoding).then(()=>this.openContainer(fA)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(n=>(this.container=new xj(n),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new ma(e),this.load(e).then(n=>(this.packaging=new qS(n),this.unpack(this.packaging)))}openManifest(e){return this.path=new ma(e),this.load(e).then(n=>(this.packaging=new qS,this.packaging.load(n),this.unpack(this.packaging)))}load(e){var n=this.resolve(e);return this.archived?this.archive.request(n):this.request(n,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,n){if(e){var r=e,i=e.indexOf("://")>-1;return i?e:(this.path&&(r=this.path.resolve(e)),n!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var n=e;return e?(this.settings.canonical?n=this.settings.canonical(e):n=this.resolve(e,!0),n):""}determineType(e){var n,r,i;if(this.settings.encoding==="base64")return yi.BASE64;if(typeof e!="string")return yi.BINARY;if(n=new xi(e),r=n.path(),i=r.extension,i&&(i=i.replace(/\?.*$/,"")),!i)return yi.DIRECTORY;if(i==="epub")return yi.EPUB;if(i==="opf")return yi.OPF;if(i==="json")return yi.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(iz)).then(n=>{this.displayOptions=new ng(n),this.loading.displayOptions.resolve(this.displayOptions)}).catch(n=>{this.displayOptions=new ng,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new ng,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new _j(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(n=>{console.error(n)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let n=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((i,a)=>{this.navigation=new U0(r),e.pageList&&(this.pageList=new B0(e.pageList)),i(this.navigation)}):n?this.load(n,"xml").then(i=>(this.navigation=new U0(i),this.pageList=new B0(i),this.navigation)):new Promise((i,a)=>{this.navigation=new U0,this.pageList=new B0,i(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,n){return this.rendition=new px(this,n),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,n){return this.archive=new tz,this.archive.open(e,n)}store(e){let n=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,i=this.settings.requestMethod||Uu.bind(this);return this.storage=new ED(e,i,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let a=(s,u)=>{u.output=this.resources.substitute(s,u.url)};this.resources.settings.replacements=n||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new xi("/",""),this.spine.hooks.serialize.register(a)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(a)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,n)=>{n.output=this.resources.substitute(e,n.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var n=new Rt(e),r=this.spine.get(n.spinePos),i=this.load.bind(this);return r?r.load(i).then(function(a){var s=n.toRange(r.document);return s}):new Promise((a,s)=>{s("CFI could not be found")})}key(e){var n=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${vh}:${n}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}qi(mx.prototype);function ns(t,e){return new mx(t,e)}ns.VERSION=vh;typeof global<"u"&&(global.EPUBJS_VERSION=vh);ns.Book=mx;ns.Rendition=px;ns.Contents=dx;ns.CFI=Rt;ns.utils=cj;const az=({material:t,isFocusMode:e,theme:n,fontSize:r,showSettings:i,showEpubToc:a,isSpeaking:s,isPaused:u,showSidebar:c,activeTab:f,showAiFeatures:h,isAdmin:p,adminAiEnabled:v,onClose:y,onToggleFocusMode:C,onToggleSettings:S,onSetTheme:b,onSetFontSize:T,onToggleEpubToc:D,onToggleTTS:I,onStopTTS:P,onToggleSidebar:M,onSummarize:O,onToggleAdminAi:L})=>{const z=t.type===Et.TEXT||t.type===Et.HTML||t.type===Et.EPUB;return E.jsxs("div",{className:`
        absolute top-0 left-0 right-0 h-16 z-50 flex items-center justify-between px-4 md:px-8 transition-all duration-500 transform
        ${n==="sepia"?"bg-[#f4ecd8]/95 border-[#e3dcc0]":"bg-white/95 border-gray-100"}
        backdrop-blur-md border-b shadow-sm
        ${e?"-translate-y-full opacity-0":"translate-y-0 opacity-100"}
      `,children:[E.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[E.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-black/5 transition-colors",children:E.jsx(ji,{className:"w-6 h-6 opacity-70"})}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h1",{className:"font-semibold text-sm md:text-base truncate max-w-[150px] md:max-w-xs leading-tight",children:t.title}),E.jsx("span",{className:"text-xs opacity-60 truncate",children:t.author})]}),p&&E.jsxs("button",{onClick:L,className:`
              flex items-center gap-1.5 px-2 py-1 rounded-full text-[10px] font-bold transition-all border ml-3
              ${v?"bg-brand-50 text-brand-700 border-brand-200 shadow-sm":"bg-gray-50 text-gray-500 border-gray-200 hover:bg-gray-100 hover:text-gray-700"}
            `,title:"",children:[E.jsx(Yk,{className:`w-3 h-3 ${v?"text-brand-500":"text-gray-400"}`}),E.jsx("span",{children:v?"":""})]})]}),E.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[t.type===Et.EPUB&&E.jsx("button",{onClick:D,className:`
              p-2 rounded-full hover:bg-black/5 transition-colors 
              ${a?"bg-black/10 text-gray-900":"text-gray-500 hover:text-gray-900"}
            `,title:"",children:E.jsxs("div",{className:"w-5 h-5 flex flex-col justify-center items-center gap-[4px]",children:[E.jsx("span",{className:"w-4 h-0.5 bg-current rounded-full"}),E.jsx("span",{className:"w-4 h-0.5 bg-current rounded-full"}),E.jsx("span",{className:"w-4 h-0.5 bg-current rounded-full"})]})}),z&&E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:S,className:`p-2 rounded-full hover:bg-black/5 transition-colors ${i?"bg-black/10":""}`,title:"",children:E.jsx("span",{className:"font-serif font-bold text-lg px-1",children:"Aa"})}),i&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed -top-[100vh] -left-[100vw] w-[300vw] h-[300vh] z-[60] bg-black/40 backdrop-blur-[2px] md:hidden",onClick:S}),E.jsxs("div",{className:`
                  bg-white rounded-xl shadow-2xl border border-gray-200 p-5 text-gray-800 z-[70] animate-fade-in
                  fixed top-[50vh] left-1/2 -translate-x-1/2 -translate-y-1/2 w-[85%] max-w-sm
                  md:absolute md:top-full md:right-0 md:left-auto md:translate-x-0 md:translate-y-0 md:mt-3 md:w-72 md:origin-top-right
                `,children:[E.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100/50",children:[E.jsx("span",{className:"text-sm font-medium text-gray-500",children:""}),E.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg p-1",children:[E.jsx("button",{onClick:()=>T(Math.max(12,r-2)),className:"p-1.5 hover:bg-white rounded-md shadow-sm transition-all text-gray-600 active:scale-95",children:E.jsx(m6,{className:"w-4 h-4"})}),E.jsx("span",{className:"w-10 text-center text-sm font-semibold tabular-nums select-none",children:r}),E.jsx("button",{onClick:()=>T(Math.min(32,r+2)),className:"p-1.5 hover:bg-white rounded-md shadow-sm transition-all text-gray-600 active:scale-95",children:E.jsx(Zy,{className:"w-4 h-4"})})]})]}),E.jsxs("div",{children:[E.jsx("span",{className:"block text-sm font-medium text-gray-500 mb-2",children:""}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>b("light"),className:`flex-1 h-12 rounded-lg border-2 transition-all duration-200 flex items-center justify-center ${n==="light"?"border-brand-500 ring-2 ring-brand-100 bg-white":"border-gray-100 bg-white hover:border-gray-300"}`,"aria-label":"Light mode",children:E.jsx(O6,{className:`w-6 h-6 ${n==="light"?"text-brand-500":"text-gray-400"}`})}),E.jsx("button",{onClick:()=>b("sepia"),className:`flex-1 h-12 rounded-lg border-2 transition-all duration-200 flex items-center justify-center bg-[#FAF6EA] ${n==="sepia"?"border-brand-500 ring-2 ring-brand-100":"border-[#E6DEC6] hover:border-[#D6CDB8]"}`,"aria-label":"Sepia mode",children:E.jsx("span",{className:"w-5 h-5 rounded-full bg-[#5F4B32] opacity-60"})})]})]})]})]})]}),E.jsx("button",{onClick:C,className:"p-2 rounded-full hover:bg-black/5 transition-colors text-gray-500 hover:text-gray-900 mr-2",title:" ()",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})})}),E.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),h&&E.jsxs(E.Fragment,{children:[z&&E.jsx("div",{className:"flex items-center ml-2 mr-2",children:s?E.jsxs("div",{className:"flex items-center gap-1 bg-brand-100/50 rounded-full px-2 py-1 border border-brand-200",children:[E.jsx("button",{onClick:I,className:"p-1.5 rounded-full hover:bg-brand-200 text-brand-700",children:u?E.jsx(zE,{className:"w-5 h-5"}):E.jsx(w6,{className:"w-5 h-5"})}),E.jsx("button",{onClick:P,className:"p-1.5 rounded-full hover:bg-red-100 text-red-500",children:E.jsx(ji,{className:"w-5 h-5"})})]}):E.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-black/5 hover:bg-black/10 transition-colors text-current",title:"AI",children:[E.jsx(zE,{className:"w-4 h-4"}),E.jsx("span",{className:"hidden sm:inline text-sm font-medium whitespace-nowrap",children:"AI"})]})}),E.jsxs("button",{onClick:()=>M("chat"),className:`
                    flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all
                    ${c&&f==="chat"?"bg-brand-600 text-white shadow-md ring-2 ring-brand-200":"bg-black/5 hover:bg-black/10 text-current"}
                  `,title:"AI",children:[E.jsx(_N,{className:"w-5 h-5"}),E.jsx("span",{className:"hidden sm:inline",children:"AI"})]}),E.jsxs("button",{onClick:()=>M("media"),className:`
                    flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all ml-1
                    ${c&&f==="media"?"bg-brand-600 text-white shadow-md ring-2 ring-brand-200":"bg-black/5 hover:bg-black/10 text-current"}
                  `,title:"",children:[E.jsx(Qf,{className:"w-5 h-5"}),E.jsx("span",{className:"hidden sm:inline",children:""})]}),E.jsxs("button",{onClick:O,className:`
                  flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all ml-1
                  ${c&&f==="summary"?"bg-brand-600 text-white shadow-md ring-2 ring-brand-200":"bg-black/5 hover:bg-black/10 text-current"}
                `,title:"AI",children:[E.jsx(ul,{className:"w-5 h-5"}),E.jsx("span",{className:"hidden sm:inline",children:"AI"})]})]})]})]})},oz=({material:t,user:e,onClose:n})=>{const[r,i]=R.useState(!1),[a,s]=R.useState("chat"),[u,c]=R.useState(!1),[f,h]=R.useState(!1),[p,v]=R.useState(18),[y,C]=R.useState("light"),[S,b]=R.useState(""),[T,D]=R.useState([]),[I,P]=R.useState(!1),[M,O]=R.useState(""),[L,z]=R.useState(!1),[B,q]=R.useState([]),[Y,W]=R.useState(!1),[re,me]=R.useState(!1),[Z,X]=R.useState(!1),Q=R.useRef(null),[oe,de]=R.useState(null),[Ce,$]=R.useState(null),[se,Ae]=R.useState(""),[we,Ue]=R.useState([]),[$e,qe]=R.useState(!1),[Ge,ye]=R.useState(!1),[We,je]=R.useState(!1),Ee=R.useRef(null),Qe=R.useRef(Date.now()),Ye=R.useRef(0),[tt,rt]=R.useState(0),[ot,Mt]=R.useState({}),[Ot,Ft]=R.useState(null),[it,ut]=R.useState(!1),[st,_t]=R.useState(!1),[or,wn]=R.useState(!1);R.useEffect(()=>{(async()=>{try{const A=await fetch(`/api/materials/${t.id}/forms`);if(!A.ok)throw new Error("Failed to fetch forms");const J=await A.json(),ie=J.find(ze=>ze.triggerTiming==="pre_read"),j=J.find(ze=>ze.triggerTiming==="post_read");Mt({preRead:ie==null?void 0:ie.formId,postRead:j==null?void 0:j.formId});const ee=await fetch(`/api/user-responses/user/${e.phone_number}`);if(!ee.ok)throw new Error("Failed to fetch responses");const pe=await ee.json();if(ie&&!pe.some(Pe=>Pe.formId===ie.formId&&Pe.materialId===t.id)){const Pe=await fetch(`/api/forms/${ie.formId}`);if(Pe.ok){const Fe=await Pe.json();Ft(Fe),ut(!0),Ye.current=Date.now(),pn.log(e,"OPEN_QUESTIONNAIRE","Opened pre-read questionnaire",t.id)}}wn(!0)}catch(A){console.error("Error checking forms:",A),wn(!0)}})()},[t.id,e.phone_number]);const en=async H=>{if(Ot){_t(!0);try{const A=Math.round((Date.now()-Ye.current)/1e3);(await fetch("/api/user-responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.phone_number,materialId:t.id,formId:Ot.id,answers:H,durationSeconds:A})})).ok?(ut(!1),Ft(null),pn.log(e,"CLOSE_QUESTIONNAIRE",`User submitted questionnaire. Duration: ${A}s`,t.id),Ot.id===ot.preRead&&(Qe.current=Date.now()),Ot.id===ot.postRead&&n({materialId:t.id,duration:A,progress:tt})):alert("")}catch(A){console.error("Submit error:",A),alert("")}finally{_t(!1)}}};R.useEffect(()=>{if(Ce)try{Ce.destroy()}catch(H){console.warn("Rendition destroy error",H)}if(oe)try{oe.destroy()}catch(H){console.warn("Book destroy error",H)}if(t.type===Et.EPUB){let H=null,A=null;(async()=>{try{ye(!0);let j=t.content;j.startsWith("/backend/epub_files/")&&(j=`/api/epub-files/${j.split("/").pop()||""}`),H=ns(j);const ee=Ee.current;if(!ee){console.error("EPUB container not found");return}A=H.renderTo(ee,{width:"100%",height:"100%",flow:"paginated",manager:"default",spread:"auto",allowScriptedContent:!0});const pe={body:{"background-color":y==="sepia"?"#FAF6EA !important":"#ffffff !important",color:y==="sepia"?"#5F4B32 !important":"#111827 !important","font-family":"ui-sans-serif, system-ui, sans-serif !important","font-size":`${p}px !important`,"line-height":"1.8 !important","padding-top":"40px !important","padding-bottom":"40px !important","padding-left":"10px !important","padding-right":"10px !important"},img:{"max-width":"100% !important"},a:{color:"#2563eb !important"}};A.themes.default(pe),await A.display(),H.locations.generate(1e3).then(()=>{console.log("Locations generated")}),ye(!1);const ze=await H.loaded.navigation;ze&&ze.toc&&Ue(ze.toc),A.on("relocated",Pe=>{if(Ae(Pe.start.cfi),H.locations.length()>0){const Fe=H.locations.percentageFromCfi(Pe.start.cfi);rt(Math.round(Fe*100))}Pe.atEnd?je(!0):je(!1)}),A.on("keyup",Pe=>{Pe.key==="ArrowLeft"?A.prev():Pe.key==="ArrowRight"&&A.next()}),de(H),$(A)}catch(j){console.error("Failed to load EPUB:",j),ye(!1)}})();const ie=()=>{A&&A.resize()};return window.addEventListener("resize",ie),()=>{window.removeEventListener("resize",ie),A&&A.destroy(),H&&H.destroy()}}return()=>{window.speechSynthesis.cancel(),Ce&&Ce.destroy(),oe&&oe.destroy()}},[t.id,t.content,t.type,y,p]);const kn=async()=>{if(!window.speechSynthesis){alert("Text-to-Speech is not supported in this browser.");return}if(re){Z?(window.speechSynthesis.resume(),X(!1),pn.log(e,"RESUME_TTS","Resumed audio",t.id)):(window.speechSynthesis.pause(),X(!0),pn.log(e,"PAUSE_TTS","Paused audio",t.id));return}let H="";try{if(t.type===Et.EPUB&&Ce&&oe){const J=Ce.currentLocation();if(J&&J.start&&J.end)try{const ie=await oe.getRange(J.start.cfi),j=await oe.getRange(J.end.cfi);if(ie&&j&&ie.commonAncestorContainer.ownerDocument===j.commonAncestorContainer.ownerDocument){const ee=ie.cloneRange();ee.setEnd(j.endContainer,j.endOffset),H=ee.toString()}else console.warn("Cross-chapter page detected, falling back to start fragment."),H=ie.toString()}catch(ie){console.error("Range extraction failed:",ie);const j=oe.spine.get(J.start.cfi);j&&(console.log("Falling back to full chapter text"),H=(await j.load(oe.load.bind(oe))).body.innerText)}}else H=t.type===Et.TEXT?t.content:t.type===Et.HTML?t.content.replace(/<[^>]+>/g,""):`Title: ${t.title}. Author: ${t.author}.`;if(H=H.replace(/\s+/g," ").trim(),!H){alert("");return}console.log("TTS Text Preview:",H.substring(0,50)+"..."),window.speechSynthesis.cancel();const A=new SpeechSynthesisUtterance(H);A.onstart=()=>{me(!0),X(!1),pn.log(e,"START_TTS","Started Text-to-Speech",t.id)},A.onend=()=>{me(!1),X(!1)},A.onerror=J=>{console.error("TTS System Error:",J),me(!1),X(!1)},Q.current=A,window.speechSynthesis.speak(A)}catch(A){console.error("TTS Error:",A),alert("")}},Fn=()=>{window.speechSynthesis.cancel(),me(!1),X(!1),pn.log(e,"STOP_TTS","Stopped audio",t.id)},sn=H=>{W(!0),i(!0),s("media"),pn.log(e,H==="image"?"GENERATE_IMAGE":"GENERATE_VIDEO","User requested media generation",t.id),setTimeout(()=>{const A={type:H,url:H==="image"?`https://picsum.photos/seed/${Math.random()}/600/400`:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",prompt:`${t.title}`};q(J=>[A,...J]),W(!1)},2500)},Tn=async()=>{if(i(!0),s("summary"),M)return;z(!0),pn.log(e,"AI_SUMMARY","User requested summary",t.id);let H=`Title: ${t.title}
Author: ${t.author}
Type: ${t.type}
`;if(t.type===Et.TEXT||t.type===Et.HTML){const J=t.type===Et.HTML?t.content.replace(/<[^>]*>?/gm,""):t.content;H+=`
Content:
${J}`}else H+=`
(The user is viewing a ${t.type} file. You cannot see the content directly, but answer general questions based on the title or metadata if possible, or act as a general assistant.)`;const A=await dS();O(A),z(!1)},mn=async()=>{const H=Math.round((Date.now()-Qe.current)/1e3);pn.log(e,"CLOSE_MATERIAL",`User finished reading. Duration: ${H}s, Progress: ${tt}%`,t.id);try{(await fetch(`/api/materials/${t.id}/mark-read/${e.phone_number}`,{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?console.log("Material marked as read successfully"):console.error("Failed to mark material as read")}catch(A){console.error("Error marking material as read:",A)}if(ot.postRead)try{const A=await fetch(`/api/forms/${ot.postRead}`);if(A.ok){const J=await A.json();Ft(J),ut(!0),Ye.current=Date.now(),pn.log(e,"OPEN_QUESTIONNAIRE","Opened post-read questionnaire",t.id);return}}catch(A){console.error("Failed to load post-read form",A)}if(window.confirm("")){const A=Math.round((Date.now()-Qe.current)/1e3);n({materialId:t.id,duration:A,progress:tt})}},zt=async H=>{if(H.preventDefault(),!S.trim())return;const A=S;b(""),D(j=>[...j,{sender:"user",text:A}]),P(!0),pn.log(e,"AI_QUERY",A,t.id);let J=`Title: ${t.title}
Author: ${t.author}
Type: ${t.type}
`;if(t.type===Et.TEXT||t.type===Et.HTML){const j=t.type===Et.HTML?t.content.replace(/<[^>]*>?/gm,""):t.content;J+=`
Content:
${j}`}else J+=`
(The user is viewing a ${t.type} file. You cannot see the content directly, but answer general questions based on the title or metadata if possible, or act as a general assistant.)`;const ie=await dS();D(j=>[...j,{sender:"ai",text:ie}]),P(!1)},St=()=>{switch(y){case"sepia":return"bg-[#FAF6EA] text-[#5F4B32] selection:bg-[#D6CDB8]";case"light":default:return"bg-white text-gray-900 selection:bg-brand-100"}},gn=()=>{switch(y){case"sepia":return"prose-headings:text-[#433422] prose-strong:text-[#433422] prose-a:text-[#8c6b4a] prose-p:text-[#5F4B32] prose-li:text-[#5F4B32]";case"light":default:return"prose-gray prose-headings:text-gray-900 prose-p:text-gray-800"}},V=()=>{const H={fontSize:`${p}px`,fontFamily:'"Inter", "system-ui", sans-serif',lineHeight:"1.8"};switch(t.type){case Et.TEXT:return E.jsx("div",{className:`max-w-3xl mx-auto py-12 px-8 transition-colors duration-300 min-h-full ${St()}`,children:E.jsxs("div",{style:H,className:"animate-fade-in",children:[E.jsx("h1",{className:"text-3xl font-bold mb-8 leading-tight tracking-tight",children:t.title}),E.jsx("div",{className:"whitespace-pre-wrap",children:t.content.split(`
`).map((A,J)=>A.trim()?E.jsx("p",{className:"mb-6 indent-8 leading-relaxed",children:A},J):E.jsx("br",{},J))}),Re()]})});case Et.HTML:return E.jsxs("div",{className:`max-w-3xl mx-auto py-12 px-8 transition-colors duration-300 min-h-full ${St()}`,children:[E.jsx("div",{className:`prose max-w-none ${gn()} animate-fade-in`,style:H,dangerouslySetInnerHTML:{__html:t.content}}),Re()]});case Et.VIDEO:return E.jsxs("div",{className:"flex flex-col h-full bg-black",children:[E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("video",{controls:!0,className:"max-h-full max-w-full focus:outline-none",onPlay:()=>pn.log(e,"MEDIA_PLAY","Video started",t.id),onPause:()=>pn.log(e,"MEDIA_PAUSE","Video paused",t.id),children:[E.jsx("source",{src:t.content,type:"video/mp4"}),"Your browser does not support the video tag."]})}),E.jsx("div",{className:"p-8 bg-gray-900 flex justify-center",children:E.jsxs("button",{onClick:mn,className:"px-8 py-3 bg-brand-600 hover:bg-brand-700 text-white rounded-full font-bold shadow-lg transition-transform transform hover:scale-105 flex items-center gap-2",children:[E.jsx(qo,{className:"w-5 h-5"}),""]})})]});case Et.AUDIO:return E.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-gray-900 to-gray-800 text-white p-8",children:[E.jsx("div",{className:"w-64 h-64 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center mb-8 shadow-2xl border border-white/20",children:E.jsx(v6,{className:"w-32 h-32 text-white/50"})}),E.jsx("h2",{className:"text-3xl font-bold mb-2 tracking-tight",children:t.title}),E.jsx("p",{className:"text-white/60 mb-8",children:t.author}),E.jsx("audio",{controls:!0,className:"w-full max-w-md shadow-lg rounded-full mb-12",onPlay:()=>pn.log(e,"MEDIA_PLAY","Audio started",t.id),onPause:()=>pn.log(e,"MEDIA_PAUSE","Audio paused",t.id),children:E.jsx("source",{src:t.content,type:"audio/mp3"})}),E.jsxs("button",{onClick:mn,className:"px-8 py-3 bg-brand-600 hover:bg-brand-700 text-white rounded-full font-bold shadow-lg transition-transform transform hover:scale-105 flex items-center gap-2",children:[E.jsx(qo,{className:"w-5 h-5"}),"Finish Listening"]})]});case Et.IMAGE:return E.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[E.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-auto",children:E.jsx("img",{src:t.content,alt:t.title,className:"max-w-full max-h-full object-contain shadow-2xl rounded-sm"})}),E.jsx("div",{className:"p-8 bg-gray-900 flex justify-center border-t border-gray-800",children:E.jsxs("button",{onClick:mn,className:"px-8 py-3 bg-brand-600 hover:bg-brand-700 text-white rounded-full font-bold shadow-lg transition-transform transform hover:scale-105 flex items-center gap-2",children:[E.jsx(qo,{className:"w-5 h-5"}),"Finish Viewing"]})})]});case Et.EPUB:return E.jsxs("div",{className:`relative flex flex-col w-full h-full overflow-hidden transition-colors duration-300 ${St()}`,children:[E.jsxs("div",{className:"flex-1 relative w-full h-full overflow-hidden",children:[E.jsx("div",{ref:Ee,className:"w-full h-full",style:{width:"100%",height:"100%"}}),Ge&&E.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-white/90 backdrop-blur-sm",children:[E.jsx("div",{className:"relative mb-4",children:E.jsx("div",{className:"w-12 h-12 border-4 border-brand-200 border-t-brand-600 rounded-full animate-spin"})}),E.jsx("p",{className:"text-brand-800 font-medium",children:"..."})]}),E.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-2 md:left-4 z-40",children:E.jsx("button",{onClick:A=>{A.stopPropagation(),Ce==null||Ce.prev()},className:`p-2 md:p-3 rounded-full bg-white/90 text-gray-800 shadow-lg border border-gray-100 
                             transform transition-all duration-200 hover:scale-110 active:scale-95
                             flex items-center justify-center backdrop-blur-sm group`,"aria-label":"Previous Page",title:"",children:E.jsx(Qk,{className:"w-5 h-5 md:w-6 md:h-6 stroke-2 text-gray-500 group-hover:text-brand-600"})})}),E.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 md:right-4 z-40",children:E.jsx("button",{onClick:A=>{A.stopPropagation(),Ce==null||Ce.next()},className:`p-2 md:p-3 rounded-full bg-white/90 text-gray-800 shadow-lg border border-gray-100 
                             transform transition-all duration-200 hover:scale-110 active:scale-95
                             flex items-center justify-center backdrop-blur-sm group`,"aria-label":"Next Page",title:"",children:E.jsx(t6,{className:"w-5 h-5 md:w-6 md:h-6 stroke-2 text-gray-500 group-hover:text-brand-600"})})}),E.jsx("div",{className:"absolute top-20 bottom-20 left-16 right-16 z-10 cursor-default",onClick:A=>{A.stopPropagation(),h(!f)},title:f?"":""})]}),E.jsx("div",{className:"absolute bottom-6 left-0 right-0 z-30 flex justify-center pointer-events-none",children:We&&E.jsx("div",{className:"pointer-events-auto animate-bounce-in",children:Re()})}),we.length>0&&E.jsxs("div",{className:`
                 absolute top-0 left-0 bottom-0 w-full md:w-64 bg-white/95 backdrop-blur-lg border-r shadow-xl overflow-y-auto p-4 z-50
                 transition-transform duration-300 ease-in-out
                 ${$e?"translate-x-0":"-translate-x-full"}
              `,children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-lg font-bold",children:""}),E.jsx("button",{onClick:()=>qe(!1),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:E.jsx(ji,{className:"w-5 h-5"})})]}),E.jsx("div",{className:"space-y-2",children:we.map((A,J)=>E.jsxs("div",{className:"space-y-1",children:[E.jsx("button",{onClick:()=>{Ce&&(Ce.display(A.href),qe(!1))},className:"w-full text-left px-3 py-2 text-sm font-medium rounded-lg hover:bg-brand-100 hover:text-brand-700 transition-colors",children:A.label}),A.subitems&&A.subitems.length>0&&E.jsx("div",{className:"pl-4 space-y-1",children:A.subitems.map((ie,j)=>E.jsx("button",{onClick:()=>{Ce&&(Ce.display(ie.href),qe(!1))},className:"w-full text-left px-3 py-1.5 text-sm rounded-lg hover:bg-brand-100 hover:text-brand-700 transition-colors",children:ie.label},j))})]},J))})]})]});default:return E.jsx("div",{className:"p-8",children:"Unsupported format"})}},Re=()=>E.jsxs("button",{onClick:mn,className:`
        group relative px-6 py-2.5 rounded-full font-medium shadow-lg hover:shadow-xl 
        transition-all duration-300 active:scale-95 flex items-center gap-2 overflow-hidden
        ${y==="dark"?"bg-white text-gray-900 hover:bg-gray-100":"bg-gray-900 text-white hover:bg-gray-800"}
      `,children:[E.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"}),E.jsx(qo,{className:"w-5 h-5"}),E.jsx("span",{children:""})]}),Oe=t.type===Et.TEXT||t.type===Et.HTML||t.type===Et.EPUB,He=()=>{const H=Math.round((Date.now()-Qe.current)/1e3);pn.log(e,"CLOSE_MATERIAL",`User closed reader. Duration: ${H}s, Progress: ${tt}%`,t.id),n({materialId:t.id,duration:H,progress:tt})},[ae,_e]=R.useState(!1),N=e.role===nr.ADMIN,U=N?ae:e.group==="B";return E.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col md:flex-row h-[100dvh] w-screen overflow-hidden bg-white",children:[it&&Ot&&E.jsx("div",{className:"absolute inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsx("div",{className:"w-full max-w-2xl animate-slide-in-top",children:E.jsx(iP,{form:Ot,onSubmit:en,isSubmitting:st,onCancel:ot.postRead===Ot.id?()=>ut(!1):void 0})})}),E.jsx("div",{className:"flex-1 flex overflow-hidden relative",children:E.jsxs("div",{className:`
          relative flex flex-col h-full overflow-hidden transition-all duration-300
          w-full
          ${St()}
        `,children:[E.jsx(az,{material:t,isFocusMode:f,theme:y,fontSize:p,showSettings:u,showEpubToc:$e,isSpeaking:re,isPaused:Z,showSidebar:r,activeTab:a,showAiFeatures:U,isAdmin:N,adminAiEnabled:ae,onClose:He,onToggleFocusMode:()=>h(!f),onToggleSettings:()=>c(!u),onSetTheme:C,onSetFontSize:v,onToggleEpubToc:()=>qe(!$e),onToggleTTS:kn,onStopTTS:Fn,onToggleSidebar:H=>{r&&a===H?i(!1):(i(!0),s(H))},onSummarize:Tn,onToggleAdminAi:()=>_e(!ae)}),E.jsx("div",{className:`
              flex-1 relative transition-all
              ${t.type===Et.EPUB?"overflow-hidden h-full":"overflow-y-auto pt-16 scroll-smooth"}
            `,onClick:()=>f&&h(!1),onScroll:H=>{if(Oe){const A=H.currentTarget,J=Math.round(A.scrollTop/(A.scrollHeight-A.clientHeight)*100);Math.abs(J-tt)>5&&rt(J)}},children:V()}),Oe&&E.jsx("div",{className:`absolute top-0 left-0 h-1.5 bg-gray-100/50 w-full z-[55] transition-all duration-500 ${f?"-translate-y-full opacity-0":"translate-y-0 opacity-100"}`,children:E.jsx("div",{className:"relative h-full bg-gradient-to-r from-brand-300 to-brand-600 transition-all duration-300 ease-out rounded-r-full",style:{width:`${tt}%`},children:E.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-3 h-3 bg-brand-500 rounded-full shadow-[0_0_12px_rgba(79,70,229,0.8)] ring-2 ring-white/80"})})}),Oe&&E.jsx("div",{className:`
                absolute bottom-6 right-6 md:bottom-8 md:right-8 z-40 pointer-events-none transition-all duration-500 transform
                ${f?"translate-y-10 opacity-0":"translate-y-0 opacity-100"}
             `,children:E.jsxs("div",{className:"bg-black/60 backdrop-blur-md text-white px-3 py-1.5 rounded-full text-xs font-mono font-medium tracking-wider shadow-lg border border-white/10 flex items-center gap-2",children:[E.jsxs("span",{children:[": ",tt,"%"]}),E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-brand-400 animate-pulse"})]})})]})}),E.jsxs("div",{className:`
        fixed inset-y-0 right-0 w-full bg-white border-l shadow-2xl z-[60] flex flex-col
        transition-all duration-300 ease-in-out
        ${r?"translate-x-0":"translate-x-full"}
        md:relative md:translate-x-0 md:transform-none md:z-30
        ${r?"md:w-[450px] md:opacity-100":"md:w-0 md:opacity-0 md:overflow-hidden md:border-l-0"}
      `,children:[E.jsxs("div",{className:"h-16 border-b flex items-center justify-between px-4 bg-gray-50/50 backdrop-blur shrink-0",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>s("chat"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${a==="chat"?"bg-brand-100 text-brand-700":"text-gray-500 hover:bg-gray-100"}`,children:"AI"}),E.jsx("button",{onClick:()=>s("media"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${a==="media"?"bg-brand-100 text-brand-700":"text-gray-500 hover:bg-gray-100"}`,children:""}),E.jsx("button",{onClick:()=>s("summary"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${a==="summary"?"bg-brand-100 text-brand-700":"text-gray-500 hover:bg-gray-100"}`,children:""})]}),E.jsx("button",{onClick:()=>i(!1),className:"md:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:E.jsx(ji,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-50/30 relative",children:[a==="chat"&&E.jsx("div",{className:"p-4 space-y-4 h-full flex flex-col",children:E.jsxs("div",{className:"flex-1 space-y-4 pb-4",children:[T.length===0&&E.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center text-gray-500 px-8",children:[E.jsx("div",{className:"w-12 h-12 bg-brand-50 rounded-full flex items-center justify-center mb-4",children:E.jsx(_N,{className:"w-6 h-6 text-brand-300"})}),E.jsx("p",{className:"font-medium text-gray-900",children:""}),E.jsx("p",{className:"mt-1 text-xs",children:"AI"})]}),T.map((H,A)=>E.jsx("div",{className:`flex ${H.sender==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`
                      max-w-[85%] rounded-2xl px-4 py-3 text-sm leading-relaxed
                      ${H.sender==="user"?"bg-brand-600 text-white rounded-br-none shadow-md":"bg-white border text-gray-800 rounded-bl-none shadow-sm"}
                    `,children:H.text})},A)),I&&E.jsx("div",{className:"flex justify-start",children:E.jsxs("div",{className:"bg-white border px-4 py-4 rounded-2xl rounded-bl-none shadow-sm flex gap-1.5 items-center",children:[E.jsx("div",{className:"w-2 h-2 bg-brand-400 rounded-full animate-bounce"}),E.jsx("div",{className:"w-2 h-2 bg-brand-400 rounded-full animate-bounce delay-75"}),E.jsx("div",{className:"w-2 h-2 bg-brand-400 rounded-full animate-bounce delay-150"})]})})]})}),a==="media"&&E.jsxs("div",{className:"p-4 space-y-6",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-2",children:""}),E.jsx("p",{className:"text-xs text-gray-500 mb-4",children:""}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("button",{onClick:()=>sn("image"),disabled:Y,className:"flex flex-col items-center justify-center gap-2 p-3 bg-gray-50 hover:bg-brand-50 border border-gray-200 hover:border-brand-200 rounded-xl transition-all disabled:opacity-50",children:[E.jsx(T6,{className:"w-6 h-6 text-brand-400"}),E.jsx("span",{className:"text-xs font-semibold text-gray-700",children:""})]}),E.jsxs("button",{onClick:()=>sn("video"),disabled:Y,className:"flex flex-col items-center justify-center gap-2 p-3 bg-gray-50 hover:bg-brand-50 border border-gray-200 hover:border-brand-200 rounded-xl transition-all disabled:opacity-50",children:[E.jsx(u6,{className:"w-6 h-6 text-brand-400"}),E.jsx("span",{className:"text-xs font-semibold text-gray-700",children:""})]})]}),Y&&E.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center animate-pulse",children:[E.jsx(Qf,{className:"w-8 h-8 text-brand-400 mb-2"}),E.jsx("p",{className:"text-sm font-medium text-brand-600",children:"..."}),E.jsx("p",{className:"text-xs text-gray-400",children:""})]}),E.jsx("div",{className:"space-y-4",children:B.map((H,A)=>E.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 animate-fade-in-up",children:[E.jsxs("div",{className:"relative aspect-video bg-gray-100",children:[H.type==="image"?E.jsx("img",{src:H.url,alt:"Generated",className:"w-full h-full object-cover"}):E.jsx("video",{controls:!0,className:"w-full h-full object-cover",children:E.jsx("source",{src:H.url,type:"video/mp4"})}),E.jsxs("div",{className:"absolute top-2 left-2 px-2 py-0.5 bg-black/60 backdrop-blur rounded text-[10px] text-white uppercase font-bold",children:["AI",H.type==="image"?"":""]})]}),E.jsx("div",{className:"p-3",children:E.jsxs("p",{className:"text-xs text-gray-500 italic",children:['"',H.prompt,'"']})})]},A))})]}),a==="summary"&&E.jsxs("div",{className:"p-4 space-y-6",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-2",children:""}),E.jsx("p",{className:"text-xs text-gray-500 mb-4",children:""}),L?E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-pulse",children:[E.jsxs("div",{className:"relative mb-4",children:[E.jsx("div",{className:"absolute inset-0 bg-brand-400 blur-xl opacity-20 animate-pulse"}),E.jsx(Qf,{className:"w-10 h-10 text-brand-500 relative z-10 animate-spin-slow"})]}),E.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:""}),E.jsx("p",{className:"text-xs text-gray-400 max-w-[200px]",children:"AI ..."})]}):M?E.jsxs("div",{className:"prose prose-sm max-w-none animate-fade-in",children:[E.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-gray-700",children:M}),E.jsx("div",{className:"mt-8 pt-4 border-t border-gray-100",children:E.jsxs("button",{onClick:Tn,className:"text-xs text-brand-600 hover:text-brand-700 font-medium flex items-center gap-1",children:[E.jsx(Qf,{className:"w-3 h-3"}),""]})})]}):E.jsxs("div",{className:"text-center py-12",children:[E.jsx("p",{className:"text-gray-500 text-sm mb-4",children:""}),E.jsx("button",{onClick:Tn,className:"px-6 py-2 bg-brand-600 text-white rounded-full text-sm font-medium shadow-lg hover:bg-brand-700 transition-colors",children:""})]})]})]}),a==="chat"&&E.jsxs("div",{className:"p-4 bg-white border-t shrink-0",children:[E.jsxs("form",{onSubmit:zt,className:"relative",children:[E.jsx("input",{type:"text",value:S,onChange:H=>b(H.target.value),placeholder:"",className:"w-full pl-4 pr-12 py-3.5 bg-gray-50 border-gray-200 focus:bg-white focus:border-brand-500 rounded-xl focus:ring-4 focus:ring-brand-50/50 transition-all text-sm"}),E.jsx("button",{type:"submit",disabled:!S.trim()||I,className:"absolute right-2 top-2 p-1.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 disabled:hover:bg-brand-600 transition-colors shadow-sm",children:E.jsx(x6,{className:"w-5 h-5"})})]}),E.jsx("p",{className:"text-[10px] text-center text-gray-400 mt-2",children:"AI"})]})]})]})},sz="/api",Zv=t=>{if(t)return t.includes("doubanio.com")?`${sz}/proxy?url=${encodeURIComponent(t)}`:t},lz=({materials:t,setMaterials:e,onOpenMaterial:n})=>{const[r,i]=R.useState([]),[a,s]=R.useState([]);R.useEffect(()=>{(async()=>{try{const Q=await fetch("/api/users");if(Q.ok){const oe=await Q.json();i(oe)}}catch(Q){console.error("Failed to fetch users:",Q)}})(),(async()=>{try{const Q=await fetch("/api/forms");if(Q.ok){const oe=await Q.json();s(oe)}}catch(Q){console.error("Failed to fetch forms:",Q)}})()},[]);const[u,c]=R.useState(!1),[f,h]=R.useState(!1),[p,v]=R.useState(""),[y,C]=R.useState([]),[S,b]=R.useState({title:"",author:"",type:Et.TEXT,content:"",coverUrl:"https://picsum.photos/300/450"}),[T,D]=R.useState({preRead:"",postRead:""}),[I,P]=R.useState(null),[M,O]=R.useState(!1),[L,z]=R.useState(""),[B,q]=R.useState([]),Y=Z=>{z(Z);const X=t.find(Q=>Q.id===Z);if(X){const Q=X.assignedToUserIds||[];C(Q),q(Q)}else C([]),q([]);O(!0)},W=async Z=>{const X=y.filter(Q=>!B.includes(Q));if(X.length===0){alert("");return}try{const Q=await fetch(`/api/materials/${Z}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIds:y})});if(Q.ok){const oe=await Q.json();e(de=>de.map(Ce=>Ce.id===Z?oe:Ce)),alert(` ${X.length} .`),O(!1),C([])}else{const oe=await Q.json();alert(`: ${oe.error||""}`)}}catch(Q){console.error("Assignment error:",Q),alert("")}},re=Z=>{v(Z.id),b({title:Z.title,author:Z.author,type:Z.type,content:Z.content,coverUrl:Z.coverUrl||"https://picsum.photos/300/450"}),h(!0),fetch(`/api/materials/${Z.id}/forms`).then(X=>X.json()).then(X=>{const Q=X.find(de=>de.triggerTiming==="pre_read"),oe=X.find(de=>de.triggerTiming==="post_read");D({preRead:Q?Q.formId:"",postRead:oe?oe.formId:""})}).catch(X=>console.error("Failed to fetch linked forms:",X))},me=async Z=>{if(Z.preventDefault(),!S.title)return;let X=S.content,Q=!1;if(S.type===Et.EPUB&&I)try{const de=Date.now(),Ce=`${S.title.replace(/\s+/g,"_").toLowerCase()}_${de}.epub`,$=`/backend/epub_files/${Ce}`,se=new FormData;if(se.append("file",I),se.append("filename",Ce),(await fetch("/api/upload-epub",{method:"POST",body:se})).ok)X=$,Q=!0;else throw new Error("Failed to upload EPUB file to server")}catch(de){console.error("Failed to process EPUB file:",de),alert("Failed to process EPUB file. Please try again.");return}else if(!X)return;const oe={title:S.title,author:S.author||"Unknown",type:S.type,content:X,coverUrl:S.coverUrl};try{let de;if(f)de=await fetch(`/api/materials/${p}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});else{const Ce={...oe,id:Math.random().toString(36).substring(7)};de=await fetch("/api/materials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)})}if(de.ok){const Ce=await de.json();e(Ae=>f?Ae.map(we=>we.id===Ce.id?Ce:we):[Ce,...Ae]),c(!1),h(!1),v(""),b({title:"",author:"",type:Et.TEXT,content:"",coverUrl:"https://picsum.photos/300/450"}),D({preRead:"",postRead:""}),pn.log({id:"admin",name:"Admin",role:"ADMIN"},f?"UPDATE_MATERIAL":"CREATE_MATERIAL",`${f?"Updated":"Created"} ${Ce.title}`);const $=Ce.id,se=async(Ae,we)=>{Ae&&await fetch("/api/material-form-configs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialId:$,formId:Ae,triggerTiming:we})})};T.preRead&&await se(T.preRead,"pre_read"),T.postRead&&await se(T.postRead,"post_read")}else{const Ce=await de.json();alert(`${f?"Update":"Creation"} failed: ${Ce.error||"Unknown error"}`)}}catch(de){console.error(`${f?"Update":"Creation"} error:`,de),alert(`${f?"Failed to update material":"Failed to create material"}. Please check the console for details.`)}};return E.jsxs("div",{className:"space-y-8 animate-fade-in",children:[E.jsxs("div",{className:"flex flex-col xl:flex-row justify-between xl:items-center gap-6",children:[E.jsxs("button",{onClick:()=>c(!0),className:"flex items-center justify-center gap-2 px-8 py-4 bg-brand-600 text-white rounded-xl hover:bg-brand-700 shadow-md hover:shadow-lg font-semibold transition-all cursor-pointer",children:[E.jsx(Zy,{className:"w-5 h-5"}),""]}),E.jsxs("div",{className:"flex items-center justify-center gap-4 px-8 py-4 text-gray-800 rounded-xl font-semibold",children:[E.jsx(ul,{className:"w-5 h-5 text-brand-600"}),E.jsxs("span",{children:["",t.length]})]})]}),(u||f)&&E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-brand-100 animate-slide-in-top",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f?"":""}),E.jsx("p",{className:"text-gray-500 text-sm",children:f?"":""})]}),E.jsx("button",{onClick:()=>{c(!1),h(!1),v(""),b({title:"",author:"",type:Et.TEXT,content:"",coverUrl:"https://picsum.photos/300/450"}),D({preRead:"",postRead:""})},className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:E.jsx(ji,{className:"w-5 h-5 text-gray-600"})})]}),E.jsxs("form",{onSubmit:me,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title"}),E.jsx("input",{required:!0,type:"text",value:S.title,onChange:Z=>b({...S,title:Z.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4",placeholder:"e.g. Introduction to Neural Networks"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Author"}),E.jsx("input",{type:"text",value:S.author,onChange:Z=>b({...S,author:Z.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4",placeholder:"e.g. Dr. Jane Doe"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Content Type"}),E.jsx("select",{value:S.type,onChange:Z=>b({...S,type:Z.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4 bg-white",children:Object.values(Et).map(Z=>E.jsx("option",{value:Z,children:Z},Z))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cover Image URL"}),E.jsx("input",{type:"text",value:S.coverUrl,onChange:Z=>b({...S,coverUrl:Z.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:S.type===Et.TEXT||S.type===Et.HTML?"Content Body":S.type===Et.EPUB?"EPUB File":"Resource URL"}),S.type===Et.TEXT||S.type===Et.HTML?E.jsx("textarea",{required:!0,rows:8,value:S.content,onChange:Z=>b({...S,content:Z.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 font-mono text-sm p-4",placeholder:"Paste text content or HTML structure here..."}):S.type===Et.EPUB?E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("input",{type:"file",accept:".epub",onChange:Z=>{var Q;const X=((Q=Z.target.files)==null?void 0:Q[0])||null;P(X),b({...S,content:(X==null?void 0:X.name)||""})},className:"w-full text-sm text-gray-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-brand-100 file:text-brand-700 hover:file:bg-brand-200"}),I&&E.jsxs("div",{className:"flex items-center gap-2 p-3 bg-brand-50 border border-brand-200 rounded-xl",children:[E.jsx(wN,{className:"w-5 h-5 text-brand-600"}),E.jsx("span",{className:"text-sm font-medium text-brand-700",children:I.name}),E.jsxs("span",{className:"text-xs text-gray-500",children:["(",(I.size/1024/1024).toFixed(2)," MB)"]})]})]}):E.jsx("input",{required:!0,type:"url",value:S.content,onChange:Z=>b({...S,content:Z.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4",placeholder:"https://example.com/media.mp4"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-100",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pre-reading Form"}),E.jsxs("select",{value:T.preRead,onChange:Z=>D({...T,preRead:Z.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4 bg-white",children:[E.jsx("option",{value:"",children:""}),a.map(Z=>E.jsxs("option",{value:Z.id,children:[Z.title," (",Z.type,")"]},Z.id))]}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Post-reading Form"}),E.jsxs("select",{value:T.postRead,onChange:Z=>D({...T,postRead:Z.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4 bg-white",children:[E.jsx("option",{value:"",children:""}),a.map(Z=>E.jsxs("option",{value:Z.id,children:[Z.title," (",Z.type,")"]},Z.id))]}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]})]}),E.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[E.jsx("button",{type:"button",onClick:()=>{c(!1),h(!1),v(""),b({title:"",author:"",type:Et.TEXT,content:"",coverUrl:"https://picsum.photos/300/450"}),D({preRead:"",postRead:""})},className:"px-6 py-2.5 text-gray-700 hover:bg-gray-100 rounded-xl font-medium transition-colors cursor-pointer",children:""}),E.jsx("button",{type:"submit",className:"px-8 py-2.5 bg-brand-600 text-white rounded-xl font-medium hover:bg-brand-700 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5 cursor-pointer",children:f?"":""})]})]})]}),M&&E.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-brand-100 w-full max-w-4xl max-h-[90vh] overflow-y-auto animate-slide-in-top",children:[E.jsxs("div",{className:"flex justify-between items-center p-8 pb-4 border-b",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900",children:""}),E.jsx("p",{className:"text-gray-500 text-sm",children:""})]}),E.jsx("button",{onClick:()=>{O(!1),C([])},className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors cursor-pointer",children:E.jsx(ji,{className:"w-5 h-5 text-gray-600"})})]}),E.jsx("div",{className:"p-8",children:E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"pt-2",children:[E.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:""}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[Array.from(new Set(r.filter(Z=>Z.role==="PARTICIPANT"&&Z.group).map(Z=>Z.group))).map(Z=>E.jsxs("button",{onClick:()=>{const X=r.filter(Q=>Q.role==="PARTICIPANT"&&Q.group===Z).map(Q=>Q.phone_number);C([...y,...X.filter(Q=>!y.includes(Q))])},className:"px-4 py-2.5 bg-brand-100 text-brand-700 rounded-xl font-medium hover:bg-brand-200 transition-colors cursor-pointer",children:[" ",Z," "]},Z)),E.jsx("button",{onClick:()=>{const Z=r.filter(X=>X.role==="PARTICIPANT").map(X=>X.phone_number);C(Z)},className:"px-4 py-2.5 bg-brand-600 text-white rounded-xl font-medium hover:bg-brand-700 transition-colors cursor-pointer",children:""})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:""}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[E.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[E.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center justify-between",children:[E.jsx("span",{children:""}),E.jsx("span",{className:"text-sm text-gray-500",children:r.filter(Z=>Z.role==="PARTICIPANT"&&!y.includes(Z.phone_number)).length})]}),E.jsx("div",{className:"max-h-72 overflow-y-auto pr-2 space-y-2",children:r.filter(Z=>Z.role==="PARTICIPANT"&&!y.includes(Z.phone_number)).map(Z=>E.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all hover:border-brand-300 hover:bg-white",children:[E.jsx("input",{type:"checkbox",checked:y.includes(Z.phone_number),onChange:X=>{X.target.checked?C([...y,Z.phone_number]):C(y.filter(Q=>Q!==Z.phone_number))},className:"w-4 h-4 text-brand-600 focus:ring-brand-500 border-gray-300 rounded"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-bold text-xs",children:Z.name.charAt(0)}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:Z.name}),E.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",Z.phone_number]}),Z.group&&E.jsxs("p",{className:"text-xs text-gray-400",children:[": ",Z.group]})]})]})]},Z.phone_number))})]}),E.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:[E.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center justify-between",children:[E.jsx("span",{children:""}),E.jsx("span",{className:"text-sm text-blue-600",children:r.filter(Z=>Z.role==="PARTICIPANT"&&y.includes(Z.phone_number)&&!B.includes(Z.phone_number)).length})]}),E.jsxs("div",{className:"max-h-72 overflow-y-auto pr-2 space-y-2",children:[r.filter(Z=>Z.role==="PARTICIPANT"&&y.includes(Z.phone_number)&&!B.includes(Z.phone_number)).map(Z=>E.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all border-blue-300 bg-white",children:[E.jsx("input",{type:"checkbox",checked:y.includes(Z.phone_number),onChange:X=>{X.target.checked?C([...y,Z.phone_number]):C(y.filter(Q=>Q!==Z.phone_number))},className:"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xs",children:Z.name.charAt(0)}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:Z.name}),E.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",Z.phone_number]}),Z.group&&E.jsxs("p",{className:"text-xs text-gray-400",children:[": ",Z.group]})]})]})]},Z.phone_number)),r.filter(Z=>Z.role==="PARTICIPANT"&&y.includes(Z.phone_number)&&!B.includes(Z.phone_number)).length===0&&E.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:""})]})]})]}),E.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200",children:[E.jsxs("h4",{className:"font-medium text-green-900 mb-3 flex items-center justify-between",children:[E.jsx("span",{children:""}),E.jsx("span",{className:"text-sm text-green-600",children:r.filter(Z=>Z.role==="PARTICIPANT"&&y.includes(Z.phone_number)&&B.includes(Z.phone_number)).length})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-60 overflow-y-auto pr-2",children:[r.filter(Z=>Z.role==="PARTICIPANT"&&y.includes(Z.phone_number)&&B.includes(Z.phone_number)).map(Z=>E.jsx("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all border-green-300 bg-white",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 font-bold text-xs",children:Z.name.charAt(0)}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:Z.name}),E.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",Z.phone_number]})]})]})},Z.phone_number)),r.filter(Z=>Z.role==="PARTICIPANT"&&y.includes(Z.phone_number)&&B.includes(Z.phone_number)).length===0&&E.jsx("div",{className:"col-span-full text-center py-8 text-gray-400 text-sm",children:""})]})]})]}),E.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[E.jsx("button",{type:"button",onClick:()=>{O(!1),C([])},className:"px-6 py-2.5 text-gray-700 hover:bg-gray-100 rounded-xl font-medium transition-colors cursor-pointer",children:""}),E.jsx("button",{onClick:()=>W(L),disabled:y.length===0,className:"px-8 py-2.5 bg-brand-600 text-white rounded-xl font-medium hover:bg-brand-700 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:""})]})]})})]})}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-6",children:t.map(Z=>E.jsxs("div",{onClick:()=>n(Z),className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden flex flex-col group hover:shadow-xl hover:border-brand-100 transition-all duration-300 cursor-pointer",children:[E.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[E.jsx("img",{src:Zv(Z.coverUrl),alt:"",className:"w-full h-full object-cover opacity-95 group-hover:scale-110 transition-transform duration-700"}),E.jsx("div",{className:"absolute top-3 right-3 bg-white/90 text-gray-900 text-[10px] uppercase font-bold px-2.5 py-1 rounded-md shadow-sm backdrop-blur-sm",children:Z.type}),E.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:E.jsx("div",{className:"bg-white/30 backdrop-blur-sm p-3 rounded-full scale-75 group-hover:scale-100 transition-transform duration-300",children:E.jsx(ul,{className:"w-6 h-6 text-brand-600"})})})]}),E.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[E.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1 text-lg mb-1 group-hover:text-brand-600 transition-colors",children:Z.title}),E.jsx("p",{className:"text-sm text-gray-500 mb-4",children:Z.author}),E.jsxs("div",{className:"mt-auto",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[E.jsx("div",{className:"flex flex-col items-center justify-center p-3",children:E.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[Z.assignedCount||0,"/",r.length," "]})}),E.jsx("div",{className:"flex flex-col items-center justify-center p-3",children:E.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[Z.readCount||0,"/",Z.assignedCount||0," "]})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsx("button",{onClick:X=>{X.stopPropagation(),Y(Z.id)},className:"py-2.5 bg-brand-600 text-white border border-brand-600 rounded-xl text-sm font-semibold hover:bg-brand-700 hover:border-brand-700 transition-all",children:""}),E.jsx("button",{onClick:X=>{X.stopPropagation(),re(Z)},className:"py-2.5 bg-white text-brand-600 border border-brand-200 rounded-xl text-sm font-semibold hover:bg-brand-50 hover:border-brand-300 transition-all",children:""})]})]})]})]},Z.id))})]})},_D=({user:t,onUpdate:e,onBack:n})=>{const[r,i]=R.useState(!1),[a,s]=R.useState(!1),[u,c]=R.useState([]),[f,h]=R.useState({name:t.name||"",email:t.email||"",phone_number:t.phone_number||"",age:t.age||"",gender:t.gender||"",education:t.education||"",income:t.income||"",occupation:t.occupation||""});R.useEffect(()=>{t.role===nr.ADMIN?p():h({name:t.name||"",email:t.email||"",phone_number:t.phone_number||"",age:t.age||"",gender:t.gender||"",education:t.education||"",income:t.income||"",occupation:t.occupation||""})},[t]);const p=async()=>{i(!0);try{const b=await G6();c(b)}catch(b){console.error("Failed to load users",b)}finally{i(!1)}},v=async b=>{if(window.confirm(""))try{await H6(b)?c(D=>D.filter(I=>I.phone_number!==b)):alert("")}catch(T){console.error("Error deleting user:",T),alert("")}},y=async(b,T)=>{try{await AN(b,{group:T})?(c(I=>I.map(P=>P.phone_number===b?{...P,group:T}:P)),s(!0),setTimeout(()=>s(!1),2e3)):alert("")}catch(D){console.error("Error updating user group:",D),alert("")}},C=b=>{const{name:T,value:D}=b.target;h(I=>({...I,[T]:D}))},S=b=>{b.preventDefault(),e(f)};return E.jsxs("div",{className:"space-y-8 animate-fade-in pt-8 pb-12",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[E.jsx("div",{children:E.jsxs("button",{onClick:n,className:"group flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 hover:text-gray-900 shadow-sm transition-all duration-200 cursor-pointer",children:[E.jsx(Hk,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"}),E.jsx("span",{children:""})]})}),E.jsxs("div",{className:"text-right",children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:t.role===nr.ADMIN?"":""}),E.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t.role===nr.ADMIN?"":""})]})]}),t.role===nr.ADMIN?E.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden animate-slide-in-top",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[E.jsx("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:""}),E.jsx("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:""}),E.jsx("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:" / "}),E.jsx("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:""}),E.jsx("th",{className:"py-4 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-gray-50",children:r?E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"py-8 text-center text-gray-500",children:"..."})}):u.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"py-8 text-center text-gray-500",children:""})}):u.map(b=>E.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[E.jsx("td",{className:"py-4 px-6",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-bold text-lg",children:b.name?b.name.charAt(0).toUpperCase():"U"}),E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-gray-900",children:b.name||""}),E.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",b.phone_number]})]})]})}),E.jsx("td",{className:"py-4 px-6",children:E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[E.jsx(jE,{className:"w-3.5 h-3.5"}),b.phone_number]}),b.email&&E.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[E.jsx(a6,{className:"w-3.5 h-3.5"}),b.email]})]})}),E.jsx("td",{className:"py-4 px-6",children:E.jsxs("div",{className:"space-y-2",children:[E.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.role===nr.ADMIN?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:b.role===nr.ADMIN?"":""}),E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx(B6,{className:"w-3.5 h-3.5 text-gray-400"}),E.jsxs("select",{value:b.group||"",onChange:T=>y(b.phone_number,T.target.value),className:"text-xs border-gray-200 rounded-md py-1 pl-2 pr-6 focus:ring-brand-500 focus:border-brand-500 bg-white shadow-sm",disabled:b.role===nr.ADMIN,children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"A",children:""}),E.jsx("option",{value:"B",children:""})]})]})]})}),E.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:b.created_at?new Date(b.created_at).toLocaleString("zh-CN",{hour12:!1}):"-"}),E.jsx("td",{className:"py-4 px-6 text-right",children:E.jsx("button",{onClick:()=>v(b.phone_number),disabled:b.phone_number===t.phone_number,className:`p-2 rounded-lg transition-colors cursor-pointer ${b.phone_number===t.phone_number?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-red-600 hover:bg-red-50"}`,title:"",children:E.jsx(Jy,{className:"w-5 h-5"})})})]},b.phone_number))})]})})}):E.jsx("div",{className:"max-w-3xl mx-auto",children:E.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100 animate-slide-in-top",children:E.jsxs("form",{onSubmit:S,className:"space-y-8",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-6 pb-2 border-b border-gray-100",children:[E.jsx(h6,{className:"w-5 h-5 text-brand-500"}),""]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),E.jsx("input",{type:"text",name:"name",value:f.name,onChange:C,className:"w-full rounded-xl border-gray-200 focus:border-brand-500 focus:ring-brand-500 transition-shadow py-2.5 px-4",placeholder:""})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),E.jsx("input",{type:"number",name:"age",min:"18",max:"100",value:f.age,onChange:C,className:"w-full rounded-xl border-gray-200 focus:border-brand-500 focus:ring-brand-500 transition-shadow py-2.5 px-4",placeholder:""})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),E.jsxs("select",{name:"gender",value:f.gender,onChange:C,className:"w-full rounded-xl border-gray-200 focus:border-brand-500 focus:ring-brand-500 bg-white py-2.5 px-4",children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})]})]})]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-6 pb-2 border-b border-gray-100",children:[E.jsx(jE,{className:"w-5 h-5 text-brand-500"}),""]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),E.jsx("input",{type:"tel",name:"phone_number",value:f.phone_number,onChange:C,disabled:!0,className:"w-full rounded-xl border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed py-2.5 px-4"}),E.jsx("p",{className:"text-xs text-gray-400",children:""})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),E.jsx("input",{type:"email",name:"email",value:f.email,onChange:C,className:"w-full rounded-xl border-gray-200 focus:border-brand-500 focus:ring-brand-500 transition-shadow py-2.5 px-4",placeholder:""})]})]})]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-6 pb-2 border-b border-gray-100",children:[E.jsx(Bk,{className:"w-5 h-5 text-brand-500"}),""]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),E.jsxs("select",{name:"education",value:f.education,onChange:C,className:"w-full rounded-xl border-gray-200 focus:border-brand-500 focus:ring-brand-500 bg-white py-2.5 px-4",children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"/",children:"/"}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),E.jsxs("select",{name:"occupation",value:f.occupation,onChange:C,className:"w-full rounded-xl border-gray-200 focus:border-brand-500 focus:ring-brand-500 bg-white py-2.5 px-4",children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx("span",{className:"text-gray-500 sm:text-sm",children:""})}),E.jsx("input",{type:"number",name:"income",min:"0",value:f.income,onChange:C,className:"w-full rounded-xl border-gray-200 pl-7 focus:border-brand-500 focus:ring-brand-500 transition-shadow py-2.5 px-4",placeholder:"0"})]})]})]})]}),E.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t border-gray-100",children:[E.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-xl font-medium transition-all duration-200 cursor-pointer",children:""}),E.jsx("button",{type:"submit",className:"px-8 py-2.5 bg-brand-600 text-white rounded-xl font-medium hover:bg-brand-700 shadow-lg hover:shadow-brand-500/30 transition-all duration-200 transform hover:-translate-y-0.5 cursor-pointer",children:""})]})]})})}),a&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 flex flex-col items-center animate-scale-in max-w-sm w-full",children:[E.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:E.jsx(qo,{className:"w-10 h-10 text-green-600"})}),E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),E.jsx("p",{className:"text-gray-500 text-center mb-6",children:""}),E.jsx("button",{onClick:()=>s(!1),className:"w-full py-2.5 bg-brand-600 text-white rounded-xl font-semibold hover:bg-brand-700 transition-colors shadow-lg cursor-pointer",children:""})]})})]})},uz=({logs:t})=>{const[e,n]=R.useState([]),[r,i]=R.useState(null),[a,s]=R.useState(!1);R.useEffect(()=>{(async()=>{try{const p=await fetch("/api/users");if(console.log("Users fetch response status:",p.status),p.ok){const v=await p.json();n(v)}}catch(p){console.error("Failed to fetch users:",p)}})()},[]);const u=async h=>{if(r)try{const p=await fetch(`/api/users/${r.phone_number}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(p.ok){const v=await p.json();n(y=>y.map(C=>C.phone_number===v.phone_number?v:C)),i(v)}}catch(p){console.error("Failed to update user:",p)}},c=h=>{i(h),s(!0)},f=e.filter(h=>h.role==="PARTICIPANT");return E.jsxs("div",{className:"animate-fade-in",children:[E.jsxs("div",{className:"flex items-center justify-end gap-4 px-8 py-4 text-gray-800 rounded-xl font-semibold mb-8",children:[E.jsx(ud,{className:"w-5 h-5 text-brand-600"}),E.jsxs("span",{children:["",f.length]})]}),a&&r?E.jsx(_D,{user:r,onUpdate:u,onBack:()=>s(!1)}):E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(h=>E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center hover:shadow-md transition-shadow hover:border-brand-500 hover:bg-brand-50 cursor-pointer",onClick:()=>c(h),children:[E.jsxs("div",{className:"relative inline-block mb-4",children:[E.jsx("div",{className:"w-24 h-24 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-bold text-3xl border-4 border-white shadow-sm",children:h.name.charAt(0)}),E.jsx("div",{className:`absolute bottom-1 right-1 w-5 h-5 rounded-full border-2 border-white ${h.consent_given?"bg-green-500":"bg-red-500"}`})]}),E.jsx("h3",{className:"text-xl font-bold text-gray-900",children:h.name}),E.jsx("p",{className:"text-xs font-semibold text-brand-600 uppercase tracking-widest mt-1 mb-6",children:h.group==="A"?"":h.group==="B"?"":`Group ${h.group}`}),E.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600 border-t pt-6 bg-gray-50 -mx-8 -mb-8 pb-6 px-8 rounded-b-2xl",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-900 text-lg",children:h.assigned_materials_count||0}),E.jsx("span",{className:"text-xs uppercase text-gray-400",children:""})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-900 text-lg",children:t.filter(p=>p.userId===h.phone_number&&p.action==="OPEN_MATERIAL").length}),E.jsx("span",{className:"text-xs uppercase text-gray-400",children:""})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-900 text-lg",children:t.filter(p=>p.userId===h.phone_number&&p.action==="AI_QUERY").length}),E.jsx("span",{className:"text-xs uppercase text-gray-400",children:"AI"})]})]})]},h.phone_number))})]})};function SD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SD(t))&&(r&&(r+=" "),r+=e);return r}var cz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gx(t){if(typeof t!="string")return!1;var e=cz;return e.includes(t)}var fz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dz=new Set(fz);function AD(t){return typeof t!="string"?!1:dz.has(t)}function TD(t){return typeof t=="string"&&t.startsWith("data-")}function ga(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(AD(n)||TD(n))&&(e[n]=t[n]);return e}function yh(t){if(t==null)return null;if(R.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ga(e)}return typeof t=="object"&&!Array.isArray(t)?ga(t):null}function gr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(AD(n)||TD(n)||gx(n))&&(e[n]=t[n]);return e}function hz(t){return t==null?null:R.isValidElement(t)?gr(t.props):typeof t=="object"&&!Array.isArray(t)?gr(t):null}var pz=["children","width","height","viewBox","className","style","title","desc"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(null,arguments)}function mz(t,e){if(t==null)return{};var n,r,i=gz(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var CD=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:u,title:c,desc:f}=t,h=mz(t,pz),p=a||{width:r,height:i,x:0,y:0},v=Jt("recharts-surface",s);return R.createElement("svg",Jv({},gr(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),R.createElement("title",null,c),R.createElement("desc",null,f),n)}),vz=["children","className"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(null,arguments)}function yz(t,e){if(t==null)return{};var n,r,i=xz(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ho=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=yz(t,vz),a=Jt("recharts-layer",r);return R.createElement("g",Qv({className:a},gr(i),{ref:e}),n)}),ND=bN(),bz=R.createContext(null);function Qt(t){return function(){return t}}const DD=Math.cos,Ed=Math.sin,Di=Math.sqrt,_d=Math.PI,xh=2*_d,ey=Math.PI,ty=2*ey,jo=1e-6,wz=ty-jo;function RD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ez(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return RD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _z{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?RD:Ez(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,p=u-n,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>jo)if(!(Math.abs(p*c-f*h)>jo)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,C=i-u,S=c*c+f*f,b=y*y+C*C,T=Math.sqrt(S),D=Math.sqrt(v),I=a*Math.tan((ey-Math.acos((S+v-b)/(2*T*D)))/2),P=I/D,M=I/T;Math.abs(P-1)>jo&&this._append`L${e+P*h},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*y>h*C)},${this._x1=e+M*c},${this._y1=n+M*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>jo||Math.abs(this._y1-h)>jo)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%ty+ty),v>wz?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:v>jo&&this._append`A${r},${r},0,${+(v>=ey)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _z(e)}function yx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ID(t){this._context=t}ID.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bh(t){return new ID(t)}function MD(t){return t[0]}function OD(t){return t[1]}function kD(t,e){var n=Qt(!0),r=null,i=bh,a=null,s=vx(u);t=typeof t=="function"?t:t===void 0?MD:Qt(t),e=typeof e=="function"?e:e===void 0?OD:Qt(e);function u(c){var f,h=(c=yx(c)).length,p,v=!1,y;for(r==null&&(a=i(y=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,c),+e(p,f,c));if(y)return a=null,y+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Qt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Qt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Qt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function Uf(t,e,n){var r=null,i=Qt(!0),a=null,s=bh,u=null,c=vx(f);t=typeof t=="function"?t:t===void 0?MD:Qt(+t),e=typeof e=="function"?e:Qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?OD:Qt(+n);function f(p){var v,y,C,S=(p=yx(p)).length,b,T=!1,D,I=new Array(S),P=new Array(S);for(a==null&&(u=s(D=c())),v=0;v<=S;++v){if(!(v<S&&i(b=p[v],v,p))===T)if(T=!T)y=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),C=v-1;C>=y;--C)u.point(I[C],P[C]);u.lineEnd(),u.areaEnd()}T&&(I[v]=+t(b,v,p),P[v]=+e(b,v,p),u.point(r?+r(b,v,p):I[v],n?+n(b,v,p):P[v]))}if(D)return u=null,D+""||null}function h(){return kD().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Qt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Qt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Qt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Qt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Qt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Qt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Qt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(u=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=u=null:u=s(a=p),f):a},f}class PD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Sz(t){return new PD(t,!0)}function Az(t){return new PD(t,!1)}const xx={draw(t,e){const n=Di(e/_d);t.moveTo(n,0),t.arc(0,0,n,0,xh)}},Tz={draw(t,e){const n=Di(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},LD=Di(1/3),Cz=LD*2,Nz={draw(t,e){const n=Di(e/Cz),r=n*LD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Dz={draw(t,e){const n=Di(e),r=-n/2;t.rect(r,r,n,n)}},Rz=.8908130915292852,UD=Ed(_d/10)/Ed(7*_d/10),Iz=Ed(xh/10)*UD,Mz=-DD(xh/10)*UD,Oz={draw(t,e){const n=Di(e*Rz),r=Iz*n,i=Mz*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=xh*a/5,u=DD(s),c=Ed(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},rg=Di(3),kz={draw(t,e){const n=-Di(e/(rg*3));t.moveTo(0,n*2),t.lineTo(-rg*n,-n),t.lineTo(rg*n,-n),t.closePath()}},ri=-.5,ii=Di(3)/2,ny=1/Di(12),Pz=(ny/2+1)*3,Lz={draw(t,e){const n=Di(e/Pz),r=n/2,i=n*ny,a=r,s=n*ny+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(ri*r-ii*i,ii*r+ri*i),t.lineTo(ri*a-ii*s,ii*a+ri*s),t.lineTo(ri*u-ii*c,ii*u+ri*c),t.lineTo(ri*r+ii*i,ri*i-ii*r),t.lineTo(ri*a+ii*s,ri*s-ii*a),t.lineTo(ri*u+ii*c,ri*c-ii*u),t.closePath()}};function Uz(t,e){let n=null,r=vx(i);t=typeof t=="function"?t:Qt(t||xx),e=typeof e=="function"?e:Qt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Qt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Sd(){}function Ad(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function BD(t){this._context=t}BD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ad(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ad(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bz(t){return new BD(t)}function jD(t){this._context=t}jD.prototype={areaStart:Sd,areaEnd:Sd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ad(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jz(t){return new jD(t)}function zD(t){this._context=t}zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ad(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zz(t){return new zD(t)}function FD(t){this._context=t}FD.prototype={areaStart:Sd,areaEnd:Sd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Fz(t){return new FD(t)}function dA(t){return t<0?-1:1}function hA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(dA(a)+dA(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function pA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ig(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function Td(t){this._context=t}Td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ig(this,this._t0,pA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ig(this,pA(this,n=hA(this,t,e)),n);break;default:ig(this,this._t0,n=hA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function qD(t){this._context=new HD(t)}(qD.prototype=Object.create(Td.prototype)).point=function(t,e){Td.prototype.point.call(this,e,t)};function HD(t){this._context=t}HD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function qz(t){return new Td(t)}function Hz(t){return new qD(t)}function GD(t){this._context=t}GD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mA(t),i=mA(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mA(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Gz(t){return new GD(t)}function wh(t,e){this._context=t,this._t=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Vz(t){return new wh(t,.5)}function $z(t){return new wh(t,0)}function Yz(t){return new wh(t,1)}function fl(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ry(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Wz(t,e){return t[e]}function Kz(t){const e=[];return e.key=t,e}function Xz(){var t=Qt([]),e=ry,n=fl,r=Wz;function i(a){var s=Array.from(t.apply(this,arguments),Kz),u,c=s.length,f=-1,h;for(const p of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,a)]).data=p;for(u=0,h=yx(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Qt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?ry:typeof a=="function"?a:Qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??fl,i):n},i}function Zz(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}fl(t,e)}}function Jz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}fl(t,e)}}function Qz(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,v=h[r-1][1]||0,y=(p-v)/2,C=0;C<u;++C){var S=t[e[C]],b=S[r][1]||0,T=S[r-1][1]||0;y+=b-T}c+=p,f+=y*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,fl(t,e)}}var ag={},og={},gA;function eF(){return gA||(gA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(og)),og}var sg={},vA;function VD(){return vA||(vA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(sg)),sg}var lg={},yA;function bx(){return yA||(yA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(lg)),lg}var ug={},cg={},xA;function tF(){return xA||(xA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(cg)),cg}var bA;function wx(){return bA||(bA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tF(),n=bx();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let u=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<s;){const p=i[u];f?p==="\\"&&u+1<s?(u++,c+=i[u]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,u++}return c&&a.push(c),a}t.toPath=r})(ug)),ug}var wA;function Ex(){return wA||(wA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eF(),n=VD(),r=bx(),i=wx();function a(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return s(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function s(u,c,f){if(c.length===0)return f;let h=u;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=a})(ag)),ag}var fg,EA;function nF(){return EA||(EA=1,fg=Ex().get),fg}var rF=nF();const Eh=hr(rF);var Si=t=>t===0?0:t>0?1:-1,va=t=>typeof t=="number"&&t!=+t,ya=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,dt=t=>(typeof t=="number"||t instanceof Number)&&!va(t),zi=t=>dt(t)||typeof t=="string",iF=0,Bu=t=>{var e=++iF;return"".concat(t||"").concat(e)},po=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(e)&&typeof e!="string")return r;var a;if(ya(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return va(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},$D=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Cr(t,e,n){return dt(t)&&dt(e)?t+n*(e-t):e}function YD(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Eh(r,e))===n)}var $n=t=>t===null||typeof t>"u",nc=t=>$n(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function aF(t){return t!=null}function rc(){}var oF=["type","size","sizeType"];function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(null,arguments)}function _A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(n),!0).forEach(function(r){sF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sF(t,e,n){return(e=lF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lF(t){var e=uF(t,"string");return typeof e=="symbol"?e:e+""}function uF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cF(t,e){if(t==null)return{};var n,r,i=fF(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WD={symbolCircle:xx,symbolCross:Tz,symbolDiamond:Nz,symbolSquare:Dz,symbolStar:Oz,symbolTriangle:kz,symbolWye:Lz},dF=Math.PI/180,hF=t=>{var e="symbol".concat(nc(t));return WD[e]||xx},pF=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*dF;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mF=(t,e)=>{WD["symbol".concat(nc(t))]=e},KD=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=cF(t,oF),a=SA(SA({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var u=()=>{var v=hF(s),y=Uz().type(v).size(pF(n,r,s)),C=y();if(C!==null)return C},{className:c,cx:f,cy:h}=a,p=gr(a);return dt(f)&&dt(h)&&dt(n)?R.createElement("path",iy({},p,{className:Jt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};KD.registerSymbol=mF;var XD=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,_x=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{gx(i)&&(r[i]=(a=>n[i](n,a)))}),r},gF=(t,e,n)=>r=>(t(e,n,r),null),vF=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];gx(i)&&typeof a=="function"&&(r||(r={}),r[i]=gF(a,e,n))}),r};function AA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AA(Object(n),!0).forEach(function(r){xF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xF(t,e,n){return(e=bF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bF(t){var e=wF(t,"string");return typeof e=="symbol"?e:e+""}function wF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gr(t,e){var n=yF({},t),r=e,i=Object.keys(e),a=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return a}var dg={},hg={},TA;function EF(){return TA||(TA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(hg)),hg}var pg={},CA;function ZD(){return CA||(CA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(pg)),pg}var mg={},gg={},vg={},NA;function _F(){return NA||(NA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(vg)),vg}var DA;function Sx(){return DA||(DA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_F();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(gg)),gg}var yg={},RA;function SF(){return RA||(RA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(yg)),yg}var IA;function AF(){return IA||(IA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sx(),n=SF();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(mg)),mg}var xg={},bg={},MA;function TF(){return MA||(MA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ex();function n(r){return function(i){return e.get(i,r)}}t.property=n})(bg)),bg}var wg={},Eg={},_g={},Sg={},OA;function JD(){return OA||(OA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Sg)),Sg}var Ag={},kA;function QD(){return kA||(kA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Ag)),Ag}var Tg={},PA;function e3(){return PA||(PA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Tg)),Tg}var LA;function CF(){return LA||(LA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JD(),n=QD(),r=e3();function i(h,p,v){return typeof v!="function"?i(h,p,()=>{}):a(h,p,function y(C,S,b,T,D,I){const P=v(C,S,b,T,D,I);return P!==void 0?!!P:a(C,S,y,I)},new Map)}function a(h,p,v,y){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,v,y);case"function":return Object.keys(p).length>0?a(h,{...p},v,y):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function s(h,p,v,y){if(p==null)return!0;if(Array.isArray(p))return c(h,p,v,y);if(p instanceof Map)return u(h,p,v,y);if(p instanceof Set)return f(h,p,v,y);const C=Object.keys(p);if(h==null)return C.length===0;if(C.length===0)return!0;if(y!=null&&y.has(p))return y.get(p)===h;y==null||y.set(p,h);try{for(let S=0;S<C.length;S++){const b=C[S];if(!n.isPrimitive(h)&&!(b in h)||p[b]===void 0&&h[b]!==void 0||p[b]===null&&h[b]!==null||!v(h[b],p[b],b,h,p,y))return!1}return!0}finally{y==null||y.delete(p)}}function u(h,p,v,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[C,S]of p.entries()){const b=h.get(C);if(v(b,S,C,h,p,y)===!1)return!1}return!0}function c(h,p,v,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const C=new Set;for(let S=0;S<p.length;S++){const b=p[S];let T=!1;for(let D=0;D<h.length;D++){if(C.has(D))continue;const I=h[D];let P=!1;if(v(I,b,S,h,p,y)&&(P=!0),P){C.add(D),T=!0;break}}if(!T)return!1}return!0}function f(h,p,v,y){return p.size===0?!0:h instanceof Set?c([...h],[...p],v,y):!1}t.isMatchWith=i,t.isSetMatch=f})(_g)),_g}var UA;function t3(){return UA||(UA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CF();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Eg)),Eg}var Cg={},Ng={},Dg={},BA;function NF(){return BA||(BA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Dg)),Dg}var Rg={},jA;function n3(){return jA||(jA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Rg)),Rg}var Ig={},zA;function r3(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",y="[object Object]",C="[object Error]",S="[object DataView]",b="[object Uint8Array]",T="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",P="[object BigUint64Array]",M="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",z="[object BigInt64Array]",B="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=P,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=C,t.float32ArrayTag=B,t.float64ArrayTag=q,t.functionTag=p,t.int16ArrayTag=O,t.int32ArrayTag=L,t.int8ArrayTag=M,t.mapTag=c,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=D,t.uint32ArrayTag=I,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=T})(Ig)),Ig}var Mg={},FA;function DF(){return FA||(FA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Mg)),Mg}var qA;function i3(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NF(),n=n3(),r=r3(),i=QD(),a=DF();function s(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,v,y=new Map,C=void 0){const S=C==null?void 0:C(h,p,v,y);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const b=new Array(h.length);y.set(h,b);for(let T=0;T<h.length;T++)b[T]=u(h[T],T,v,y,C);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;y.set(h,b);for(const[T,D]of h)b.set(T,u(D,T,v,y,C));return b}if(h instanceof Set){const b=new Set;y.set(h,b);for(const T of h)b.add(u(T,void 0,v,y,C));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,b);for(let T=0;T<h.length;T++)b[T]=u(h[T],T,v,y,C);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,b),c(b,h,v,y,C),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return y.set(h,b),c(b,h,v,y,C),b}if(typeof Blob<"u"&&h instanceof Blob){const b=new Blob([h],{type:h.type});return y.set(h,b),c(b,h,v,y,C),b}if(h instanceof Error){const b=new h.constructor;return y.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,c(b,h,v,y,C),b}if(h instanceof Boolean){const b=new Boolean(h.valueOf());return y.set(h,b),c(b,h,v,y,C),b}if(h instanceof Number){const b=new Number(h.valueOf());return y.set(h,b),c(b,h,v,y,C),b}if(h instanceof String){const b=new String(h.valueOf());return y.set(h,b),c(b,h,v,y,C),b}if(typeof h=="object"&&f(h)){const b=Object.create(Object.getPrototypeOf(h));return y.set(h,b),c(b,h,v,y,C),b}return h}function c(h,p,v=h,y,C){const S=[...Object.keys(p),...e.getSymbols(p)];for(let b=0;b<S.length;b++){const T=S[b],D=Object.getOwnPropertyDescriptor(h,T);(D==null||D.writable)&&(h[T]=u(p[T],T,v,y,C))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(Ng)),Ng}var HA;function RF(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Cg)),Cg}var GA;function IF(){return GA||(GA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t3(),n=RF();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(wg)),wg}var Og={},kg={},Pg={},VA;function MF(){return VA||(VA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i3(),n=r3();function r(i,a){return e.cloneDeepWith(i,(s,u,c,f)=>{const h=a==null?void 0:a(s,u,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Pg)),Pg}var $A;function OF(){return $A||($A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MF();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(kg)),kg}var Lg={},Ug={},YA;function a3(){return YA||(YA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Ug)),Ug}var Bg={},WA;function kF(){return WA||(WA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n3();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Bg)),Bg}var KA;function PF(){return KA||(KA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VD(),n=a3(),r=kF(),i=wx();function a(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=s;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(Lg)),Lg}var XA;function LF(){return XA||(XA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t3(),n=bx(),r=OF(),i=Ex(),a=PF();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?a.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(Og)),Og}var ZA;function UF(){return ZA||(ZA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZD(),n=TF(),r=IF(),i=LF();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(xg)),xg}var JA;function BF(){return JA||(JA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EF(),n=ZD(),r=AF(),i=UF();function a(s,u=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(u)):[]}t.uniqBy=a})(dg)),dg}var jg,QA;function jF(){return QA||(QA=1,jg=BF().uniqBy),jg}var zF=jF();const eT=hr(zF);function FF(t,e,n){return e===!0?eT(t,n):typeof e=="function"?eT(t,e):t}var zg={exports:{}},Fg={},qg={exports:{}},Hg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function qF(){if(tT)return Hg;tT=1;var t=yl();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function u(p,v){var y=v(),C=r({inst:{value:y,getSnapshot:v}}),S=C[0].inst,b=C[1];return a(function(){S.value=y,S.getSnapshot=v,c(S)&&b({inst:S})},[p,y,v]),i(function(){return c(S)&&b({inst:S}),p(function(){c(S)&&b({inst:S})})},[p]),s(y),y}function c(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!n(p,y)}catch{return!0}}function f(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Hg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Hg}var nT;function HF(){return nT||(nT=1,qg.exports=qF()),qg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function GF(){if(rT)return Fg;rT=1;var t=yl(),e=HF();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Fg.useSyncExternalStoreWithSelector=function(f,h,p,v,y){var C=a(null);if(C.current===null){var S={hasValue:!1,value:null};C.current=S}else S=C.current;C=u(function(){function T(O){if(!D){if(D=!0,I=O,O=v(O),y!==void 0&&S.hasValue){var L=S.value;if(y(L,O))return P=L}return P=O}if(L=P,r(I,O))return L;var z=v(O);return y!==void 0&&y(L,z)?(I=O,L):(I=O,P=z)}var D=!1,I,P,M=p===void 0?null:p;return[function(){return T(h())},M===null?void 0:function(){return T(M())}]},[h,p,v,y]);var b=i(f,C[0],C[1]);return s(function(){S.hasValue=!0,S.value=b},[b]),c(b),b},Fg}var iT;function VF(){return iT||(iT=1,zg.exports=GF()),zg.exports}var $F=VF(),Ax=R.createContext(null),YF=t=>t,Wn=()=>{var t=R.useContext(Ax);return t?t.store.dispatch:YF},id=()=>{},WF=()=>id,KF=(t,e)=>t===e;function lt(t){var e=R.useContext(Ax);return $F.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:WF,e?e.store.getState:id,e?e.store.getState:id,e?t:id,KF)}function XF(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ZF(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function JF(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var aT=t=>Array.isArray(t)?t:[t];function QF(t){const e=Array.isArray(t[0])?t[0]:t;return JF(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function eq(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var tq=class{constructor(t){this.value=t}deref(){return this.value}},nq=typeof WeakRef<"u"?WeakRef:tq,rq=0,oT=1;function Bf(){return{s:rq,v:void 0,o:null,p:null}}function o3(t,e={}){let n=Bf();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let u=n;const{length:c}=arguments;for(let v=0,y=c;v<y;v++){const C=arguments[v];if(typeof C=="function"||typeof C=="object"&&C!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const b=S.get(C);b===void 0?(u=Bf(),S.set(C,u)):u=b}else{let S=u.p;S===null&&(u.p=S=new Map);const b=S.get(C);b===void 0?(u=Bf(),S.set(C,u)):u=b}}const f=u;let h;if(u.s===oT)h=u.v;else if(h=t.apply(null,arguments),a++,r){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&r(v,h)&&(h=v,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new nq(h):h}return f.s=oT,f.v=h,h}return s.clearCache=()=>{n=Bf(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function iq(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),XF(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:y=o3,argsMemoizeOptions:C=[]}=h,S=aT(v),b=aT(C),T=QF(i),D=p(function(){return a++,f.apply(null,arguments)},...S),I=y(function(){s++;const M=eq(T,arguments);return u=D.apply(null,M),u},...b);return Object.assign(I,{resultFunc:f,memoizedResultFunc:D,dependencies:T,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var Se=iq(o3),aq=Object.assign((t,e=Se)=>{ZF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>aq}),Gg={},Vg={},$g={},sT;function oq(){return sT||(sT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-s:s-u}return 0};t.compareValues=n})($g)),$g}var Yg={},Wg={},lT;function s3(){return lT||(lT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Wg)),Wg}var uT;function sq(){return uT||(uT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(Yg)),Yg}var cT;function lq(){return cT||(cT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oq(),n=sq(),r=wx();function i(a,s,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,C)=>{let S=y;for(let b=0;b<C.length&&S!=null;++b)S=S[C[b]];return S},h=(y,C)=>C==null||y==null?C:typeof y=="object"&&"key"in y?Object.hasOwn(C,y.key)?C[y.key]:f(C,y.path):typeof y=="function"?y(C):Array.isArray(y)?f(C,y):typeof C=="object"?C[y]:C,p=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(C=>h(C,y))})).slice().sort((y,C)=>{for(let S=0;S<p.length;S++){const b=e.compareValues(y.criteria[S],C.criteria[S],u[S]);if(b!==0)return b}return 0}).map(y=>y.original)}t.orderBy=i})(Vg)),Vg}var Kg={},fT;function uq(){return fT||(fT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<a?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(Kg)),Kg}var Xg={},dT;function l3(){return dT||(dT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a3(),n=Sx(),r=JD(),i=e3();function a(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],s):!1}t.isIterateeCall=a})(Xg)),Xg}var hT;function cq(){return hT||(hT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lq(),n=uq(),r=l3();function i(a,...s){const u=s.length;return u>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(Gg)),Gg}var Zg,pT;function fq(){return pT||(pT=1,Zg=cq().sortBy),Zg}var dq=fq();const _h=hr(dq);var u3=t=>t.legend.settings,hq=t=>t.legend.size,pq=t=>t.legend.payload;Se([pq,u3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?_h(r,n):r});var jf=1;function mq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>jf||Math.abs(s.left-e.left)>jf||Math.abs(s.top-e.top)>jf||Math.abs(s.width-e.width)>jf)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function tr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var gq=typeof Symbol=="function"&&Symbol.observable||"@@observable",mT=gq,Jg=()=>Math.random().toString(36).substring(7).split("").join("."),vq={INIT:`@@redux/INIT${Jg()}`,REPLACE:`@@redux/REPLACE${Jg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jg()}`},Cd=vq;function Tx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function c3(t,e,n){if(typeof t!="function")throw new Error(tr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tr(1));return n(c3)(t,e)}let r=t,i=e,a=new Map,s=a,u=0,c=!1;function f(){s===a&&(s=new Map,a.forEach((b,T)=>{s.set(T,b)}))}function h(){if(c)throw new Error(tr(3));return i}function p(b){if(typeof b!="function")throw new Error(tr(4));if(c)throw new Error(tr(5));let T=!0;f();const D=u++;return s.set(D,b),function(){if(T){if(c)throw new Error(tr(6));T=!1,f(),s.delete(D),a=null}}}function v(b){if(!Tx(b))throw new Error(tr(7));if(typeof b.type>"u")throw new Error(tr(8));if(typeof b.type!="string")throw new Error(tr(17));if(c)throw new Error(tr(9));try{c=!0,i=r(i,b)}finally{c=!1}return(a=s).forEach(D=>{D()}),b}function y(b){if(typeof b!="function")throw new Error(tr(10));r=b,v({type:Cd.REPLACE})}function C(){const b=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(tr(11));function D(){const P=T;P.next&&P.next(h())}return D(),{unsubscribe:b(D)}},[mT](){return this}}}return v({type:Cd.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:y,[mT]:C}}function yq(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Cd.INIT})>"u")throw new Error(tr(12));if(typeof n(void 0,{type:Cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tr(13))})}function f3(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{yq(n)}catch(a){i=a}return function(s={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],v=n[p],y=s[p],C=v(y,u);if(typeof C>"u")throw u&&u.type,new Error(tr(14));f[p]=C,c=c||C!==y}return c=c||r.length!==Object.keys(s).length,c?f:s}}function Nd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function xq(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(tr(15))};const s={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},u=t.map(c=>c(s));return a=Nd(...u)(i.dispatch),{...i,dispatch:a}}}function d3(t){return Tx(t)&&"type"in t&&typeof t.type=="string"}var h3=Symbol.for("immer-nothing"),gT=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function wi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Fr=Object,dl=Fr.getPrototypeOf,Dd="constructor",Sh="prototype",ay="configurable",Rd="enumerable",ad="writable",ju="value",xa=t=>!!t&&!!t[vr];function Ci(t){var e;return t?p3(t)||Ah(t)||!!t[gT]||!!((e=t[Dd])!=null&&e[gT])||Th(t)||Ch(t):!1}var bq=Fr[Sh][Dd].toString(),vT=new WeakMap;function p3(t){if(!t||!Cx(t))return!1;const e=dl(t);if(e===null||e===Fr[Sh])return!0;const n=Fr.hasOwnProperty.call(e,Dd)&&e[Dd];if(n===Object)return!0;if(!Js(n))return!1;let r=vT.get(n);return r===void 0&&(r=Function.toString.call(n),vT.set(n,r)),r===bq}function ic(t,e,n=!0){ac(t)===0?(n?Reflect.ownKeys(t):Fr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function ac(t){const e=t[vr];return e?e.type_:Ah(t)?1:Th(t)?2:Ch(t)?3:0}var yT=(t,e,n=ac(t))=>n===2?t.has(e):Fr[Sh].hasOwnProperty.call(t,e),oy=(t,e,n=ac(t))=>n===2?t.get(e):t[e],Id=(t,e,n,r=ac(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function wq(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ah=Array.isArray,Th=t=>t instanceof Map,Ch=t=>t instanceof Set,Cx=t=>typeof t=="object",Js=t=>typeof t=="function",Qg=t=>typeof t=="boolean",sa=t=>t.copy_||t.base_,Nx=t=>t.modified_?t.copy_:t.base_;function sy(t,e){if(Th(t))return new Map(t);if(Ch(t))return new Set(t);if(Ah(t))return Array[Sh].slice.call(t);const n=p3(t);if(e===!0||e==="class_only"&&!n){const r=Fr.getOwnPropertyDescriptors(t);delete r[vr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u[ad]===!1&&(u[ad]=!0,u[ay]=!0),(u.get||u.set)&&(r[s]={[ay]:!0,[ad]:!0,[Rd]:u[Rd],[ju]:t[s]})}return Fr.create(dl(t),r)}else{const r=dl(t);if(r!==null&&n)return{...t};const i=Fr.create(r);return Fr.assign(i,t)}}function Dx(t,e=!1){return Nh(t)||xa(t)||!Ci(t)||(ac(t)>1&&Fr.defineProperties(t,{set:zf,add:zf,clear:zf,delete:zf}),Fr.freeze(t),e&&ic(t,(n,r)=>{Dx(r,!0)},!1)),t}function Eq(){wi(2)}var zf={[ju]:Eq};function Nh(t){return t===null||!Cx(t)?!0:Fr.isFrozen(t)}var Md="MapSet",ly="Patches",m3={};function hl(t){const e=m3[t];return e||wi(0,t),e}var _q=t=>!!m3[t],zu,g3=()=>zu,Sq=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_q(Md)?hl(Md):void 0});function xT(t,e){e&&(t.patchPlugin_=hl(ly),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function uy(t){cy(t),t.drafts_.forEach(Aq),t.drafts_=null}function cy(t){t===zu&&(zu=t.parent_)}var bT=t=>zu=Sq(zu,t);function Aq(t){const e=t[vr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[vr].modified_&&(uy(e),wi(4)),Ci(t)&&(t=ET(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[vr].base_,t,e)}else t=ET(e,n);return Tq(e,t,!0),uy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==h3?t:void 0}function ET(t,e){if(Nh(e))return e;const n=e[vr];if(!n)return Rx(e,t.handledSet_,t);if(!Dh(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);x3(n,t)}return n.copy_}function Tq(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Dx(e,n)}function v3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Dh=(t,e)=>t.scope_===e,Cq=[];function y3(t,e,n,r){const i=sa(t),a=t.type_;if(r!==void 0&&oy(i,r,a)===e){Id(i,r,n,a);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;ic(i,(c,f)=>{if(xa(f)){const h=u.get(f)||[];h.push(c),u.set(f,h)}})}const s=t.draftLocations_.get(e)??Cq;for(const u of s)Id(i,u,n,a)}function Nq(t,e,n){t.callbacks_.push(function(i){var u;const a=e;if(!a||!Dh(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const s=Nx(a);y3(t,a.draft_??a,s,n),x3(a,i)})}function x3(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}v3(t)}}function Dq(t,e,n){const{scope_:r}=t;if(xa(n)){const i=n[vr];Dh(i,r)&&i.callbacks_.push(function(){od(t);const s=Nx(i);y3(t,n,s,e)})}else Ci(n)&&t.callbacks_.push(function(){const a=sa(t);oy(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Rx(oy(t.copy_,e,t.type_),r.handledSet_,r)})}function Rx(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||xa(t)||e.has(t)||!Ci(t)||Nh(t)||(e.add(t),ic(t,(r,i)=>{if(xa(i)){const a=i[vr];if(Dh(a,n)){const s=Nx(a);Id(t,r,s,t.type_),v3(a)}}else Ci(i)&&Rx(i,e,n)})),t}function Rq(t,e){const n=Ah(t),r={type_:n?1:0,scope_:e?e.scope_:g3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Ix;n&&(i=[r],a=Fu);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,[u,r]}var Ix={get(t,e){if(e===vr)return t;const n=sa(t);if(!yT(n,e,t.type_))return Iq(t,n,e);const r=n[e];if(t.finalized_||!Ci(r))return r;if(r===ev(t.base_,e)){od(t);const i=t.type_===1?+e:e,a=dy(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in sa(t)},ownKeys(t){return Reflect.ownKeys(sa(t))},set(t,e,n){const r=b3(sa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=ev(sa(t),e),a=i==null?void 0:i[vr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(wq(n,i)&&(n!==void 0||yT(t.base_,e,t.type_)))return!0;od(t),fy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Dq(t,e,n)),!0},deleteProperty(t,e){return od(t),ev(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),fy(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=sa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[ad]:!0,[ay]:t.type_!==1||e!=="length",[Rd]:r[Rd],[ju]:n[e]}},defineProperty(){wi(11)},getPrototypeOf(t){return dl(t.base_)},setPrototypeOf(){wi(12)}},Fu={};ic(Ix,(t,e)=>{Fu[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Fu.deleteProperty=function(t,e){return Fu.set.call(this,t,e,void 0)};Fu.set=function(t,e,n){return Ix.set.call(this,t[0],e,n,t[0])};function ev(t,e){const n=t[vr];return(n?sa(n):t)[e]}function Iq(t,e,n){var i;const r=b3(e,n);return r?ju in r?r[ju]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function b3(t,e){if(!(e in t))return;let n=dl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=dl(n)}}function fy(t){t.modified_||(t.modified_=!0,t.parent_&&fy(t.parent_))}function od(t){t.copy_||(t.assigned_=new Map,t.copy_=sy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Mq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Js(n)&&!Js(r)){const s=r;r=n;const u=this;return function(f=s,...h){return u.produce(f,p=>r.call(this,p,...h))}}Js(r)||wi(6),i!==void 0&&!Js(i)&&wi(7);let a;if(Ci(n)){const s=bT(this),u=dy(s,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?uy(s):cy(s)}return xT(s,i),wT(a,s)}else if(!n||!Cx(n)){if(a=r(n),a===void 0&&(a=n),a===h3&&(a=void 0),this.autoFreeze_&&Dx(a,!0),i){const s=[],u=[];hl(ly).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:u}),i(s,u)}return a}else wi(1,n)},this.produceWithPatches=(n,r)=>{if(Js(n))return(u,...c)=>this.produceWithPatches(u,f=>n(f,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},Qg(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Qg(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Qg(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ci(e)||wi(8),xa(e)&&(e=Ti(e));const n=bT(this),r=dy(n,e,void 0);return r[vr].isManual_=!0,cy(n),r}finishDraft(e,n){const r=e&&e[vr];(!r||!r.isManual_)&&wi(9);const{scope_:i}=r;return xT(i,n),wT(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=hl(ly).applyPatches_;return xa(e)?i(e,n):this.produce(e,a=>i(a,n))}};function dy(t,e,n,r){const[i,a]=Th(e)?hl(Md).proxyMap_(e,n):Ch(e)?hl(Md).proxySet_(e,n):Rq(e,n);return((n==null?void 0:n.scope_)??g3()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?Nq(n,a,r):a.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:f}=c;a.modified_&&f&&f.generatePatches_(a,[],c)}),i}function Ti(t){return xa(t)||wi(10,t),w3(t)}function w3(t){if(!Ci(t)||Nh(t))return t;const e=t[vr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=sy(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=sy(t,!0);return ic(n,(i,a)=>{Id(n,i,w3(a))},r),e&&(e.finalized_=!1),n}var Oq=new Mq,E3=Oq.produce;function _3(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var kq=_3(),Pq=_3,Lq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nd:Nd.apply(null,arguments)};function ui(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(qr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>d3(r)&&r.type===t,n}var S3=class Mu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Mu.prototype)}static get[Symbol.species](){return Mu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Mu(...e[0].concat(this)):new Mu(...e.concat(this))}};function _T(t){return Ci(t)?E3(t,()=>{}):t}function Ff(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Uq(t){return typeof t=="boolean"}var Bq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new S3;return n&&(Uq(n)?s.push(kq):s.push(Pq(n.extraArgument))),s},A3="RTK_autoBatch",cn=()=>t=>({payload:t,meta:{[A3]:!0}}),ST=t=>e=>{setTimeout(e,t)},T3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ST(10):t.type==="callback"?t.queueNotification:ST(t.timeout),f=()=>{s=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),v=r.subscribe(p);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[A3]),a=!i,a&&(s||(s=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},jq=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new S3(t);return r&&i.push(T3(typeof r=="object"?r:void 0)),i};function zq(t){const e=Bq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Tx(n))u=f3(n);else throw new Error(qr(1));let c;typeof r=="function"?c=r(e):c=e();let f=Nd;i&&(f=Lq({trace:!1,...typeof i=="object"&&i}));const h=xq(...c),p=jq(h);let v=typeof s=="function"?s(p):p();const y=f(...v);return c3(u,a,y)}function C3(t){const e={},n=[];let r;const i={addCase(a,s){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(qr(28));if(u in e)throw new Error(qr(29));return e[u]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Fq(t){return typeof t=="function"}function qq(t,e){let[n,r,i]=C3(e),a;if(Fq(t))a=()=>_T(t());else{const u=_T(t);a=()=>u}function s(u=a(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(xa(h)){const y=p(h,c);return y===void 0?h:y}else{if(Ci(h))return E3(h,v=>p(v,c));{const v=p(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return s.getInitialState=a,s}var Hq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gq=(t=21)=>{let e="",n=t;for(;n--;)e+=Hq[Math.random()*64|0];return e},Vq=Symbol.for("rtk-slice-createasyncthunk");function $q(t,e){return`${t}/${e}`}function Yq({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Vq];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(qr(11));const u=(typeof i.reducers=="function"?i.reducers(Kq()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,M){const O=typeof P=="string"?P:P.type;if(!O)throw new Error(qr(12));if(O in f.sliceCaseReducersByType)throw new Error(qr(13));return f.sliceCaseReducersByType[O]=M,h},addMatcher(P,M){return f.sliceMatchers.push({matcher:P,reducer:M}),h},exposeAction(P,M){return f.actionCreators[P]=M,h},exposeCaseReducer(P,M){return f.sliceCaseReducersByName[P]=M,h}};c.forEach(P=>{const M=u[P],O={reducerName:P,type:$q(a,P),createNotation:typeof i.reducers=="function"};Zq(M)?Qq(O,M,h,e):Xq(O,M,h)});function p(){const[P={},M=[],O=void 0]=typeof i.extraReducers=="function"?C3(i.extraReducers):[i.extraReducers],L={...P,...f.sliceCaseReducersByType};return qq(i.initialState,z=>{for(let B in L)z.addCase(B,L[B]);for(let B of f.sliceMatchers)z.addMatcher(B.matcher,B.reducer);for(let B of M)z.addMatcher(B.matcher,B.reducer);O&&z.addDefaultCase(O)})}const v=P=>P,y=new Map,C=new WeakMap;let S;function b(P,M){return S||(S=p()),S(P,M)}function T(){return S||(S=p()),S.getInitialState()}function D(P,M=!1){function O(z){let B=z[P];return typeof B>"u"&&M&&(B=Ff(C,O,T)),B}function L(z=v){const B=Ff(y,M,()=>new WeakMap);return Ff(B,z,()=>{const q={};for(const[Y,W]of Object.entries(i.selectors??{}))q[Y]=Wq(W,z,()=>Ff(C,z,T),M);return q})}return{reducerPath:P,getSelectors:L,get selectors(){return L(O)},selectSlice:O}}const I={name:a,reducer:b,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:T,...D(s),injectInto(P,{reducerPath:M,...O}={}){const L=M??s;return P.inject({reducerPath:L,reducer:b},O),{...I,...D(L,!0)}}};return I}}function Wq(t,e,n,r){function i(a,...s){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Rr=Yq();function Kq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Xq({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Jq(r))throw new Error(qr(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?ui(t,s):ui(t))}function Zq(t){return t._reducerDefinitionType==="asyncThunk"}function Jq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Qq({type:t,reducerName:e},n,r,i){if(!i)throw new Error(qr(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:c,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||qf,pending:u||qf,rejected:c||qf,settled:f||qf})}function qf(){}var eH="task",N3="listener",D3="completed",Mx="cancelled",tH=`task-${Mx}`,nH=`task-${D3}`,hy=`${N3}-${Mx}`,rH=`${N3}-${D3}`,Rh=class{constructor(t){s0(this,"name","TaskAbortError");s0(this,"message");this.code=t,this.message=`${eH} ${Mx} (reason: ${t})`}},Ox=(t,e)=>{if(typeof t!="function")throw new TypeError(qr(32))},Od=()=>{},R3=(t,e=Od)=>(t.catch(e),t),I3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Vo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},$o=t=>{if(t.aborted){const{reason:e}=t;throw new Rh(e)}};function M3(t,e){let n=Od;return new Promise((r,i)=>{const a=()=>i(new Rh(t.reason));if(t.aborted){a();return}n=I3(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Od})}var iH=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Rh?"cancelled":"rejected",error:n}}finally{e==null||e()}},kd=t=>e=>R3(M3(t,e).then(n=>($o(t),n))),O3=t=>{const e=kd(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:sl}=Object,AT={},Ih="listenerMiddleware",aH=(t,e)=>{const n=r=>I3(t,()=>Vo(r,t.reason));return(r,i)=>{Ox(r);const a=new AbortController;n(a);const s=iH(async()=>{$o(t),$o(a.signal);const u=await r({pause:kd(a.signal),delay:O3(a.signal),signal:a.signal});return $o(a.signal),u},()=>Vo(a,nH));return i!=null&&i.autoJoin&&e.push(s.catch(Od)),{result:kd(t)(s),cancel(){Vo(a,tH)}}}},oH=(t,e)=>{const n=async(r,i)=>{$o(e);let a=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await M3(e,Promise.race(u));return $o(e),c}finally{a()}};return(r,i)=>R3(n(r,i))},k3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=ui(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(qr(21));return Ox(a),{predicate:i,type:e,effect:a}},P3=sl(t=>{const{type:e,predicate:n,effect:r}=k3(t);return{id:Gq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(qr(22))}}},{withTypes:()=>P3}),TT=(t,e)=>{const{type:n,effect:r,predicate:i}=k3(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},py=t=>{t.pending.forEach(e=>{Vo(e,hy)})},sH=(t,e)=>()=>{for(const n of e.keys())py(n);t.clear()},CT=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},L3=sl(ui(`${Ih}/add`),{withTypes:()=>L3}),lH=ui(`${Ih}/removeAll`),U3=sl(ui(`${Ih}/remove`),{withTypes:()=>U3}),uH=(...t)=>{console.error(`${Ih}/error`,...t)},oc=(t={})=>{const e=new Map,n=new Map,r=y=>{const C=n.get(y)??0;n.set(y,C+1)},i=y=>{const C=n.get(y)??1;C===1?n.delete(y):n.set(y,C-1)},{extra:a,onError:s=uH}=t;Ox(s);const u=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),C=>{y.unsubscribe(),C!=null&&C.cancelActive&&py(y)}),c=y=>{const C=TT(e,y)??P3(y);return u(C)};sl(c,{withTypes:()=>c});const f=y=>{const C=TT(e,y);return C&&(C.unsubscribe(),y.cancelActive&&py(C)),!!C};sl(f,{withTypes:()=>f});const h=async(y,C,S,b)=>{const T=new AbortController,D=oH(c,T.signal),I=[];try{y.pending.add(T),r(y),await Promise.resolve(y.effect(C,sl({},S,{getOriginalState:b,condition:(P,M)=>D(P,M).then(Boolean),take:D,delay:O3(T.signal),pause:kd(T.signal),extra:a,signal:T.signal,fork:aH(T.signal,I),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,M,O)=>{P!==T&&(Vo(P,hy),O.delete(P))})},cancel:()=>{Vo(T,hy),y.pending.delete(T)},throwIfCancelled:()=>{$o(T.signal)}})))}catch(P){P instanceof Rh||CT(s,P,{raisedBy:"effect"})}finally{await Promise.all(I),Vo(T,rH),i(y),y.pending.delete(T)}},p=sH(e,n);return{middleware:y=>C=>S=>{if(!d3(S))return C(S);if(L3.match(S))return c(S.payload);if(lH.match(S)){p();return}if(U3.match(S))return f(S.payload);let b=y.getState();const T=()=>{if(b===AT)throw new Error(qr(23));return b};let D;try{if(D=C(S),e.size>0){const I=y.getState(),P=Array.from(e.values());for(const M of P){let O=!1;try{O=M.predicate(S,I,b)}catch(L){O=!1,CT(s,L,{raisedBy:"predicate"})}O&&h(M,S,y,T)}}}finally{b=AT}return D},startListening:c,stopListening:f,clearListeners:p}};function qr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},B3=Rr({name:"chartLayout",initialState:cH,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:fH,setLayout:dH,setChartSize:hH,setScale:pH}=B3.actions,mH=B3.reducer;function j3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){gH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gH(t,e,n){return(e=vH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vH(t){var e=yH(t,"string");return typeof e=="symbol"?e:e+""}function yH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dr(t,e,n){return $n(t)||$n(e)?n:zi(e)?Eh(t,e,n):typeof e=="function"?e(t):n}var xH=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&a!=="center"&&dt(t[a]))return tl(tl({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&s!=="middle"&&dt(t[s]))return tl(tl({},t),{},{[s]:t[s]+(i||0)})}return t},yo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",DT=1e-4,bH=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-DT,a=Math.max(r[0],r[1])+DT,s=t(e[0]),u=t(e[n-1]);(s<i||s>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},wH=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var u=va(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=i,t[s][n][1]=i+u,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+u,a=t[s][n][1])}},EH=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=va(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},_H={sign:wH,expand:Zz,none:fl,silhouette:Jz,wiggle:Qz,positive:EH},SH=(t,e,n)=>{var r=_H[n],i=Xz().keys(e).value((a,s)=>Number(dr(a,s,0))).order(ry).offset(r);return i(t)};function RT(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$n(i[e.dataKey])){var u=YD(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=dr(i,$n(s)?e.dataKey:s);return $n(c)?null:e.scale(c)}var AH=t=>{var e=t.flat(2).filter(dt);return[Math.min(...e),Math.max(...e)]},TH=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],CH=(t,e,n)=>{if(t!=null)return TH(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,u=s.reduce((c,f)=>{var h=j3(f,e,n),p=AH(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},IT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=_h(e,h=>h.coordinate),a=1/0,s=1,u=i.length;s<u;s++){var c=i[s],f=i[s-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function OT(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return tl(tl({},e),{},{dataKey:n,payload:r,value:i,name:a})}function z3(t,e){if(t)return String(t);if(typeof e=="string")return e}var NH=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},DH=(t,e)=>e==="centric"?t.angle:t.radius,Ta=t=>t.layout.width,Ca=t=>t.layout.height,RH=t=>t.layout.scale,F3=t=>t.layout.margin,Mh=Se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Oh=Se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),IH="data-recharts-item-index",MH="data-recharts-item-data-key",sc=60;function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){OH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OH(t,e,n){return(e=kH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kH(t){var e=PH(t,"string");return typeof e=="symbol"?e:e+""}function PH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LH=t=>t.brush.height;function UH(t){var e=Oh(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sc;return n+i}return n},0)}function BH(t){var e=Oh(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sc;return n+i}return n},0)}function jH(t){var e=Mh(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function zH(t){var e=Mh(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ar=Se([Ta,Ca,F3,LH,UH,BH,jH,zH,u3,hq],(t,e,n,r,i,a,s,u,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+u},v=Hf(Hf({},p),h),y=v.bottom;v.bottom+=r,v=xH(v,c,f);var C=t-v.left-v.right,S=e-v.top-v.bottom;return Hf(Hf({brushBottom:y},v),{},{width:Math.max(C,0),height:Math.max(S,0)})}),FH=Se(ar,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),q3=Se(Ta,Ca,(t,e)=>({x:0,y:0,width:t,height:e})),qH=R.createContext(null),Vr=()=>R.useContext(qH)!=null,kh=t=>t.brush,Ph=Se([kh,ar,F3],(t,e,n)=>({height:t.height,x:dt(t.x)?t.x:e.left,y:dt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:dt(t.width)?t.width:e.width})),tv={},nv={},rv={},PT;function HH(){return PT||(PT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,u=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},p=()=>{f&&h(),S()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},C=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{C(),s=void 0,u=null},b=()=>{h()},T=function(...D){if(i!=null&&i.aborted)return;s=this,u=D;const I=v==null;y(),c&&I&&h()};return T.schedule=y,T.cancel=S,T.flush=b,i==null||i.addEventListener("abort",S,{once:!0}),T}t.debounce=e})(rv)),rv}var LT;function GH(){return LT||(LT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HH();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:u=!0,maxWait:c}=a,f=Array(2);s&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const v=e.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:f}),y=function(...S){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,S),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,S),h)},C=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=C,y}t.debounce=n})(nv)),nv}var UT;function VH(){return UT||(UT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GH();function n(r,i=0,a={}){const{leading:s=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(tv)),tv}var iv,BT;function $H(){return BT||(BT=1,iv=VH().throttle),iv}var YH=$H();const WH=hr(YH);var jT=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},H3=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,u=ya(r)?t:Number(r),c=ya(i)?e:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},KH={width:0,height:0,overflow:"visible"},XH={width:0,overflowX:"visible"},ZH={height:0,overflowY:"visible"},JH={},QH=t=>{var{width:e,height:n}=t,r=ya(e),i=ya(n);return r&&i?KH:r?XH:i?ZH:JH};function eG(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Yn(t){return Number.isFinite(t)}function mo(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(null,arguments)}function zT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(n),!0).forEach(function(r){tG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tG(t,e,n){return(e=nG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nG(t){var e=rG(t,"string");return typeof e=="symbol"?e:e+""}function rG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G3=R.createContext({width:-1,height:-1});function iG(t){return mo(t.width)&&mo(t.height)}function V3(t){var{children:e,width:n,height:r}=t,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return iG(i)?R.createElement(G3.Provider,{value:i},e):null}var kx=()=>R.useContext(G3),aG=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:u,maxHeight:c,children:f,debounce:h=0,id:p,className:v,onResize:y,style:C={}}=t,S=R.useRef(null),b=R.useRef();b.current=y,R.useImperativeHandle(e,()=>S.current);var[T,D]=R.useState({containerWidth:r.width,containerHeight:r.height}),I=R.useCallback((z,B)=>{D(q=>{var Y=Math.round(z),W=Math.round(B);return q.containerWidth===Y&&q.containerHeight===W?q:{containerWidth:Y,containerHeight:W}})},[]);R.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return rc;var z=W=>{var re,{width:me,height:Z}=W[0].contentRect;I(me,Z),(re=b.current)===null||re===void 0||re.call(b,me,Z)};h>0&&(z=WH(z,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(z),{width:q,height:Y}=S.current.getBoundingClientRect();return I(q,Y),B.observe(S.current),()=>{B.disconnect()}},[I,h]);var{containerWidth:P,containerHeight:M}=T;jT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:L}=H3(P,M,{width:i,height:a,aspect:n,maxHeight:c});return jT(O!=null&&O>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,L,i,a,s,u,n),R.createElement("div",{id:p?"".concat(p):void 0,className:Jt("recharts-responsive-container",v),style:FT(FT({},C),{},{width:i,height:a,minWidth:s,minHeight:u,maxHeight:c}),ref:S},R.createElement("div",{style:QH({width:i,height:a})},R.createElement(V3,{width:O,height:L},f)))}),oG=R.forwardRef((t,e)=>{var n=kx();if(mo(n.width)&&mo(n.height))return t.children;var{width:r,height:i}=eG({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=H3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return dt(a)&&dt(s)?R.createElement(V3,{width:a,height:s},t.children):R.createElement(aG,my({},t,{width:r,height:i,ref:e}))});function $3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Lh=()=>{var t,e=Vr(),n=lt(FH),r=lt(Ph),i=(t=lt(kh))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},sG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},lG=()=>{var t;return(t=lt(ar))!==null&&t!==void 0?t:sG},uG=()=>lt(Ta),cG=()=>lt(Ca),on=t=>t.layout.layoutType,Uh=()=>lt(on),fG=()=>{var t=Uh();return t!==void 0},Bh=t=>{var e=Wn(),n=Vr(),{width:r,height:i}=t,a=kx(),s=r,u=i;return a&&(s=a.width>0?a.width:r,u=a.height>0?a.height:i),R.useEffect(()=>{!n&&mo(s)&&mo(u)&&e(hH({width:s,height:u}))},[e,n,s,u]),null},Y3=Symbol.for("immer-nothing"),qT=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function Ei(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var qu=Object.getPrototypeOf;function pl(t){return!!t&&!!t[Hr]}function Xo(t){var e;return t?W3(t)||Array.isArray(t)||!!t[qT]||!!((e=t.constructor)!=null&&e[qT])||lc(t)||zh(t):!1}var dG=Object.prototype.constructor.toString(),HT=new WeakMap;function W3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=HT.get(n);return r===void 0&&(r=Function.toString.call(n),HT.set(n,r)),r===dG}function Ld(t,e,n=!0){jh(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function jh(t){const e=t[Hr];return e?e.type_:Array.isArray(t)?1:lc(t)?2:zh(t)?3:0}function gy(t,e){return jh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function K3(t,e,n){const r=jh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function hG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function lc(t){return t instanceof Map}function zh(t){return t instanceof Set}function zo(t){return t.copy_||t.base_}function vy(t,e){if(lc(t))return new Map(t);if(zh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=W3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Hr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(qu(t),r)}else{const r=qu(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Px(t,e=!1){return Fh(t)||pl(t)||!Xo(t)||(jh(t)>1&&Object.defineProperties(t,{set:Gf,add:Gf,clear:Gf,delete:Gf}),Object.freeze(t),e&&Object.values(t).forEach(n=>Px(n,!0))),t}function pG(){Ei(2)}var Gf={value:pG};function Fh(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var mG={};function Zo(t){const e=mG[t];return e||Ei(0,t),e}var Hu;function X3(){return Hu}function gG(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GT(t,e){e&&(Zo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function yy(t){xy(t),t.drafts_.forEach(vG),t.drafts_=null}function xy(t){t===Hu&&(Hu=t.parent_)}function VT(t){return Hu=gG(Hu,t)}function vG(t){const e=t[Hr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $T(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Hr].modified_&&(yy(e),Ei(4)),Xo(t)&&(t=Ud(e,t),e.parent_||Bd(e,t)),e.patches_&&Zo("Patches").generateReplacementPatches_(n[Hr].base_,t,e.patches_,e.inversePatches_)):t=Ud(e,n,[]),yy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Y3?t:void 0}function Ud(t,e,n){if(Fh(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Hr];if(!i)return Ld(e,(a,s)=>YT(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Bd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,u=!1;i.type_===3&&(s=new Set(a),a.clear(),u=!0),Ld(s,(c,f)=>YT(t,i,a,c,f,n,u),r),Bd(t,a,!1),n&&t.patches_&&Zo("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function YT(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const u=Fh(i);if(!(u&&!s)){if(pl(i)){const c=a&&e&&e.type_!==3&&!gy(e.assigned_,r)?a.concat(r):void 0,f=Ud(t,i,c);if(K3(n,r,f),pl(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Xo(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Ud(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(lc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Bd(t,i)}}}function Bd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Px(e,n)}function yG(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:X3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Lx;n&&(i=[r],a=Gu);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,u}var Lx={get(t,e){if(e===Hr)return t;const n=zo(t);if(!gy(n,e))return xG(t,n,e);const r=n[e];return t.finalized_||!Xo(r)?r:r===av(t.base_,e)?(ov(t),t.copy_[e]=wy(r,t)):r},has(t,e){return e in zo(t)},ownKeys(t){return Reflect.ownKeys(zo(t))},set(t,e,n){const r=Z3(zo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=av(zo(t),e),a=i==null?void 0:i[Hr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(hG(n,i)&&(n!==void 0||gy(t.base_,e)))return!0;ov(t),by(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return av(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ov(t),by(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ei(11)},getPrototypeOf(t){return qu(t.base_)},setPrototypeOf(){Ei(12)}},Gu={};Ld(Lx,(t,e)=>{Gu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Gu.deleteProperty=function(t,e){return Gu.set.call(this,t,e,void 0)};Gu.set=function(t,e,n){return Lx.set.call(this,t[0],e,n,t[0])};function av(t,e){const n=t[Hr];return(n?zo(n):t)[e]}function xG(t,e,n){var i;const r=Z3(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Z3(t,e){if(!(e in t))return;let n=qu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=qu(n)}}function by(t){t.modified_||(t.modified_=!0,t.parent_&&by(t.parent_))}function ov(t){t.copy_||(t.copy_=vy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bG=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...f){return s.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Ei(6),r!==void 0&&typeof r!="function"&&Ei(7);let i;if(Xo(e)){const a=VT(this),s=wy(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?yy(a):xy(a)}return GT(a,r),$T(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Y3&&(i=void 0),this.autoFreeze_&&Px(i,!0),r){const a=[],s=[];Zo("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Ei(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xo(t)||Ei(8),pl(t)&&(t=wG(t));const e=VT(this),n=wy(t,void 0);return n[Hr].isManual_=!0,xy(e),n}finishDraft(t,e){const n=t&&t[Hr];(!n||!n.isManual_)&&Ei(9);const{scope_:r}=n;return GT(r,e),$T(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zo("Patches").applyPatches_;return pl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function wy(t,e){const n=lc(t)?Zo("MapSet").proxyMap_(t,e):zh(t)?Zo("MapSet").proxySet_(t,e):yG(t,e);return(e?e.scope_:X3()).drafts_.push(n),n}function wG(t){return pl(t)||Ei(10,t),J3(t)}function J3(t){if(!Xo(t)||Fh(t))return t;const e=t[Hr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=vy(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=vy(t,!0);return Ld(n,(i,a)=>{K3(n,i,J3(a))},r),e&&(e.finalized_=!1),n}var EG=new bG;EG.produce;var _G={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Q3=Rr({name:"legend",initialState:_G,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:cn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ti(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:cn()},removeLegendPayload:{reducer(t,e){var n=Ti(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:cn()}}}),{setLegendSize:Sre,setLegendSettings:Are,addLegendPayload:SG,replaceLegendPayload:AG,removeLegendPayload:TG}=Q3.actions,CG=Q3.reducer;function Ey(){return Ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ey.apply(null,arguments)}function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){NG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NG(t,e,n){return(e=DG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DG(t){var e=RG(t,"string");return typeof e=="symbol"?e:e+""}function RG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IG(t){return Array.isArray(t)&&zi(t[0])&&zi(t[1])?t.join(" ~ "):t}var MG=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:v=!1}=t,y=()=>{if(a&&a.length){var M={padding:0,margin:0},O=(u?_h(a,u):a).map((L,z)=>{if(L.type==="none")return null;var B=L.formatter||s||IG,{value:q,name:Y}=L,W=q,re=Y;if(B){var me=B(q,Y,L,z,a);if(Array.isArray(me))[W,re]=me;else if(me!=null)W=me;else return null}var Z=sv({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:Z},zi(re)?R.createElement("span",{className:"recharts-tooltip-item-name"},re):null,zi(re)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},W),R.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:M},O)}return null},C=sv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=sv({margin:0},i),b=!$n(h),T=b?h:"",D=Jt("recharts-default-tooltip",c),I=Jt("recharts-tooltip-label",f);b&&p&&a!==void 0&&a!==null&&(T=p(h,a));var P=v?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Ey({className:D,style:C},P),R.createElement("p",{className:I,style:S},R.isValidElement(T)?T:"".concat(T)),y())},Au="recharts-tooltip-wrapper",OG={visibility:"hidden"};function kG(t){var{coordinate:e,translateX:n,translateY:r}=t;return Jt(Au,{["".concat(Au,"-right")]:dt(n)&&e&&dt(e.x)&&n>=e.x,["".concat(Au,"-left")]:dt(n)&&e&&dt(e.x)&&n<e.x,["".concat(Au,"-bottom")]:dt(r)&&e&&dt(e.y)&&r>=e.y,["".concat(Au,"-top")]:dt(r)&&e&&dt(e.y)&&r<e.y})}function KT(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(a&&dt(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var v=c[r];if(v==null)return 0;if(s[r]){var y=h,C=v;return y<C?Math.max(p,v):Math.max(h,v)}if(f==null)return 0;var S=p+u,b=v+f;return S>b?Math.max(h,v):Math.max(p,v)}function PG(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function LG(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:u,viewBox:c}=t,f,h,p;return s.height>0&&s.width>0&&n?(h=KT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=KT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=PG({translateX:h,translateY:p,useTranslate3d:u})):f=OG,{cssProperties:f,cssClasses:kG({translateX:h,translateY:p,coordinate:n})}}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _y(t,e,n){return(e=UG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UG(t){var e=BG(t,"string");return typeof e=="symbol"?e:e+""}function BG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jG extends R.PureComponent{constructor(){super(...arguments),_y(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_y(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:v,viewBox:y,wrapperStyle:C,lastBoundingBox:S,innerRef:b,hasPortalFromProps:T}=this.props,{cssClasses:D,cssProperties:I}=LG({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:y}),P=T?{}:Vf(Vf({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=Vf(Vf({},P),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},C);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:M,ref:b},a)}}var eR=()=>{var t;return(t=lt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(null,arguments)}function ZT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(r){zG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zG(t,e,n){return(e=FG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=qG(t,"string");return typeof e=="symbol"?e:e+""}function qG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QT={curveBasisClosed:jz,curveBasisOpen:zz,curveBasis:Bz,curveBumpX:Sz,curveBumpY:Az,curveLinearClosed:Fz,curveLinear:bh,curveMonotoneX:qz,curveMonotoneY:Hz,curveNatural:Gz,curveStep:Vz,curveStepAfter:Yz,curveStepBefore:$z},jd=t=>Yn(t.x)&&Yn(t.y),eC=t=>t.base!=null&&jd(t.base)&&jd(t),Tu=t=>t.x,Cu=t=>t.y,HG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(nc(t));return(n==="curveMonotone"||n==="curveBump")&&e?QT["".concat(n).concat(e==="vertical"?"Y":"X")]:QT[n]||bh},GG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=HG(e,i),u=a?n.filter(jd):n,c;if(Array.isArray(r)){var f=n.map((y,C)=>JT(JT({},y),{},{base:r[C]}));i==="vertical"?c=Uf().y(Cu).x1(Tu).x0(y=>y.base.x):c=Uf().x(Tu).y1(Cu).y0(y=>y.base.y);var h=c.defined(eC).curve(s),p=a?f.filter(eC):f;return h(p)}i==="vertical"&&dt(r)?c=Uf().y(Cu).x1(Tu).x0(r):dt(r)?c=Uf().x(Tu).y1(Cu).y0(r):c=kD().x(Tu).y(Cu);var v=c.defined(jd).curve(s);return v(u)},tR=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?GG(t):r;return R.createElement("path",Sy({},ga(t),_x(t),{className:Jt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},VG=["x","y","top","left","width","height","className"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ay.apply(null,arguments)}function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){YG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YG(t,e,n){return(e=WG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WG(t){var e=KG(t,"string");return typeof e=="symbol"?e:e+""}function KG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XG(t,e){if(t==null)return{};var n,r,i=ZG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JG=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),QG=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:u}=t,c=XG(t,VG),f=$G({x:e,y:n,top:r,left:i,width:a,height:s},c);return!dt(e)||!dt(n)||!dt(a)||!dt(s)||!dt(r)||!dt(i)?null:R.createElement("path",Ay({},gr(f),{className:Jt("recharts-cross",u),d:JG(e,n,a,s,r,i)}))};function eV(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){tV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tV(t,e,n){return(e=nV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nV(t){var e=rV(t,"string");return typeof e=="symbol"?e:e+""}function rV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iV=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),nR=(t,e,n)=>t.map(r=>"".concat(iV(r)," ").concat(e,"ms ").concat(n)).join(","),aV=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Vu=(t,e)=>Object.keys(e).reduce((n,r)=>rC(rC({},n),{},{[r]:t(r,e[r])}),{});function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){oV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oV(t,e,n){return(e=sV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sV(t){var e=lV(t,"string");return typeof e=="symbol"?e:e+""}function lV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zd=(t,e,n)=>t+(e-t)*n,Ty=t=>{var{from:e,to:n}=t;return e!==n},rR=(t,e,n)=>{var r=Vu((i,a)=>{if(Ty(a)){var[s,u]=t(a.from,a.to,a.velocity);return Ln(Ln({},a),{},{from:s,velocity:u})}return a},e);return n<1?Vu((i,a)=>Ty(a)?Ln(Ln({},a),{},{velocity:zd(a.velocity,r[i].velocity,n),from:zd(a.from,r[i].from,n)}):a,e):rR(t,r,n-1)};function uV(t,e,n,r,i,a){var s,u=r.reduce((v,y)=>Ln(Ln({},v),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),c=()=>Vu((v,y)=>y.from,u),f=()=>!Object.values(u).filter(Ty).length,h=null,p=v=>{s||(s=v);var y=v-s,C=y/n.dt;u=rR(n,u,C),i(Ln(Ln(Ln({},t),e),c())),s=v,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var v;(v=h)===null||v===void 0||v()})}function cV(t,e,n,r,i,a,s){var u=null,c=i.reduce((p,v)=>Ln(Ln({},p),{},{[v]:[t[v],e[v]]}),{}),f,h=p=>{f||(f=p);var v=(p-f)/r,y=Vu((S,b)=>zd(...b,n(v)),c);if(a(Ln(Ln(Ln({},t),e),y)),v<1)u=s.setTimeout(h);else{var C=Vu((S,b)=>zd(...b,n(1)),c);a(Ln(Ln(Ln({},t),e),C))}};return()=>(u=s.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const fV=(t,e,n,r,i,a)=>{var s=aV(t,e);return n==null?()=>(i(Ln(Ln({},t),e)),()=>{}):n.isStepper===!0?uV(t,e,n,s,i,a):cV(t,e,n,r,s,i,a)};var Fd=1e-4,iR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],aR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),aC=(t,e)=>n=>{var r=iR(t,e);return aR(r,n)},dV=(t,e)=>n=>{var r=iR(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return aR(i,n)},hV=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},pV=(t,e,n,r)=>{var i=aC(t,n),a=aC(e,r),s=dV(t,n),u=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,p=h,v=0;v<8;++v){var y=i(p)-h,C=s(p);if(Math.abs(y-h)<Fd||C<Fd)return a(p);p=u(p-y/C)}return a(p)};return c.isStepper=!1,c},oC=function(){return pV(...hV(...arguments))},mV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,u,c)=>{var f=-(s-u)*n,h=c*r,p=c+(f-h)*i/1e3,v=c*i/1e3+s;return Math.abs(v-u)<Fd&&Math.abs(p)<Fd?[u,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},gV=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oC(t);case"spring":return mV();default:if(t.split("(")[0]==="cubic-bezier")return oC(t)}return typeof t=="function"?t:null};function vV(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class yV{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function xV(){return vV(new yV)}var bV=R.createContext(xV);function wV(t,e){var n=R.useContext(bV);return R.useMemo(()=>e??n(t),[t,e,n])}var EV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),uc={devToolsEnabled:!1,isSsr:EV()},_V={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sC={t:0},lv={t:1};function Ux(t){var e=Gr(t,_V),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=n==="auto"?!uc.isSsr:n,p=wV(e.animationId,e.animationManager),[v,y]=R.useState(h?sC:lv),C=R.useRef(null);return R.useEffect(()=>{h||y(lv)},[h]),R.useEffect(()=>{if(!h||!r)return rc;var S=fV(sC,lv,gV(a),i,y,p.getTimeoutController()),b=()=>{C.current=S()};return p.start([c,s,b,i,u]),()=>{p.stop(),C.current&&C.current(),u()}},[h,r,i,a,s,c,u,p]),f(v.t)}function Bx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(Bu(e)),r=R.useRef(t);return r.current!==t&&(n.current=Bu(e),r.current=t),n.current}var SV=["radius"],AV=["radius"];function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){TV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TV(t,e,n){return(e=CV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CV(t){var e=NV(t,"string");return typeof e=="symbol"?e:e+""}function NV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(null,arguments)}function cC(t,e){if(t==null)return{};var n,r,i=DV(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fC=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),f+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*h[1])),f+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),f+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);f="M ".concat(t,",").concat(e+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+u*y,",").concat(e,`
            L `).concat(t+n-u*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*y,`
            L `).concat(t+n,",").concat(e+r-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-u*y,",").concat(e+r,`
            L `).concat(t+u*y,",").concat(e+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*y," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},dC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oR=t=>{var e=Gr(t,dC),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:s,width:u,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:v,animationBegin:y,isAnimationActive:C,isUpdateAnimationActive:S}=e,b=R.useRef(u),T=R.useRef(c),D=R.useRef(a),I=R.useRef(s),P=R.useMemo(()=>({x:a,y:s,width:u,height:c,radius:f}),[a,s,u,c,f]),M=Bx(P,"rectangle-");if(a!==+a||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var O=Jt("recharts-rectangle",h);if(!S){var L=gr(e),{radius:z}=L,B=cC(L,SV);return R.createElement("path",qd({},B,{radius:typeof f=="number"?f:void 0,className:O,d:fC(a,s,u,c,f)}))}var q=b.current,Y=T.current,W=D.current,re=I.current,me="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),X=nR(["strokeDasharray"],v,typeof p=="string"?p:dC.animationEasing);return R.createElement(Ux,{animationId:M,key:M,canBegin:r>0,duration:v,easing:p,isActive:S,begin:y},Q=>{var oe=Cr(q,u,Q),de=Cr(Y,c,Q),Ce=Cr(W,a,Q),$=Cr(re,s,Q);n.current&&(b.current=oe,T.current=de,D.current=Ce,I.current=$);var se;C?Q>0?se={transition:X,strokeDasharray:Z}:se={strokeDasharray:me}:se={strokeDasharray:Z};var Ae=gr(e),{radius:we}=Ae,Ue=cC(Ae,AV);return R.createElement("path",qd({},Ue,{radius:typeof f=="number"?f:void 0,className:O,d:fC(Ce,$,oe,de,f),ref:n,style:uC(uC({},se),e.style)}))})};function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){RV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RV(t,e,n){return(e=IV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IV(t){var e=MV(t,"string");return typeof e=="symbol"?e:e+""}function MV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hd=Math.PI/180,OV=t=>t*180/Math.PI,rr=(t,e,n,r)=>({x:t+Math.cos(-Hd*r)*n,y:e+Math.sin(-Hd*r)*n}),kV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PV=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},LV=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=PV({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:s,angle:OV(c),angleInRadian:c}},UV=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},BV=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},jV=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=LV({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:f}=UV(e),h=a,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?pC(pC({},e),{},{radius:i,angle:BV(h,e)}):null};function sR(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=rr(e,n,r,i),u=rr(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(null,arguments)}var zV=(t,e)=>{var n=Si(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},$f=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,f=u*(s?1:-1)+r,h=Math.asin(u/f)/Hd,p=c?i:i+a*h,v=rr(e,n,f,p),y=rr(e,n,r,p),C=c?i-a*h:i,S=rr(e,n,f*Math.cos(h*Hd),C);return{center:v,circleTangency:y,lineTangency:S,theta:h}},lR=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,u=zV(a,s),c=a+u,f=rr(e,n,i,a),h=rr(e,n,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=rr(e,n,r,a),y=rr(e,n,r,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},FV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=Si(f-c),{circleTangency:p,lineTangency:v,theta:y}=$f({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:C,lineTangency:S,theta:b}=$f({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:u}),T=u?Math.abs(c-f):Math.abs(c-f)-y-b;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):lR({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var D="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:P,theta:M}=$f({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:O,lineTangency:L,theta:z}=$f({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),B=u?Math.abs(c-f):Math.abs(c-f)-M-z;if(B<0&&a===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},qV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uR=t=>{var e=Gr(t,qV),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var v=Jt("recharts-sector",p),y=a-i,C=po(s,y,0,!0),S;return C>0&&Math.abs(f-h)<360?S=FV({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(C,y/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):S=lR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),R.createElement("path",Cy({},gr(e),{className:v,d:S}))};function HV(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(XD(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:u}=e,c=rr(r,i,a,u),f=rr(r,i,s,u);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return sR(e)}}var uv={},cv={},fv={},mC;function GV(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(fv)),fv}var gC;function VV(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GV();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(cv)),cv}var vC;function $V(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l3(),n=VV();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=s;return c}t.range=r})(uv)),uv}var dv,yC;function YV(){return yC||(yC=1,dv=$V().range),dv}var WV=YV();const cR=hr(WV);function fo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KV(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jx(t){let e,n,r;t.length!==2?(e=fo,n=(u,c)=>fo(t(u),c),r=(u,c)=>t(u)-c):(e=t===fo||t===KV?t:XV,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:a}}function XV(){return 0}function fR(t){return t===null?NaN:+t}function*ZV(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const JV=jx(fo),cc=JV.right;jx(fR).center;class xC extends Map{constructor(e,n=t$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(bC(this,e))}has(e){return super.has(bC(this,e))}set(e,n){return super.set(QV(this,e),n)}delete(e){return super.delete(e$(this,e))}}function bC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function QV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function e$({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function t$(t){return t!==null&&typeof t=="object"?t.valueOf():t}function n$(t=fo){if(t===fo)return dR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const r$=Math.sqrt(50),i$=Math.sqrt(10),a$=Math.sqrt(2);function Gd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=r$?10:a>=i$?5:a>=a$?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Gd(t,e,n*2):[u,c,f]}function Ny(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Gd(e,t,n):Gd(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function Dy(t,e,n){return e=+e,t=+t,n=+n,Gd(t,e,n)[2]}function Ry(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Dy(e,t,n):Dy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function EC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hR(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dR:n$(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*p/c+v)),C=Math.min(r,Math.floor(e+(c-f)*p/c+v));hR(t,e,y,C,i)}const a=t[e];let s=n,u=r;for(Nu(t,n,e),i(t[r],a)>0&&Nu(t,n,r);s<u;){for(Nu(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Nu(t,n,u):(++u,Nu(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Nu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function o$(t,e,n){if(t=Float64Array.from(ZV(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return EC(t);if(e>=1)return wC(t);var r,i=(r-1)*e,a=Math.floor(i),s=wC(hR(t,a).subarray(0,a+1)),u=EC(t.subarray(a+1));return s+(u-s)*(i-a)}}function s$(t,e,n=fR){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function l$(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Na(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Iy=Symbol("implicit");function zx(){var t=new xC,e=[],n=[],r=Iy;function i(a){let s=t.get(a);if(s===void 0){if(r!==Iy)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new xC;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return zx(e,n).unknown(r)},fi.apply(i,arguments),i}function Fx(){var t=zx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,y=i<r,C=y?i:r,S=y?r:i;a=(S-C)/Math.max(1,v-c+f*2),u&&(a=Math.floor(a)),C+=(S-C-a*(v-c))*h,s=a*(1-c),u&&(C=Math.round(C),s=Math.round(s));var b=l$(v).map(function(T){return C+a*T});return n(y?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,p()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return Fx(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},fi.apply(p(),arguments)}function pR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pR(e())},t}function u$(){return pR(Fx.apply(null,arguments).paddingInner(1))}function qx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fc(){}var $u=.7,Vd=1/$u,ll="\\s*([+-]?\\d+)\\s*",Yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c$=/^#([0-9a-f]{3,8})$/,f$=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),d$=new RegExp(`^rgb\\(${Bi},${Bi},${Bi}\\)$`),h$=new RegExp(`^rgba\\(${ll},${ll},${ll},${Yu}\\)$`),p$=new RegExp(`^rgba\\(${Bi},${Bi},${Bi},${Yu}\\)$`),m$=new RegExp(`^hsl\\(${Yu},${Bi},${Bi}\\)$`),g$=new RegExp(`^hsla\\(${Yu},${Bi},${Bi},${Yu}\\)$`),_C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qx(fc,Wu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SC,formatHex:SC,formatHex8:v$,formatHsl:y$,formatRgb:AC,toString:AC});function SC(){return this.rgb().formatHex()}function v$(){return this.rgb().formatHex8()}function y$(){return gR(this).formatHsl()}function AC(){return this.rgb().formatRgb()}function Wu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c$.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TC(e):n===3?new Nr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=f$.exec(t))?new Nr(e[1],e[2],e[3],1):(e=d$.exec(t))?new Nr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=h$.exec(t))?Yf(e[1],e[2],e[3],e[4]):(e=p$.exec(t))?Yf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=m$.exec(t))?DC(e[1],e[2]/100,e[3]/100,1):(e=g$.exec(t))?DC(e[1],e[2]/100,e[3]/100,e[4]):_C.hasOwnProperty(t)?TC(_C[t]):t==="transparent"?new Nr(NaN,NaN,NaN,0):null}function TC(t){return new Nr(t>>16&255,t>>8&255,t&255,1)}function Yf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nr(t,e,n,r)}function x$(t){return t instanceof fc||(t=Wu(t)),t?(t=t.rgb(),new Nr(t.r,t.g,t.b,t.opacity)):new Nr}function My(t,e,n,r){return arguments.length===1?x$(t):new Nr(t,e,n,r??1)}function Nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}qx(Nr,My,mR(fc,{brighter(t){return t=t==null?Vd:Math.pow(Vd,t),new Nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$u:Math.pow($u,t),new Nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nr(Yo(this.r),Yo(this.g),Yo(this.b),$d(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CC,formatHex:CC,formatHex8:b$,formatRgb:NC,toString:NC}));function CC(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}`}function b$(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}${Ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function NC(){const t=$d(this.opacity);return`${t===1?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${t===1?")":`, ${t})`}`}function $d(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ho(t){return t=Yo(t),(t<16?"0":"")+t.toString(16)}function DC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _i(t,e,n,r)}function gR(t){if(t instanceof _i)return new _i(t.h,t.s,t.l,t.opacity);if(t instanceof fc||(t=Wu(t)),!t)return new _i;if(t instanceof _i)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new _i(s,u,c,t.opacity)}function w$(t,e,n,r){return arguments.length===1?gR(t):new _i(t,e,n,r??1)}function _i(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}qx(_i,w$,mR(fc,{brighter(t){return t=t==null?Vd:Math.pow(Vd,t),new _i(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$u:Math.pow($u,t),new _i(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Nr(hv(t>=240?t-240:t+120,i,r),hv(t,i,r),hv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _i(RC(this.h),Wf(this.s),Wf(this.l),$d(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$d(this.opacity);return`${t===1?"hsl(":"hsla("}${RC(this.h)}, ${Wf(this.s)*100}%, ${Wf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function RC(t){return t=(t||0)%360,t<0?t+360:t}function Wf(t){return Math.max(0,Math.min(1,t||0))}function hv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Hx=t=>()=>t;function E$(t,e){return function(n){return t+n*e}}function _$(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function S$(t){return(t=+t)==1?vR:function(e,n){return n-e?_$(e,n,t):Hx(isNaN(e)?n:e)}}function vR(t,e){var n=e-t;return n?E$(t,n):Hx(isNaN(t)?e:t)}const IC=(function t(e){var n=S$(e);function r(i,a){var s=n((i=My(i)).r,(a=My(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=vR(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function A$(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function T$(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C$(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=El(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function N$(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Yd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function D$(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=El(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Oy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pv=new RegExp(Oy.source,"g");function R$(t){return function(){return t}}function I$(t){return function(e){return t(e)+""}}function M$(t,e){var n=Oy.lastIndex=pv.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=Oy.exec(t))&&(i=pv.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Yd(r,i)})),n=pv.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?I$(c[0].x):R$(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function El(t,e){var n=typeof e,r;return e==null||n==="boolean"?Hx(e):(n==="number"?Yd:n==="string"?(r=Wu(e))?(e=r,IC):M$:e instanceof Wu?IC:e instanceof Date?N$:T$(e)?A$:Array.isArray(e)?C$:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?D$:Yd)(t,e)}function Gx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function O$(t,e){e===void 0&&(e=t,t=El);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function k$(t){return function(){return t}}function Wd(t){return+t}var MC=[0,1];function mr(t){return t}function ky(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:k$(isNaN(e)?NaN:.5)}function P$(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function L$(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=ky(i,r),a=n(s,a)):(r=ky(r,i),a=n(a,s)),function(u){return a(r(u))}}function U$(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=ky(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=cc(t,u,1,r)-1;return a[c](i[c](u))}}function dc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qh(){var t=MC,e=MC,n=El,r,i,a,s=mr,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==mr&&(s=P$(t[0],t[v-1])),u=v>2?U$:L$,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=u(t.map(r),e,n)))(r(s(v)))}return p.invert=function(v){return s(i((f||(f=u(e,t.map(r),Yd)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Wd),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=Gx,h()},p.clamp=function(v){return arguments.length?(s=v?!0:mr,h()):s!==mr},p.interpolate=function(v){return arguments.length?(n=v,h()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,y){return r=v,i=y,h()}}function Vx(){return qh()(mr,mr)}function B$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ml(t){return t=Kd(Math.abs(t)),t?t[1]:NaN}function j$(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function z$(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var F$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ku(t){if(!(e=F$.exec(t)))throw new Error("invalid format: "+t);var e;return new $x({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ku.prototype=$x.prototype;function $x(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$x.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q$(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var yR;function H$(t,e){var n=Kd(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(yR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Kd(t,Math.max(0,e+a-1))[0]}function OC(t,e){var n=Kd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:B$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OC(t*100,e),r:OC,s:H$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PC(t){return t}var LC=Array.prototype.map,UC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function G$(t){var e=t.grouping===void 0||t.thousands===void 0?PC:j$(LC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?PC:z$(LC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Ku(p);var v=p.fill,y=p.align,C=p.sign,S=p.symbol,b=p.zero,T=p.width,D=p.comma,I=p.precision,P=p.trim,M=p.type;M==="n"?(D=!0,M="g"):kC[M]||(I===void 0&&(I=12),P=!0,M="g"),(b||v==="0"&&y==="=")&&(b=!0,v="0",y="=");var O=S==="$"?n:S==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",L=S==="$"?r:/[%p]/.test(M)?s:"",z=kC[M],B=/[defgprs%]/.test(M);I=I===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function q(Y){var W=O,re=L,me,Z,X;if(M==="c")re=z(Y)+re,Y="";else{Y=+Y;var Q=Y<0||1/Y<0;if(Y=isNaN(Y)?c:z(Math.abs(Y),I),P&&(Y=q$(Y)),Q&&+Y==0&&C!=="+"&&(Q=!1),W=(Q?C==="("?C:u:C==="-"||C==="("?"":C)+W,re=(M==="s"?UC[8+yR/3]:"")+re+(Q&&C==="("?")":""),B){for(me=-1,Z=Y.length;++me<Z;)if(X=Y.charCodeAt(me),48>X||X>57){re=(X===46?i+Y.slice(me+1):Y.slice(me))+re,Y=Y.slice(0,me);break}}}D&&!b&&(Y=e(Y,1/0));var oe=W.length+Y.length+re.length,de=oe<T?new Array(T-oe+1).join(v):"";switch(D&&b&&(Y=e(de+Y,de.length?T-re.length:1/0),de=""),y){case"<":Y=W+Y+re+de;break;case"=":Y=W+de+Y+re;break;case"^":Y=de.slice(0,oe=de.length>>1)+W+Y+re+de.slice(oe);break;default:Y=de+W+Y+re;break}return a(Y)}return q.toString=function(){return p+""},q}function h(p,v){var y=f((p=Ku(p),p.type="f",p)),C=Math.max(-8,Math.min(8,Math.floor(ml(v)/3)))*3,S=Math.pow(10,-C),b=UC[8+C/3];return function(T){return y(S*T)+b}}return{format:f,formatPrefix:h}}var Kf,Yx,xR;V$({thousands:",",grouping:[3],currency:["$",""]});function V$(t){return Kf=G$(t),Yx=Kf.format,xR=Kf.formatPrefix,Kf}function $$(t){return Math.max(0,-ml(Math.abs(t)))}function Y$(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ml(e)/3)))*3-ml(Math.abs(t)))}function W$(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ml(e)-ml(t))+1}function bR(t,e,n,r){var i=Ry(t,e,n),a;switch(r=Ku(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Y$(i,s))&&(r.precision=a),xR(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=W$(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$$(i))&&(r.precision=a-(r.type==="%")*2);break}}return Yx(r)}function xo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ny(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return bR(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=Dy(s,u,n),f===c)return r[i]=s,r[a]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function wR(){var t=Vx();return t.copy=function(){return dc(t,wR())},fi.apply(t,arguments),xo(t)}function ER(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Wd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ER(t).unknown(e)},t=arguments.length?Array.from(t,Wd):[0,1],xo(n)}function _R(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function BC(t){return Math.log(t)}function jC(t){return Math.exp(t)}function K$(t){return-Math.log(-t)}function X$(t){return-Math.exp(-t)}function Z$(t){return isFinite(t)?+("1e"+t):t<0?0:t}function J$(t){return t===10?Z$:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Q$(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zC(t){return(e,n)=>-t(-e,n)}function Wx(t){const e=t(BC,jC),n=e.domain;let r=10,i,a;function s(){return i=Q$(r),a=J$(r),n()[0]<0?(i=zC(i),a=zC(a),t(K$,X$)):t(BC,jC),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),y=i(h),C,S;const b=u==null?10:+u;let T=[];if(!(r%1)&&y-v<b){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(C=1;C<r;++C)if(S=v<0?C/a(-v):C*a(v),!(S<f)){if(S>h)break;T.push(S)}}else for(;v<=y;++v)for(C=r-1;C>=1;--C)if(S=v>0?C/a(-v):C*a(v),!(S<f)){if(S>h)break;T.push(S)}T.length*2<b&&(T=Ny(f,h,b))}else T=Ny(v,y,Math.min(y-v,b)).map(a);return p?T.reverse():T},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ku(c)).precision==null&&(c.trim=!0),c=Yx(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(_R(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function SR(){const t=Wx(qh()).domain([1,10]);return t.copy=()=>dc(t,SR()).base(t.base()),fi.apply(t,arguments),t}function FC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function qC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Kx(t){var e=1,n=t(FC(e),qC(e));return n.constant=function(r){return arguments.length?t(FC(e=+r),qC(e)):e},xo(n)}function AR(){var t=Kx(qh());return t.copy=function(){return dc(t,AR()).constant(t.constant())},fi.apply(t,arguments)}function HC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function eY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function tY(t){return t<0?-t*t:t*t}function Xx(t){var e=t(mr,mr),n=1;function r(){return n===1?t(mr,mr):n===.5?t(eY,tY):t(HC(n),HC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xo(e)}function Zx(){var t=Xx(qh());return t.copy=function(){return dc(t,Zx()).exponent(t.exponent())},fi.apply(t,arguments),t}function nY(){return Zx.apply(null,arguments).exponent(.5)}function GC(t){return Math.sign(t)*t*t}function rY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function TR(){var t=Vx(),e=[0,1],n=!1,r;function i(a){var s=rY(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(GC(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Wd)).map(GC)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},fi.apply(i,arguments),xo(i)}function CR(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=s$(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[cc(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(fo),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return CR().domain(t).range(e).unknown(r)},fi.apply(a,arguments)}function NR(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[cc(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return NR().domain([t,e]).range(i).unknown(a)},fi.apply(xo(s),arguments)}function DR(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[cc(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return DR().domain(t).range(e).unknown(n)},fi.apply(i,arguments)}const mv=new Date,gv=new Date;function Un(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>Un(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(mv.setTime(+a),gv.setTime(+s),t(mv),t(gv),Math.floor(n(mv,gv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Xd=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Xd);Xd.range;const ca=1e3,si=ca*60,fa=si*60,ba=fa*24,Jx=ba*7,VC=ba*30,vv=ba*365,Go=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ca)},(t,e)=>(e-t)/ca,t=>t.getUTCSeconds());Go.range;const Qx=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ca)},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getMinutes());Qx.range;const eb=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getUTCMinutes());eb.range;const tb=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ca-t.getMinutes()*si)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getHours());tb.range;const nb=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCHours());nb.range;const hc=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*si)/ba,t=>t.getDate()-1);hc.range;const Hh=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ba,t=>t.getUTCDate()-1);Hh.range;const RR=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ba,t=>Math.floor(t/ba));RR.range;function rs(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*si)/Jx)}const Gh=rs(0),Zd=rs(1),iY=rs(2),aY=rs(3),gl=rs(4),oY=rs(5),sY=rs(6);Gh.range;Zd.range;iY.range;aY.range;gl.range;oY.range;sY.range;function is(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Jx)}const Vh=is(0),Jd=is(1),lY=is(2),uY=is(3),vl=is(4),cY=is(5),fY=is(6);Vh.range;Jd.range;lY.range;uY.range;vl.range;cY.range;fY.range;const rb=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rb.range;const ib=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ib.range;const wa=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});wa.range;const Ea=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ea.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ea.range;function IR(t,e,n,r,i,a){const s=[[Go,1,ca],[Go,5,5*ca],[Go,15,15*ca],[Go,30,30*ca],[a,1,si],[a,5,5*si],[a,15,15*si],[a,30,30*si],[i,1,fa],[i,3,3*fa],[i,6,6*fa],[i,12,12*fa],[r,1,ba],[r,2,2*ba],[n,1,Jx],[e,1,VC],[e,3,3*VC],[t,1,vv]];function u(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const y=p&&typeof p.range=="function"?p:c(f,h,p),C=y?y.range(f,+h+1):[];return v?C.reverse():C}function c(f,h,p){const v=Math.abs(h-f)/p,y=jx(([,,b])=>b).right(s,v);if(y===s.length)return t.every(Ry(f/vv,h/vv,p));if(y===0)return Xd.every(Math.max(Ry(f,h,p),1));const[C,S]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return C.every(S)}return[u,c]}const[dY,hY]=IR(Ea,ib,Vh,RR,nb,eb),[pY,mY]=IR(wa,rb,Gh,hc,tb,Qx);function yv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Du(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function gY(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Ru(i),h=Iu(i),p=Ru(a),v=Iu(a),y=Ru(s),C=Iu(s),S=Ru(u),b=Iu(u),T=Ru(c),D=Iu(c),I={a:Q,A:oe,b:de,B:Ce,c:null,d:ZC,e:ZC,f:jY,g:KY,G:ZY,H:LY,I:UY,j:BY,L:MR,m:zY,M:FY,p:$,q:se,Q:e5,s:t5,S:qY,u:HY,U:GY,V:VY,w:$Y,W:YY,x:null,X:null,y:WY,Y:XY,Z:JY,"%":QC},P={a:Ae,A:we,b:Ue,B:$e,c:null,d:JC,e:JC,f:nW,g:dW,G:pW,H:QY,I:eW,j:tW,L:kR,m:rW,M:iW,p:qe,q:Ge,Q:e5,s:t5,S:aW,u:oW,U:sW,V:lW,w:uW,W:cW,x:null,X:null,y:fW,Y:hW,Z:mW,"%":QC},M={a:q,A:Y,b:W,B:re,c:me,d:KC,e:KC,f:MY,g:WC,G:YC,H:XC,I:XC,j:NY,L:IY,m:CY,M:DY,p:B,q:TY,Q:kY,s:PY,S:RY,u:wY,U:EY,V:_Y,w:bY,W:SY,x:Z,X,y:WC,Y:YC,Z:AY,"%":OY};I.x=O(n,I),I.X=O(r,I),I.c=O(e,I),P.x=O(n,P),P.X=O(r,P),P.c=O(e,P);function O(ye,We){return function(je){var Ee=[],Qe=-1,Ye=0,tt=ye.length,rt,ot,Mt;for(je instanceof Date||(je=new Date(+je));++Qe<tt;)ye.charCodeAt(Qe)===37&&(Ee.push(ye.slice(Ye,Qe)),(ot=$C[rt=ye.charAt(++Qe)])!=null?rt=ye.charAt(++Qe):ot=rt==="e"?" ":"0",(Mt=We[rt])&&(rt=Mt(je,ot)),Ee.push(rt),Ye=Qe+1);return Ee.push(ye.slice(Ye,Qe)),Ee.join("")}}function L(ye,We){return function(je){var Ee=Du(1900,void 0,1),Qe=z(Ee,ye,je+="",0),Ye,tt;if(Qe!=je.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(We&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(Ye=xv(Du(Ee.y,0,1)),tt=Ye.getUTCDay(),Ye=tt>4||tt===0?Jd.ceil(Ye):Jd(Ye),Ye=Hh.offset(Ye,(Ee.V-1)*7),Ee.y=Ye.getUTCFullYear(),Ee.m=Ye.getUTCMonth(),Ee.d=Ye.getUTCDate()+(Ee.w+6)%7):(Ye=yv(Du(Ee.y,0,1)),tt=Ye.getDay(),Ye=tt>4||tt===0?Zd.ceil(Ye):Zd(Ye),Ye=hc.offset(Ye,(Ee.V-1)*7),Ee.y=Ye.getFullYear(),Ee.m=Ye.getMonth(),Ee.d=Ye.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),tt="Z"in Ee?xv(Du(Ee.y,0,1)).getUTCDay():yv(Du(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(tt+5)%7:Ee.w+Ee.U*7-(tt+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,xv(Ee)):yv(Ee)}}function z(ye,We,je,Ee){for(var Qe=0,Ye=We.length,tt=je.length,rt,ot;Qe<Ye;){if(Ee>=tt)return-1;if(rt=We.charCodeAt(Qe++),rt===37){if(rt=We.charAt(Qe++),ot=M[rt in $C?We.charAt(Qe++):rt],!ot||(Ee=ot(ye,je,Ee))<0)return-1}else if(rt!=je.charCodeAt(Ee++))return-1}return Ee}function B(ye,We,je){var Ee=f.exec(We.slice(je));return Ee?(ye.p=h.get(Ee[0].toLowerCase()),je+Ee[0].length):-1}function q(ye,We,je){var Ee=y.exec(We.slice(je));return Ee?(ye.w=C.get(Ee[0].toLowerCase()),je+Ee[0].length):-1}function Y(ye,We,je){var Ee=p.exec(We.slice(je));return Ee?(ye.w=v.get(Ee[0].toLowerCase()),je+Ee[0].length):-1}function W(ye,We,je){var Ee=T.exec(We.slice(je));return Ee?(ye.m=D.get(Ee[0].toLowerCase()),je+Ee[0].length):-1}function re(ye,We,je){var Ee=S.exec(We.slice(je));return Ee?(ye.m=b.get(Ee[0].toLowerCase()),je+Ee[0].length):-1}function me(ye,We,je){return z(ye,e,We,je)}function Z(ye,We,je){return z(ye,n,We,je)}function X(ye,We,je){return z(ye,r,We,je)}function Q(ye){return s[ye.getDay()]}function oe(ye){return a[ye.getDay()]}function de(ye){return c[ye.getMonth()]}function Ce(ye){return u[ye.getMonth()]}function $(ye){return i[+(ye.getHours()>=12)]}function se(ye){return 1+~~(ye.getMonth()/3)}function Ae(ye){return s[ye.getUTCDay()]}function we(ye){return a[ye.getUTCDay()]}function Ue(ye){return c[ye.getUTCMonth()]}function $e(ye){return u[ye.getUTCMonth()]}function qe(ye){return i[+(ye.getUTCHours()>=12)]}function Ge(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var We=O(ye+="",I);return We.toString=function(){return ye},We},parse:function(ye){var We=L(ye+="",!1);return We.toString=function(){return ye},We},utcFormat:function(ye){var We=O(ye+="",P);return We.toString=function(){return ye},We},utcParse:function(ye){var We=L(ye+="",!0);return We.toString=function(){return ye},We}}}var $C={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,vY=/^%/,yY=/[\\^$*+?|[\]().{}]/g;function Bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function xY(t){return t.replace(yY,"\\$&")}function Ru(t){return new RegExp("^(?:"+t.map(xY).join("|")+")","i")}function Iu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function bY(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wY(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function EY(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _Y(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function SY(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function YC(t,e,n){var r=Kn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function WC(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function AY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TY(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function CY(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function KC(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function NY(t,e,n){var r=Kn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function XC(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function DY(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function RY(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function IY(t,e,n){var r=Kn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function MY(t,e,n){var r=Kn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function OY(t,e,n){var r=vY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kY(t,e,n){var r=Kn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PY(t,e,n){var r=Kn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ZC(t,e){return Bt(t.getDate(),e,2)}function LY(t,e){return Bt(t.getHours(),e,2)}function UY(t,e){return Bt(t.getHours()%12||12,e,2)}function BY(t,e){return Bt(1+hc.count(wa(t),t),e,3)}function MR(t,e){return Bt(t.getMilliseconds(),e,3)}function jY(t,e){return MR(t,e)+"000"}function zY(t,e){return Bt(t.getMonth()+1,e,2)}function FY(t,e){return Bt(t.getMinutes(),e,2)}function qY(t,e){return Bt(t.getSeconds(),e,2)}function HY(t){var e=t.getDay();return e===0?7:e}function GY(t,e){return Bt(Gh.count(wa(t)-1,t),e,2)}function OR(t){var e=t.getDay();return e>=4||e===0?gl(t):gl.ceil(t)}function VY(t,e){return t=OR(t),Bt(gl.count(wa(t),t)+(wa(t).getDay()===4),e,2)}function $Y(t){return t.getDay()}function YY(t,e){return Bt(Zd.count(wa(t)-1,t),e,2)}function WY(t,e){return Bt(t.getFullYear()%100,e,2)}function KY(t,e){return t=OR(t),Bt(t.getFullYear()%100,e,2)}function XY(t,e){return Bt(t.getFullYear()%1e4,e,4)}function ZY(t,e){var n=t.getDay();return t=n>=4||n===0?gl(t):gl.ceil(t),Bt(t.getFullYear()%1e4,e,4)}function JY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Bt(e/60|0,"0",2)+Bt(e%60,"0",2)}function JC(t,e){return Bt(t.getUTCDate(),e,2)}function QY(t,e){return Bt(t.getUTCHours(),e,2)}function eW(t,e){return Bt(t.getUTCHours()%12||12,e,2)}function tW(t,e){return Bt(1+Hh.count(Ea(t),t),e,3)}function kR(t,e){return Bt(t.getUTCMilliseconds(),e,3)}function nW(t,e){return kR(t,e)+"000"}function rW(t,e){return Bt(t.getUTCMonth()+1,e,2)}function iW(t,e){return Bt(t.getUTCMinutes(),e,2)}function aW(t,e){return Bt(t.getUTCSeconds(),e,2)}function oW(t){var e=t.getUTCDay();return e===0?7:e}function sW(t,e){return Bt(Vh.count(Ea(t)-1,t),e,2)}function PR(t){var e=t.getUTCDay();return e>=4||e===0?vl(t):vl.ceil(t)}function lW(t,e){return t=PR(t),Bt(vl.count(Ea(t),t)+(Ea(t).getUTCDay()===4),e,2)}function uW(t){return t.getUTCDay()}function cW(t,e){return Bt(Jd.count(Ea(t)-1,t),e,2)}function fW(t,e){return Bt(t.getUTCFullYear()%100,e,2)}function dW(t,e){return t=PR(t),Bt(t.getUTCFullYear()%100,e,2)}function hW(t,e){return Bt(t.getUTCFullYear()%1e4,e,4)}function pW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vl(t):vl.ceil(t),Bt(t.getUTCFullYear()%1e4,e,4)}function mW(){return"+0000"}function QC(){return"%"}function e5(t){return+t}function t5(t){return Math.floor(+t/1e3)}var Vs,LR,UR;gW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gW(t){return Vs=gY(t),LR=Vs.format,Vs.parse,UR=Vs.utcFormat,Vs.utcParse,Vs}function vW(t){return new Date(t)}function yW(t){return t instanceof Date?+t:+new Date(+t)}function ab(t,e,n,r,i,a,s,u,c,f){var h=Vx(),p=h.invert,v=h.domain,y=f(".%L"),C=f(":%S"),S=f("%I:%M"),b=f("%I %p"),T=f("%a %d"),D=f("%b %d"),I=f("%B"),P=f("%Y");function M(O){return(c(O)<O?y:u(O)<O?C:s(O)<O?S:a(O)<O?b:r(O)<O?i(O)<O?T:D:n(O)<O?I:P)(O)}return h.invert=function(O){return new Date(p(O))},h.domain=function(O){return arguments.length?v(Array.from(O,yW)):v().map(vW)},h.ticks=function(O){var L=v();return t(L[0],L[L.length-1],O??10)},h.tickFormat=function(O,L){return L==null?M:f(L)},h.nice=function(O){var L=v();return(!O||typeof O.range!="function")&&(O=e(L[0],L[L.length-1],O??10)),O?v(_R(L,O)):h},h.copy=function(){return dc(h,ab(t,e,n,r,i,a,s,u,c,f))},h}function xW(){return fi.apply(ab(pY,mY,wa,rb,Gh,hc,tb,Qx,Go,LR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bW(){return fi.apply(ab(dY,hY,Ea,ib,Vh,Hh,nb,eb,Go,UR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $h(){var t=0,e=1,n,r,i,a,s=mr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(v){var y,C;return arguments.length?([y,C]=v,s=p(y,C),f):[s(0),s(1)]}}return f.range=h(El),f.rangeRound=h(Gx),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function bo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BR(){var t=xo($h()(mr));return t.copy=function(){return bo(t,BR())},Na.apply(t,arguments)}function jR(){var t=Wx($h()).domain([1,10]);return t.copy=function(){return bo(t,jR()).base(t.base())},Na.apply(t,arguments)}function zR(){var t=Kx($h());return t.copy=function(){return bo(t,zR()).constant(t.constant())},Na.apply(t,arguments)}function ob(){var t=Xx($h());return t.copy=function(){return bo(t,ob()).exponent(t.exponent())},Na.apply(t,arguments)}function wW(){return ob.apply(null,arguments).exponent(.5)}function FR(){var t=[],e=mr;function n(r){if(r!=null&&!isNaN(r=+r))return e((cc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>o$(t,a/r))},n.copy=function(){return FR(e).domain(t)},Na.apply(n,arguments)}function Yh(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,f=mr,h,p=!1,v;function y(S){return isNaN(S=+S)?v:(S=.5+((S=+h(S))-a)*(r*S<r*a?u:c),f(p?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(S){return arguments.length?(p=!!S,y):p},y.interpolator=function(S){return arguments.length?(f=S,y):f};function C(S){return function(b){var T,D,I;return arguments.length?([T,D,I]=b,f=O$(S,[T,D,I]),y):[f(0),f(.5),f(1)]}}return y.range=C(El),y.rangeRound=C(Gx),y.unknown=function(S){return arguments.length?(v=S,y):v},function(S){return h=S,i=S(t),a=S(e),s=S(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function qR(){var t=xo(Yh()(mr));return t.copy=function(){return bo(t,qR())},Na.apply(t,arguments)}function HR(){var t=Wx(Yh()).domain([.1,1,10]);return t.copy=function(){return bo(t,HR()).base(t.base())},Na.apply(t,arguments)}function GR(){var t=Kx(Yh());return t.copy=function(){return bo(t,GR()).constant(t.constant())},Na.apply(t,arguments)}function sb(){var t=Xx(Yh());return t.copy=function(){return bo(t,sb()).exponent(t.exponent())},Na.apply(t,arguments)}function EW(){return sb.apply(null,arguments).exponent(.5)}const Ou=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fx,scaleDiverging:qR,scaleDivergingLog:HR,scaleDivergingPow:sb,scaleDivergingSqrt:EW,scaleDivergingSymlog:GR,scaleIdentity:ER,scaleImplicit:Iy,scaleLinear:wR,scaleLog:SR,scaleOrdinal:zx,scalePoint:u$,scalePow:Zx,scaleQuantile:CR,scaleQuantize:NR,scaleRadial:TR,scaleSequential:BR,scaleSequentialLog:jR,scaleSequentialPow:ob,scaleSequentialQuantile:FR,scaleSequentialSqrt:wW,scaleSequentialSymlog:zR,scaleSqrt:nY,scaleSymlog:AR,scaleThreshold:DR,scaleTime:xW,scaleUtc:bW,tickFormat:bR},Symbol.toStringTag,{value:"Module"}));var wo=t=>t.chartData,_W=Se([wo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),lb=(t,e,n,r)=>r?_W(t):wo(t);function go(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Yn(e)&&Yn(n))return!0}return!1}function n5(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function VR(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Yn(n))i=n;else if(typeof n=="function")return;if(Yn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(go(s))return s}}function SW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(go(r))return n5(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(dt(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&IT.test(i)){var c=IT.exec(i);if(c==null||e==null)s=void 0;else{var f=+c[1];s=e[0]-f}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(dt(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&MT.test(a)){var h=MT.exec(a);if(h==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e==null?void 0:e[1];var v=[s,u];if(go(v))return e==null?v:n5(v,e,n)}}}var _l=1e9,AW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cb,fn=!0,ci="[DecimalError] ",Wo=ci+"Invalid argument: ",ub=ci+"Exponent out of range: ",Sl=Math.floor,Fo=Math.pow,TW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zr,Vn=1e7,an=7,$R=9007199254740991,Qd=Sl($R/an),Xe={};Xe.absoluteValue=Xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xe.comparedTo=Xe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*an;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Xe.dividedBy=Xe.div=function(t){return da(this,new this.constructor(t))};Xe.dividedToIntegerBy=Xe.idiv=function(t){var e=this,n=e.constructor;return Zt(da(e,new n(t),0,1),n.precision)};Xe.equals=Xe.eq=function(t){return!this.cmp(t)};Xe.exponent=function(){return On(this)};Xe.greaterThan=Xe.gt=function(t){return this.cmp(t)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(t){return this.cmp(t)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(t){return this.cmp(t)<0};Xe.lessThanOrEqualTo=Xe.lte=function(t){return this.cmp(t)<1};Xe.logarithm=Xe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zr))throw Error(ci+"NaN");if(n.s<1)throw Error(ci+(n.s?"NaN":"-Infinity"));return n.eq(zr)?new r(0):(fn=!1,e=da(Xu(n,a),Xu(t,a),a),fn=!0,Zt(e,i))};Xe.minus=Xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KR(e,t):YR(e,(t.s=-t.s,t))};Xe.modulo=Xe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ci+"NaN");return n.s?(fn=!1,e=da(n,t,0,1).times(t),fn=!0,n.minus(e)):Zt(new r(n),i)};Xe.naturalExponential=Xe.exp=function(){return WR(this)};Xe.naturalLogarithm=Xe.ln=function(){return Xu(this)};Xe.negated=Xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xe.plus=Xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YR(e,t):KR(e,(t.s=-t.s,t))};Xe.precision=Xe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wo+t);if(e=On(i)+1,r=i.d.length-1,n=r*an+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Xe.squareRoot=Xe.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(ci+"NaN")}for(t=On(u),fn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Li(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(da(u,a,s+2)).times(.5),Li(a.d).slice(0,s)===(e=Li(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Zt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return fn=!0,Zt(r,n)};Xe.times=Xe.mul=function(t){var e,n,r,i,a,s,u,c,f,h=this,p=h.constructor,v=h.d,y=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,f=y.length,c<f&&(a=v,v=y,y=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+y[r]*v[i-r-1]+e,a[i--]=u%Vn|0,e=u/Vn|0;a[i]=(a[i]+e)%Vn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,fn?Zt(t,p.precision):t};Xe.toDecimalPlaces=Xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fi(t,0,_l),e===void 0?e=r.rounding:Fi(e,0,8),Zt(n,t+On(n)+1,e))};Xe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jo(r,!0):(Fi(t,0,_l),e===void 0?e=i.rounding:Fi(e,0,8),r=Zt(new i(r),t+1,e),n=Jo(r,!0,t+1)),n};Xe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Jo(i):(Fi(t,0,_l),e===void 0?e=a.rounding:Fi(e,0,8),r=Zt(new a(i),t+On(i)+1,e),n=Jo(r.abs(),!1,t+On(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Xe.toInteger=Xe.toint=function(){var t=this,e=t.constructor;return Zt(new e(t),On(t)+1,e.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(zr);if(u=new c(u),!u.s){if(t.s<1)throw Error(ci+"Infinity");return u}if(u.eq(zr))return u;if(r=c.precision,t.eq(zr))return Zt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=$R){for(i=new c(zr),e=Math.ceil(r/an+4),fn=!1;n%2&&(i=i.times(u),i5(i.d,e)),n=Sl(n/2),n!==0;)u=u.times(u),i5(u.d,e);return fn=!0,t.s<0?new c(zr).div(i):Zt(i,r)}}else if(a<0)throw Error(ci+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,fn=!1,i=t.times(Xu(u,r+f)),fn=!0,i=WR(i),i.s=a,i};Xe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=On(i),r=Jo(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fi(t,1,_l),e===void 0?e=a.rounding:Fi(e,0,8),i=Zt(new a(i),t,e),n=On(i),r=Jo(i,t<=n||n<=a.toExpNeg,t)),r};Xe.toSignificantDigits=Xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fi(t,1,_l),e===void 0?e=r.rounding:Fi(e,0,8)),Zt(new r(n),t,e)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=On(t),n=t.constructor;return Jo(t,e<=n.toExpNeg||e>=n.toExpPos)};function YR(t,e){var n,r,i,a,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),fn?Zt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/an),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Vn|0,c[a]%=Vn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,fn?Zt(e,p):e}function Fi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Wo+t)}function Li(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=an-r.length,n&&(a+=ao(n)),a+=r;s=t[e],r=s+"",n=an-r.length,n&&(a+=ao(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var da=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Vn|0,s=a/Vn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Vn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,f,h,p,v,y,C,S,b,T,D,I,P,M,O,L,z,B=r.constructor,q=r.s==i.s?1:-1,Y=r.d,W=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(ci+"Division by zero");for(c=r.e-i.e,L=W.length,M=Y.length,y=new B(q),C=y.d=[],f=0;W[f]==(Y[f]||0);)++f;if(W[f]>(Y[f]||0)&&--c,a==null?D=a=B.precision:s?D=a+(On(r)-On(i))+1:D=a,D<0)return new B(0);if(D=D/an+2|0,f=0,L==1)for(h=0,W=W[0],D++;(f<M||h)&&D--;f++)I=h*Vn+(Y[f]||0),C[f]=I/W|0,h=I%W|0;else{for(h=Vn/(W[0]+1)|0,h>1&&(W=t(W,h),Y=t(Y,h),L=W.length,M=Y.length),P=L,S=Y.slice(0,L),b=S.length;b<L;)S[b++]=0;z=W.slice(),z.unshift(0),O=W[0],W[1]>=Vn/2&&++O;do h=0,u=e(W,S,L,b),u<0?(T=S[0],L!=b&&(T=T*Vn+(S[1]||0)),h=T/O|0,h>1?(h>=Vn&&(h=Vn-1),p=t(W,h),v=p.length,b=S.length,u=e(p,S,v,b),u==1&&(h--,n(p,L<v?z:W,v))):(h==0&&(u=h=1),p=W.slice()),v=p.length,v<b&&p.unshift(0),n(S,p,b),u==-1&&(b=S.length,u=e(W,S,L,b),u<1&&(h++,n(S,L<b?z:W,b))),b=S.length):u===0&&(h++,S=[0]),C[f++]=h,u&&S[0]?S[b++]=Y[P]||0:(S=[Y[P]],b=1);while((P++<M||S[0]!==void 0)&&D--)}return C[0]||C.shift(),y.e=c,Zt(y,s?a+On(y)+1:a)}})();function WR(t,e){var n,r,i,a,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(On(t)>16)throw Error(ub+On(t));if(!t.s)return new h(zr);for(fn=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Fo(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(zr),h.precision=u;;){if(i=Zt(i.times(t),u),n=n.times(++c),s=a.plus(da(i,n,u)),Li(s.d).slice(0,u)===Li(a.d).slice(0,u)){for(;f--;)a=Zt(a.times(a),u);return h.precision=p,e==null?(fn=!0,Zt(a,p)):a}a=s}}function On(t){for(var e=t.e*an,n=t.d[0];n>=10;n/=10)e++;return e}function bv(t,e,n){if(e>t.LN10.sd())throw fn=!0,n&&(t.precision=n),Error(ci+"LN10 precision limit exceeded");return Zt(new t(t.LN10),e)}function ao(t){for(var e="";t--;)e+="0";return e}function Xu(t,e){var n,r,i,a,s,u,c,f,h,p=1,v=10,y=t,C=y.d,S=y.constructor,b=S.precision;if(y.s<1)throw Error(ci+(y.s?"NaN":"-Infinity"));if(y.eq(zr))return new S(0);if(e==null?(fn=!1,f=b):f=e,y.eq(10))return e==null&&(fn=!0),bv(S,f);if(f+=v,S.precision=f,n=Li(C),r=n.charAt(0),a=On(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Li(y.d),r=n.charAt(0),p++;a=On(y),r>1?(y=new S("0."+n),a++):y=new S(r+"."+n.slice(1))}else return c=bv(S,f+2,b).times(a+""),y=Xu(new S(r+"."+n.slice(1)),f-v).plus(c),S.precision=b,e==null?(fn=!0,Zt(y,b)):y;for(u=s=y=da(y.minus(zr),y.plus(zr),f),h=Zt(y.times(y),f),i=3;;){if(s=Zt(s.times(h),f),c=u.plus(da(s,new S(i),f)),Li(c.d).slice(0,f)===Li(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(bv(S,f+2,b).times(a+""))),u=da(u,new S(p),f),S.precision=b,e==null?(fn=!0,Zt(u,b)):u;u=c,i+=2}}function r5(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sl(n/an),t.d=[],r=(n+1)%an,n<0&&(r+=an),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=an;r<i;)t.d.push(+e.slice(r,r+=an));e=e.slice(r),r=an-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),fn&&(t.e>Qd||t.e<-Qd))throw Error(ub+n)}else t.s=0,t.e=0,t.d=[0];return t}function Zt(t,e,n){var r,i,a,s,u,c,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=an,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/an),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=an,i=r-an+s}if(n!==void 0&&(a=Fo(10,s-i-1),u=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Fo(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=On(t),p.length=1,e=e-a-1,p[0]=Fo(10,(an-e%an)%an),t.e=Sl(-e/an)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Fo(10,an-r),p[h]=i>0?(f/Fo(10,s-i)%Fo(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Vn&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Vn)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(fn&&(t.e>Qd||t.e<-Qd))throw Error(ub+On(t));return t}function KR(t,e){var n,r,i,a,s,u,c,f,h,p,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),fn?Zt(e,y):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(y/an),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Vn-1;--c[a],c[i]+=Vn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,fn?Zt(e,y):e):new v(0)}function Jo(t,e,n){var r,i=On(t),a=Li(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ao(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ao(-i-1)+a,n&&(r=n-s)>0&&(a+=ao(r))):i>=s?(a+=ao(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ao(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ao(r))),t.s<0?"-"+a:a}function i5(t,e){if(t.length>e)return t.length=e,!0}function XR(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return r5(s,a.toString())}else if(typeof a!="string")throw Error(Wo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,TW.test(a))r5(s,a);else throw Error(Wo+a)}if(i.prototype=Xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XR,i.config=i.set=CW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function CW(t){if(!t||typeof t!="object")throw Error(ci+"Object expected");var e,n,r,i=["precision",1,_l,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Wo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wo+n+": "+r);return this}var cb=XR(AW);zr=new cb(1);const Gt=cb;var NW=t=>t,ZR={},JR=t=>t===ZR,a5=t=>function e(){return arguments.length===0||arguments.length===1&&JR(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},QR=(t,e)=>t===1?e:a5(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==ZR).length;return a>=t?e(...r):QR(t-a,a5(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var f=r.map(h=>JR(h)?u.shift():h);return e(...f,...u)}))}),DW=t=>QR(t.length,t),Py=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},RW=DW((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),IW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return NW;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),a(...arguments))}},Ly=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function eI(t){var e;return t===0?e=1:e=Math.floor(new Gt(t).abs().log(10).toNumber())+1,e}function tI(t,e,n){for(var r=new Gt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var nI=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},rI=(t,e,n)=>{if(t.lte(0))return new Gt(0);var r=eI(t.toNumber()),i=new Gt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new Gt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new Gt(c.toNumber()):new Gt(Math.ceil(c.toNumber()))},MW=(t,e,n)=>{var r=new Gt(1),i=new Gt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Gt(10).pow(eI(t)-1),i=new Gt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Gt(Math.floor(t)))}else t===0?i=new Gt(Math.floor((e-1)/2)):n||(i=new Gt(Math.floor(t)));var s=Math.floor((e-1)/2),u=IW(RW(c=>i.add(new Gt(c-s).mul(r)).toNumber()),Py);return u(0,e)},iI=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var s=rI(new Gt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new Gt(0):(u=new Gt(e).add(n).div(2),u=u.sub(new Gt(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),f=Math.ceil(new Gt(n).sub(u).div(s).toNumber()),h=c+f+1;return h>r?iI(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new Gt(c).mul(s)),tickMax:u.add(new Gt(f).mul(s))})},OW=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=nI([n,r]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...Py(0,i-1).map(()=>1/0)]:[...Py(0,i-1).map(()=>-1/0),c];return n>r?Ly(f):f}if(u===c)return MW(u,i,a);var{step:h,tickMin:p,tickMax:v}=iI(u,c,s,a,0),y=tI(p,v.add(new Gt(.1).mul(h)),h);return n>r?Ly(y):y},kW=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=nI([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),f=rI(new Gt(u).sub(s).div(c-1),a,0),h=[...tI(new Gt(s),new Gt(u),f),u];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?Ly(h):h},PW=t=>t.rootProps.barCategoryGap,Wh=t=>t.rootProps.stackOffset,aI=t=>t.rootProps.reverseStackOrder,fb=t=>t.options.chartName,db=t=>t.rootProps.syncId,oI=t=>t.rootProps.syncMethod,hb=t=>t.options.eventEmitter,Dr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},la={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kh=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},LW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:la.type,unit:void 0},UW={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:jr.type,unit:void 0},BW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jW={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:"category",unit:void 0},pb=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?BW:LW,mb=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?jW:UW,Xh=t=>t.polarOptions,gb=Se([Ta,Ca,ar],kV),sI=Se([Xh,gb],(t,e)=>{if(t!=null)return po(t.innerRadius,e,0)}),lI=Se([Xh,gb],(t,e)=>{if(t!=null)return po(t.outerRadius,e,e*.8)}),zW=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},uI=Se([Xh],zW);Se([pb,uI],Kh);var cI=Se([gb,sI,lI],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Se([mb,cI],Kh);var fI=Se([on,Xh,sI,lI,Ta,Ca],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:f}=e;return{cx:po(s,i,i/2),cy:po(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),Bn=(t,e)=>e,Zh=(t,e,n)=>n;function dI(t){return t==null?void 0:t.id}function hI(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=dI(u);f.forEach((p,v)=>{var y=a==null||i?v:String(dr(p,a,null)),C=dr(p,u.dataKey,0),S;s.has(y)?S=s.get(y):S={},Object.assign(S,{[h]:C}),s.set(y,S)})}}),Array.from(s.values())}function vb(t){return t.stackId!=null&&t.dataKey!=null}var Jh=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Qh(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function FW(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var jn=t=>{var e=on(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Al=t=>t.tooltip.settings.axisId;function o5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(n),!0).forEach(function(r){qW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e,n){return(e=HW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HW(t){var e=GW(t,"string");return typeof e=="symbol"?e:e+""}function GW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uy=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pI=(t,e)=>t.cartesianAxis.xAxis[e],Da=(t,e)=>{var n=pI(t,e);return n??Hn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Uy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sc},mI=(t,e)=>t.cartesianAxis.yAxis[e],Ra=(t,e)=>{var n=mI(t,e);return n??Gn},VW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yb=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??VW},yr=(t,e,n)=>{switch(e){case"xAxis":return Da(t,n);case"yAxis":return Ra(t,n);case"zAxis":return yb(t,n);case"angleAxis":return pb(t,n);case"radiusAxis":return mb(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$W=(t,e,n)=>{switch(e){case"xAxis":return Da(t,n);case"yAxis":return Ra(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pc=(t,e,n)=>{switch(e){case"xAxis":return Da(t,n);case"yAxis":return Ra(t,n);case"angleAxis":return pb(t,n);case"radiusAxis":return mb(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gI=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function vI(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var yI=t=>t.graphicalItems.cartesianItems,YW=Se([Bn,Zh],vI),xI=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),mc=Se([yI,yr,YW],xI,{memoizeOptions:{resultEqualityCheck:Qh}}),bI=Se([mc],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(vb)),wI=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),WW=Se([mc],wI),EI=t=>t.map(e=>e.data).filter(Boolean).flat(1),KW=Se([mc],EI,{memoizeOptions:{resultEqualityCheck:Qh}}),_I=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},xb=Se([KW,lb],_I),SI=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:dr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:dr(i,r)}))):t.map(r=>({value:r})),ep=Se([xb,yr,mc],SI);function AI(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function sd(t){if(zi(t)||t instanceof Date){var e=Number(t);if(Yn(e))return e}}function s5(t){if(Array.isArray(t)){var e=[sd(t[0]),sd(t[1])];return go(e)?e:void 0}var n=sd(t);if(n!=null)return[n,n]}function _a(t){return t.map(sd).filter(aF)}function XW(t,e,n){return!n||typeof e!="number"||va(e)?[]:n.length?_a(n.flatMap(r=>{var i=dr(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Yn(a)||!Yn(s)))return[e-a,e+s]})):[]}var zn=t=>{var e=jn(t),n=Al(t);return pc(t,e,n)},gc=Se([zn],t=>t==null?void 0:t.dataKey),ZW=Se([bI,lb,zn],hI),TI=(t,e,n,r)=>{var i={},a=e.reduce((s,u)=>(u.stackId==null||(s[u.stackId]==null&&(s[u.stackId]=[]),s[u.stackId].push(u)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[u,c]=s,f=r?[...c].reverse():c,h=f.map(dI);return[u,{stackedData:SH(t,h,n),graphicalItems:f}]}))},JW=Se([ZW,bI,Wh,aI],TI),CI=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=CH(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},QW=Se([yr],t=>t.allowDataOverflow),bb=t=>{var e;if(t==null||!("domain"in t))return Uy;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=_a(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Uy},NI=Se([yr],bb),DI=Se([NI,QW],VR),eK=Se([JW,wo,Bn,DI],CI,{memoizeOptions:{resultEqualityCheck:Jh}}),wb=t=>t.errorBars,tK=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>AI(n,r)),th=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),u=Math.max(...a);return[s,u]}},RI=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var f,h,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(T=>AI(i,T)),v=dr(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),y=XW(u,v,p);if(y.length>=2){var C=Math.min(...y),S=Math.max(...y);(a==null||C<a)&&(a=C),(s==null||S>s)&&(s=S)}var b=s5(v);b!=null&&(a=a==null?b[0]:Math.min(a,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=s5(dr(u,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Yn(a)&&Yn(s))return[a,s]},nK=Se([xb,yr,WW,wb,Bn],RI,{memoizeOptions:{resultEqualityCheck:Jh}});function rK(t){var{value:e}=t;if(zi(e)||e instanceof Date)return e}var iK=(t,e,n)=>{var r=t.map(rK).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&$D(r))?cR(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},II=t=>t.referenceElements.dots,Tl=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),aK=Se([II,Bn,Zh],Tl),MI=t=>t.referenceElements.areas,oK=Se([MI,Bn,Zh],Tl),OI=t=>t.referenceElements.lines,sK=Se([OI,Bn,Zh],Tl),kI=(t,e)=>{var n=_a(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lK=Se(aK,Bn,kI),PI=(t,e)=>{var n=_a(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},uK=Se([oK,Bn],PI);function cK(t){var e;if(t.x!=null)return _a([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:_a(n)}function fK(t){var e;if(t.y!=null)return _a([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:_a(n)}var LI=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?cK(r):fK(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dK=Se([sK,Bn],LI),hK=Se(lK,dK,uK,(t,e,n)=>th(t,n,e)),UI=(t,e,n,r,i,a,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",f=c?th(r,a,i):th(a,i);return SW(e,f,t.allowDataOverflow)},pK=Se([yr,NI,DI,eK,nK,hK,on,Bn],UI,{memoizeOptions:{resultEqualityCheck:Jh}}),mK=[0,1],BI=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,f=yo(e,a);if(f&&u==null){var h;return cR(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?iK(r,t,f):i==="expand"?mK:s}},Eb=Se([yr,on,xb,ep,Wh,Bn,pK],BI),jI=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(nc(a));return u in Ou?u:"point"}}},vc=Se([yr,on,gI,fb,Bn],jI);function gK(t){if(t!=null){if(t in Ou)return Ou[t]();var e="scale".concat(nc(t));if(e in Ou)return Ou[e]()}}function _b(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=gK(e);if(i!=null){var a=i.domain(n).range(r);return bH(a),a}}}var zI=(t,e,n)=>{var r=bb(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&go(t))return OW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&go(t))return kW(t,e.tickCount,e.allowDecimals)}},Sb=Se([Eb,pc,vc],zI),FI=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&go(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(s,u)]}return e},vK=Se([yr,Eb,Sb,Bn],FI),yK=Se(ep,yr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(_a(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),qI=Se(yK,on,PW,ar,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Yn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=po(n,t*a),u=t*a/2;return u-s-(u-s)/a*s}return 0}),xK=(t,e)=>{var n=Da(t,e);return n==null||typeof n.padding!="string"?0:qI(t,"xAxis",e,n.padding)},bK=(t,e)=>{var n=Ra(t,e);return n==null||typeof n.padding!="string"?0:qI(t,"yAxis",e,n.padding)},wK=Se(Da,xK,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),EK=Se(Ra,bK,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),_K=Se([ar,wK,Ph,kh,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),SK=Se([ar,on,EK,Ph,kh,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),yc=(t,e,n,r)=>{var i;switch(e){case"xAxis":return _K(t,n,r);case"yAxis":return SK(t,n,r);case"zAxis":return(i=yb(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return uI(t);case"radiusAxis":return cI(t,n);default:return}},HI=Se([yr,yc],Kh),Cl=Se([yr,vc,vK,HI],_b);Se([mc,wb,Bn],tK);function GI(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var tp=(t,e)=>e,np=(t,e,n)=>n,AK=Se(Mh,tp,np,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(GI)),TK=Se(Oh,tp,np,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(GI)),VI=(t,e)=>({width:t.width,height:e.height}),CK=(t,e)=>{var n=typeof e.width=="number"?e.width:sc;return{width:n,height:t.height}},NK=Se(ar,Da,VI),DK=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},RK=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},IK=Se(Ca,ar,AK,tp,np,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=VI(e,u);s==null&&(s=DK(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),a}),MK=Se(Ta,ar,TK,tp,np,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=CK(e,u);s==null&&(s=RK(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),a}),OK=(t,e)=>{var n=Da(t,e);if(n!=null)return IK(t,n.orientation,n.mirror)},kK=Se([ar,Da,OK,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),PK=(t,e)=>{var n=Ra(t,e);if(n!=null)return MK(t,n.orientation,n.mirror)},LK=Se([ar,Ra,PK,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),UK=Se(ar,Ra,(t,e)=>{var n=typeof e.width=="number"?e.width:sc;return{width:n,height:t.height}}),$I=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,u=yo(t,r),c=e.map(f=>f.value);if(s&&u&&a==="category"&&i&&$D(c))return c}},Ab=Se([on,ep,yr,Bn],$I),YI=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=yo(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},Tb=Se([on,ep,pc,Bn],YI);Se([on,$W,vc,Cl,Ab,Tb,yc,Sb,Bn],(t,e,n,r,i,a,s,u,c)=>{if(e!=null){var f=yo(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:s,realScaleType:n,scale:r}}});var BK=(t,e,n,r,i,a,s,u,c)=>{if(!(e==null||r==null)){var f=yo(t,c),{type:h,ticks:p,tickCount:v}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,C=h==="category"&&r.bandwidth?r.bandwidth()/y:0;C=c==="angleAxis"&&a!=null&&a.length>=2?Si(a[0]-a[1])*2*C:C;var S=p||i;if(S){var b=S.map((T,D)=>{var I=s?s.indexOf(T):T;return{index:D,coordinate:r(I)+C,value:T,offset:C}});return b.filter(T=>Yn(T.coordinate))}return f&&u?u.map((T,D)=>({coordinate:r(T)+C,value:T,index:D,offset:C})).filter(T=>Yn(T.coordinate)):r.ticks?r.ticks(v).map(T=>({coordinate:r(T)+C,value:T,offset:C})):r.domain().map((T,D)=>({coordinate:r(T)+C,value:s?s[T]:T,index:D,offset:C}))}},WI=Se([on,pc,vc,Cl,Sb,yc,Ab,Tb,Bn],BK),jK=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=yo(t,s),{tickCount:c}=e,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Si(r[0]-r[1])*2*f:f,u&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},KI=Se([on,pc,Cl,yc,Ab,Tb,Bn],jK),XI=Se(yr,Cl,(t,e)=>{if(!(t==null||e==null))return eh(eh({},t),{},{scale:e})}),zK=Se([yr,vc,Eb,HI],_b);Se((t,e,n)=>yb(t,n),zK,(t,e)=>{if(!(t==null||e==null))return eh(eh({},t),{},{scale:e})});var FK=Se([on,Mh,Oh],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ZI=t=>t.options.defaultTooltipEventType,JI=t=>t.options.validateTooltipEventTypes;function QI(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Cb(t,e){var n=ZI(t),r=JI(t);return QI(e,n,r)}function qK(t){return lt(e=>Cb(e,t))}var eM=(t,e)=>{var n,r=Number(e);if(!(va(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},HK=t=>t.tooltip.settings,so={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},GK={itemInteraction:{click:so,hover:so},axisInteraction:{click:so,hover:so},keyboardInteraction:so,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tM=Rr({name:"tooltip",initialState:GK,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:cn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ti(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:cn()},removeTooltipEntrySettings:{reducer(t,e){var n=Ti(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:cn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:VK,replaceTooltipEntrySettings:$K,removeTooltipEntrySettings:YK,setTooltipSettingsState:WK,setActiveMouseOverItemIndex:KK,mouseLeaveItem:Tre,mouseLeaveChart:nM,setActiveClickItemIndex:Cre,setMouseOverAxisIndex:rM,setMouseClickAxisIndex:XK,setSyncInteraction:By,setKeyboardInteraction:jy}=tM.actions,ZK=tM.reducer;function l5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(n),!0).forEach(function(r){JK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JK(t,e,n){return(e=QK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tX(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function nX(t){return t.index!=null}var iM=(t,e,n,r)=>{if(e==null)return so;var i=tX(t,e,n);if(i==null)return so;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(nX(i)){if(a)return Xf(Xf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Xf(Xf({},so),{},{coordinate:i.coordinate})};function rX(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function iX(t,e){var n=rX(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function aX(t,e,n){if(n==null||e==null)return!0;var r=dr(t,e);return r==null||!go(n)?!0:iX(r,n)}var Nb=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!Yn(a))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(s,Math.min(a,u)),f=e[c];return f==null||aX(f,n,r)?String(c):null},aM=(t,e,n,r,i,a,s,u)=>{if(!(a==null||u==null)){var c=s[0],f=c==null?void 0:u(c.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},oM=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},xc=t=>t.options.tooltipPayloadSearcher,Nl=t=>t.tooltip;function u5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(n),!0).forEach(function(r){oX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oX(t,e,n){return(e=sX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sX(t){var e=lX(t,"string");return typeof e=="symbol"?e:e+""}function lX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uX(t,e){return t??e}var sM=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((v,y)=>{var C,{dataDefinedOnItem:S,settings:b}=y,T=uX(S,u),D=Array.isArray(T)?j3(T,f,h):T,I=(C=b==null?void 0:b.dataKey)!==null&&C!==void 0?C:r,P=b==null?void 0:b.nameKey,M;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?M=YD(D,r,i):M=a(D,e,c,P),Array.isArray(M))M.forEach(L=>{var z=c5(c5({},b),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});v.push(OT({tooltipEntrySettings:z,dataKey:L.dataKey,payload:L.payload,value:dr(L.payload,L.dataKey),name:L.name}))});else{var O;v.push(OT({tooltipEntrySettings:b,dataKey:I,payload:M,value:dr(M,I),name:(O=dr(M,P))!==null&&O!==void 0?O:b==null?void 0:b.name}))}return v},p)}},Db=Se([zn,on,gI,fb,jn],jI),cX=Se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),fX=Se([jn,Al],vI),bc=Se([cX,zn,fX],xI,{memoizeOptions:{resultEqualityCheck:Qh}}),dX=Se([bc],t=>t.filter(vb)),hX=Se([bc],EI,{memoizeOptions:{resultEqualityCheck:Qh}}),Dl=Se([hX,wo],_I),pX=Se([dX,wo,zn],hI),Rb=Se([Dl,zn,bc],SI),lM=Se([zn],bb),mX=Se([zn],t=>t.allowDataOverflow),uM=Se([lM,mX],VR),gX=Se([bc],t=>t.filter(vb)),vX=Se([pX,gX,Wh,aI],TI),yX=Se([vX,wo,jn,uM],CI),xX=Se([bc],wI),bX=Se([Dl,zn,xX,wb,jn],RI,{memoizeOptions:{resultEqualityCheck:Jh}}),wX=Se([II,jn,Al],Tl),EX=Se([wX,jn],kI),_X=Se([MI,jn,Al],Tl),SX=Se([_X,jn],PI),AX=Se([OI,jn,Al],Tl),TX=Se([AX,jn],LI),CX=Se([EX,TX,SX],th),NX=Se([zn,lM,uM,yX,bX,CX,on,jn],UI),wc=Se([zn,on,Dl,Rb,Wh,jn,NX],BI),DX=Se([wc,zn,Db],zI),RX=Se([zn,wc,DX,jn],FI),cM=t=>{var e=jn(t),n=Al(t),r=!1;return yc(t,e,n,r)},fM=Se([zn,cM],Kh),dM=Se([zn,Db,RX,fM],_b),IX=Se([on,Rb,zn,jn],$I),MX=Se([on,Rb,zn,jn],YI),OX=(t,e,n,r,i,a,s,u)=>{if(e){var{type:c}=e,f=yo(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Si(i[0]-i[1])*2*p:p,f&&s?s.map((v,y)=>({coordinate:r(v)+p,value:v,index:y,offset:p})):r.domain().map((v,y)=>({coordinate:r(v)+p,value:a?a[v]:v,index:y,offset:p}))}}},Ia=Se([on,zn,Db,dM,cM,IX,MX,jn],OX),Ib=Se([ZI,JI,HK],(t,e,n)=>QI(n.shared,t,e)),hM=t=>t.tooltip.settings.trigger,Mb=t=>t.tooltip.settings.defaultIndex,Ec=Se([Nl,Ib,hM,Mb],iM),Zu=Se([Ec,Dl,gc,wc],Nb),pM=Se([Ia,Zu],eM),kX=Se([Ec],t=>{if(t)return t.dataKey});Se([Ec],t=>{if(t)return t.graphicalItemId});var mM=Se([Nl,Ib,hM,Mb],oM),PX=Se([Ta,Ca,on,ar,Ia,Mb,mM,xc],aM),LX=Se([Ec,PX],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),UX=Se([Ec],t=>t.active),BX=Se([mM,Zu,wo,gc,pM,xc,Ib],sM),jX=Se([BX],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function f5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(n),!0).forEach(function(r){zX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zX(t,e,n){return(e=FX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=qX(t,"string");return typeof e=="symbol"?e:e+""}function qX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HX=()=>lt(zn),GX=()=>{var t=HX(),e=lt(Ia),n=lt(dM);return Pd(!t||!n?void 0:d5(d5({},t),{},{scale:n}),e)};function h5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h5(Object(n),!0).forEach(function(r){VX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VX(t,e,n){return(e=$X(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $X(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WX=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},KX=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return $s($s($s({},r),rr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var u=i.coordinate,{angle:c}=r;return $s($s($s({},r),rr(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function XX(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var gM=(t,e,n,r,i)=>{var a,s=-1,u=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var f=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,p=c>=u-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(Si(h-f)!==Si(p-h)){var y=[];if(Si(p-h)===Si(i[1]-i[0])){v=p;var C=h+i[1]-i[0];y[0]=Math.min(C,(C+f)/2),y[1]=Math.max(C,(C+f)/2)}else{v=f;var S=p+i[1]-i[0];y[0]=Math.min(h,(S+h)/2),y[1]=Math.max(h,(S+h)/2)}var b=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>b[0]&&t<=b[1]||t>=y[0]&&t<=y[1]){({index:s}=n[c]);break}}else{var T=Math.min(f,p),D=Math.max(f,p);if(t>(T+h)/2&&t<=(D+h)/2){({index:s}=n[c]);break}}}else if(e){for(var I=0;I<u;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<u-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===u-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:s}=e[I]);break}}return s},ZX=()=>lt(fb),Ob=(t,e)=>e,vM=(t,e,n)=>n,kb=(t,e,n,r)=>r,JX=Se(Ia,t=>_h(t,e=>e.coordinate)),Pb=Se([Nl,Ob,vM,kb],iM),Lb=Se([Pb,Dl,gc,wc],Nb),QX=(t,e,n)=>{if(e!=null){var r=Nl(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},yM=Se([Nl,Ob,vM,kb],oM),nh=Se([Ta,Ca,on,ar,Ia,kb,yM,xc],aM),eZ=Se([Pb,nh],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),xM=Se([Ia,Lb],eM),tZ=Se([yM,Lb,wo,gc,xM,xc,Ob],sM),nZ=Se([Pb,Lb],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),rZ=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&XX(t,s)){var u=NH(t,e),c=gM(u,a,i,n,r),f=WX(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},iZ=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var u=jV(t,n);if(u){var c=DH(u,e),f=gM(c,s,a,r,i),h=KX(e,a,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},aZ=(t,e,n,r,i,a,s,u)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?rZ(t,e,r,i,a,s,u):iZ(t,e,n,r,i,a,s)},oZ=Se(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),sZ=Se(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Dr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:FW}});function p5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(n),!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return(e=uZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uZ(t){var e=cZ(t,"string");return typeof e=="symbol"?e:e+""}function cZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fZ={},dZ={zIndexMap:Object.values(Dr).reduce((t,e)=>m5(m5({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),fZ)},hZ=new Set(Object.values(Dr));function pZ(t){return hZ.has(t)}var bM=Rr({name:"zIndex",initialState:dZ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:cn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!pZ(n)&&delete t.zIndexMap[n])},prepare:cn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:cn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:cn()}}}),{registerZIndexPortal:mZ,unregisterZIndexPortal:gZ,registerZIndexPortalId:vZ,unregisterZIndexPortalId:yZ}=bM.actions,xZ=bM.reducer;function Eo(t){var{zIndex:e,children:n}=t,r=fG(),i=r&&e!==void 0&&e!==0,a=Vr(),s=Wn();R.useLayoutEffect(()=>i?(s(mZ({zIndex:e})),()=>{s(gZ({zIndex:e}))}):rc,[s,e,i]);var u=lt(f=>oZ(f,e,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?ND.createPortal(n,c):null}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(null,arguments)}function g5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(n),!0).forEach(function(r){bZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bZ(t,e,n){return(e=wZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wZ(t){var e=EZ(t,"string");return typeof e=="symbol"?e:e+""}function EZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Z(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return R.isValidElement(e)?R.cloneElement(e,r):R.createElement(n,r)}function SZ(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:f,chartName:h}=t,p=n,v=r,y=i;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var C,S,b;if(h==="ScatterChart")C=p,S=QG,b=Dr.cursorLine;else if(h==="BarChart")C=eV(u,p,a,s),S=oR,b=Dr.cursorRectangle;else if(u==="radial"&&XD(p)){var{cx:T,cy:D,radius:I,startAngle:P,endAngle:M}=sR(p);C={cx:T,cy:D,startAngle:P,endAngle:M,innerRadius:I,outerRadius:I},S=uR,b=Dr.cursorLine}else C={points:HV(u,p,a)},S=tR,b=Dr.cursorLine;var O=typeof c=="object"&&"className"in c?c.className:void 0,L=Zf(Zf(Zf(Zf({stroke:"#ccc",pointerEvents:"none"},a),C),yh(c)),{},{payload:v,payloadIndex:y,className:Jt("recharts-tooltip-cursor",O)});return R.createElement(Eo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:b},R.createElement(_Z,{cursor:c,cursorComp:S,cursorProps:L}))}function AZ(t){var e=GX(),n=lG(),r=Uh(),i=ZX();return e==null||n==null||r==null||i==null?null:R.createElement(SZ,zy({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var wM=R.createContext(null),TZ=()=>R.useContext(wM),wv={exports:{}},v5;function CZ(){return v5||(v5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||c,v),C=n?n+f:f;return c._events[C]?c._events[C].fn?c._events[C]=[c._events[C],y]:c._events[C].push(y):(c._events[C]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,C=new Array(y);v<y;v++)C[v]=p[v].fn;return C},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,v,y,C){var S=n?n+f:f;if(!this._events[S])return!1;var b=this._events[S],T=arguments.length,D,I;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),T){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,p),!0;case 4:return b.fn.call(b.context,h,p,v),!0;case 5:return b.fn.call(b.context,h,p,v,y),!0;case 6:return b.fn.call(b.context,h,p,v,y,C),!0}for(I=1,D=new Array(T-1);I<T;I++)D[I-1]=arguments[I];b.fn.apply(b.context,D)}else{var P=b.length,M;for(I=0;I<P;I++)switch(b[I].once&&this.removeListener(f,b[I].fn,void 0,!0),T){case 1:b[I].fn.call(b[I].context);break;case 2:b[I].fn.call(b[I].context,h);break;case 3:b[I].fn.call(b[I].context,h,p);break;case 4:b[I].fn.call(b[I].context,h,p,v);break;default:if(!D)for(M=1,D=new Array(T-1);M<T;M++)D[M-1]=arguments[M];b[I].fn.apply(b[I].context,D)}}return!0},u.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,v){var y=n?n+f:f;if(!this._events[y])return this;if(!h)return s(this,y),this;var C=this._events[y];if(C.fn)C.fn===h&&(!v||C.once)&&(!p||C.context===p)&&s(this,y);else{for(var S=0,b=[],T=C.length;S<T;S++)(C[S].fn!==h||v&&!C[S].once||p&&C[S].context!==p)&&b.push(C[S]);b.length?this._events[y]=b.length===1?b[0]:b:s(this,y)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(wv)),wv.exports}var NZ=CZ();const DZ=hr(NZ);var Ju=new DZ,Fy="recharts.syncEvent.tooltip",y5="recharts.syncEvent.brush";function RZ(t,e){if(e){var n=Number.parseInt(e,10);if(!va(n))return t==null?void 0:t[n]}}var IZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EM=Rr({name:"options",initialState:IZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),MZ=EM.reducer,{createEventEmitter:OZ}=EM.actions;function kZ(t){return t.tooltip.syncInteraction}var PZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_M=Rr({name:"chartData",initialState:PZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:x5,setDataStartEndIndexes:LZ,setComputedData:Nre}=_M.actions,UZ=_M.reducer,BZ=["x","y"];function b5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(n),!0).forEach(function(r){jZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e,n){return(e=zZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qZ(t,e){if(t==null)return{};var n,r,i=HZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GZ(){var t=lt(db),e=lt(hb),n=Wn(),r=lt(oI),i=lt(Ia),a=Uh(),s=Lh(),u=lt(c=>c.rootProps.className);R.useEffect(()=>{if(t==null)return rc;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var v;if(s&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:C,y:S}=y,b=qZ(y,BZ),{x:T,y:D,width:I,height:P}=h.payload.sourceViewBox,M=Ys(Ys({},b),{},{x:s.x+(I?(C-T)/I:0)*s.width,y:s.y+(P?(S-D)/P:0)*s.height});n(Ys(Ys({},h),{},{payload:Ys(Ys({},h.payload),{},{coordinate:M})}))}else n(h);return}if(i!=null){var O;if(typeof r=="function"){var L={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},z=r(i,L);O=i[z]}else r==="value"&&(O=i.find(X=>String(X.value)===h.payload.label));var{coordinate:B}=h.payload;if(O==null||h.payload.active===!1||B==null||s==null){n(By({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:Y}=B,W=Math.min(q,s.x+s.width),re=Math.min(Y,s.y+s.height),me={x:a==="horizontal"?O.coordinate:W,y:a==="horizontal"?re:O.coordinate},Z=By({active:h.payload.active,coordinate:me,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return Ju.on(Fy,c),()=>{Ju.off(Fy,c)}},[u,n,e,t,r,i,a,s])}function VZ(){var t=lt(db),e=lt(hb),n=Wn();R.useEffect(()=>{if(t==null)return rc;var r=(i,a,s)=>{e!==s&&t===i&&n(LZ(a))};return Ju.on(y5,r),()=>{Ju.off(y5,r)}},[n,e,t])}function $Z(){var t=Wn();R.useEffect(()=>{t(OZ())},[t]),GZ(),VZ()}function YZ(t,e,n,r,i,a){var s=lt(y=>QX(y,t,e)),u=lt(hb),c=lt(db),f=lt(oI),h=lt(kZ),p=h==null?void 0:h.active,v=Lh();R.useEffect(()=>{if(!p&&c!=null&&u!=null){var y=By({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Ju.emit(Fy,c,y,u)}},[p,n,s,i,r,u,c,f,a,v])}function w5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return(e=KZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=XZ(t,"string");return typeof e=="symbol"?e:e+""}function XZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZZ(t){return t.dataKey}function JZ(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(MG,e)}var _5=[],QZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eJ(t){var e,n,r=Gr(t,QZ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:u,content:c,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:v,position:y,reverseDirection:C,useTranslate3d:S,wrapperStyle:b,cursor:T,shared:D,trigger:I,defaultIndex:P,portal:M,axisId:O}=r,L=Wn(),z=typeof P=="number"?String(P):P;R.useEffect(()=>{L(WK({shared:D,trigger:I,axisId:O,active:i,defaultIndex:z}))},[L,D,I,O,i,z]);var B=Lh(),q=eR(),Y=qK(D),{activeIndex:W,isActive:re}=(e=lt(qe=>nZ(qe,Y,I,z)))!==null&&e!==void 0?e:{},me=lt(qe=>tZ(qe,Y,I,z)),Z=lt(qe=>xM(qe,Y,I,z)),X=lt(qe=>eZ(qe,Y,I,z)),Q=me,oe=TZ(),de=(n=i??re)!==null&&n!==void 0?n:!1,[Ce,$]=mq([Q,de]),se=Y==="axis"?Z:void 0;YZ(Y,I,X,se,W,de);var Ae=M??oe;if(Ae==null||B==null||Y==null)return null;var we=Q??_5;de||(we=_5),f&&we.length&&(we=FF(we.filter(qe=>qe.value!=null&&(qe.hide!==!0||r.includeHidden)),v,ZZ));var Ue=we.length>0,$e=R.createElement(jG,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:h,active:de,coordinate:X,hasPayload:Ue,offset:p,position:y,reverseDirection:C,useTranslate3d:S,viewBox:B,wrapperStyle:b,lastBoundingBox:Ce,innerRef:$,hasPortalFromProps:!!M},JZ(c,E5(E5({},r),{},{payload:we,label:se,active:de,activeIndex:W,coordinate:X,accessibilityLayer:q})));return R.createElement(R.Fragment,null,ND.createPortal($e,Ae),de&&R.createElement(AZ,{cursor:T,tooltipEventType:Y,coordinate:X,payload:we,index:W}))}function tJ(t,e,n){return(e=nJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=rJ(t,"string");return typeof e=="symbol"?e:e+""}function rJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iJ{constructor(e){tJ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function S5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=lJ(t,"string");return typeof e=="symbol"?e:e+""}function lJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uJ={cacheSize:2e3,enableCache:!0},SM=aJ({},uJ),A5=new iJ(SM.cacheSize),cJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},T5="recharts_measurement_span";function fJ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(u)}var C5=(t,e)=>{try{var n=document.getElementById(T5);n||(n=document.createElement("span"),n.setAttribute("id",T5),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,cJ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uc.isSsr)return{width:0,height:0};if(!SM.enableCache)return C5(e,n);var r=fJ(e,n),i=A5.get(r);if(i)return i;var a=C5(e,n);return A5.set(r,a),a},N5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pJ=Object.keys(AM),nl="NaN";function mJ(t,e){return t*AM[e]}class Tr{static parse(e){var n,[,r,i]=(n=hJ.exec(e))!==null&&n!==void 0?n:[];return new Tr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,va(e)&&(this.unit=""),n!==""&&!dJ.test(n)&&(this.num=NaN,this.unit=""),pJ.includes(n)&&(this.num=mJ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return va(this.num)}}function TM(t){if(t.includes(nl))return nl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=N5.exec(e))!==null&&n!==void 0?n:[],s=Tr.parse(r??""),u=Tr.parse(a??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return nl;e=e.replace(N5,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,v]=(f=D5.exec(e))!==null&&f!==void 0?f:[],y=Tr.parse(h??""),C=Tr.parse(v??""),S=p==="+"?y.add(C):y.subtract(C);if(S.isNaN())return nl;e=e.replace(D5,S.toString())}return e}var R5=/\(([^()]*)\)/;function gJ(t){for(var e=t,n;(n=R5.exec(e))!=null;){var[,r]=n;e=e.replace(R5,TM(r))}return e}function vJ(t){var e=t.replace(/\s+/g,"");return e=gJ(e),e=TM(e),e}function yJ(t){try{return vJ(t)}catch{return nl}}function Ev(t){var e=yJ(t.slice(5,-1));return e===nl?"":e}var xJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bJ=["dx","dy","angle","className","breakAll"];function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(null,arguments)}function I5(t,e){if(t==null)return{};var n,r,i=wJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var CM=/[ \f\n\r\t\v\u2028\u2029]+/,NM=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];$n(e)||(n?i=e.toString().split(""):i=e.toString().split(CM));var a=i.map(u=>({word:u,width:Pu(u,r).width})),s=n?0:Pu("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function EJ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var DM=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(s),c.width+=u+n;else{var f={words:[s],width:u};i.push(f)}return i},[]),RM=t=>t.reduce((e,n)=>e.width>n.width?e:n),_J="",M5=(t,e,n,r,i,a,s,u)=>{var c=t.slice(0,e),f=NM({breakAll:n,style:r,children:c+_J});if(!f)return[!1,[]];var h=DM(f.wordsWithComputedWidth,a,s,u),p=h.length>i||RM(h).width>Number(a);return[p,h]},SJ=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:u,breakAll:c}=t,f=dt(a),h=String(s),p=DM(e,r,n,i);if(!f||i)return p;var v=p.length>a||RM(p).width>Number(r);if(!v)return p;for(var y=0,C=h.length-1,S=0,b;y<=C&&S<=h.length-1;){var T=Math.floor((y+C)/2),D=T-1,[I,P]=M5(h,D,c,u,a,r,n,i),[M]=M5(h,T,c,u,a,r,n,i);if(!I&&!M&&(y=T+1),I&&M&&(C=T-1),!I&&M){b=P;break}S++}return b||p},O5=t=>{var e=$n(t)?[]:t.toString().split(CM);return[{words:e,width:void 0}]},AJ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!uc.isSsr){var u,c,f=NM({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,c=p}else return O5(r);return SJ({breakAll:a,children:r,maxLines:s,style:i},u,c,e,!!n)}return O5(r)},IM="#808080",TJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:IM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ub=R.forwardRef((t,e)=>{var n=Gr(t,TJ),{x:r,y:i,lineHeight:a,capHeight:s,fill:u,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,p=I5(n,xJ),v=R.useMemo(()=>AJ({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:y,dy:C,angle:S,className:b,breakAll:T}=p,D=I5(p,bJ);if(!zi(r)||!zi(i)||v.length===0)return null;var I=Number(r)+(dt(y)?y:0),P=Number(i)+(dt(C)?C:0);if(!Yn(I)||!Yn(P))return null;var M;switch(h){case"start":M=Ev("calc(".concat(s,")"));break;case"middle":M=Ev("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:M=Ev("calc(".concat(v.length-1," * -").concat(a,")"));break}var O=[];if(c){var L=v[0].width,{width:z}=p;O.push("scale(".concat(dt(z)&&dt(L)?z/L:1,")"))}return S&&O.push("rotate(".concat(S,", ").concat(I,", ").concat(P,")")),O.length&&(D.transform=O.join(" ")),R.createElement("text",qy({},gr(D),{ref:e,x:I,y:P,className:Jt("recharts-text",b),textAnchor:f,fill:u.includes("url")?IM:u}),v.map((B,q)=>{var Y=B.words.join(T?"":" ");return R.createElement("tspan",{x:I,dy:q===0?M:a,key:"".concat(Y,"-").concat(q)},Y)}))});Ub.displayName="Text";var CJ=["labelRef"];function NJ(t,e){if(t==null)return{};var n,r,i=DJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){RJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RJ(t,e,n){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=MJ(t,"string");return typeof e=="symbol"?e:e+""}function MJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(null,arguments)}var MM=R.createContext(null),OJ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:u}=t,c=R.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return R.createElement(MM.Provider,{value:c},u)},OM=()=>{var t=R.useContext(MM),e=Lh();return t||$3(e)},kJ=R.createContext(null),PJ=()=>{var t=R.useContext(kJ),e=lt(fI);return t||e},LJ=t=>{var{value:e,formatter:n}=t,r=$n(t.children)?e:t.children;return typeof n=="function"?n(r):r},Bb=t=>t!=null&&typeof t=="function",UJ=(t,e)=>{var n=Si(e-t),r=Math.min(Math.abs(e-t),360);return n*r},BJ=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:v,clockWise:y}=i,C=(f+h)/2,S=UJ(p,v),b=S>=0?1:-1,T,D;switch(e){case"insideStart":T=p+b*a,D=y;break;case"insideEnd":T=v-b*a,D=!y;break;case"end":T=v+b*a,D=y;break;default:throw new Error("Unsupported position ".concat(e))}D=S<=0?D:!D;var I=rr(u,c,C,T),P=rr(u,c,C,T+(D?1:-1)*359),M="M".concat(I.x,",").concat(I.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(D?0:1,`,
    `).concat(P.x,",").concat(P.y),O=$n(t.id)?Bu("recharts-radial-line-"):t.id;return R.createElement("text",ua({},r,{dominantBaseline:"central",className:Jt("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:O,d:M})),R.createElement("textPath",{xlinkHref:"#".concat(O)},n))},jJ=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:p}=rr(r,i,s+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+s)/2,{x:y,y:C}=rr(r,i,v,f);return{x:y,y:C,textAnchor:"middle",verticalAnchor:"middle"}},Hy=t=>"cx"in t&&dt(t.cx),zJ=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!Hy(n)&&(a=n);var{x:s,y:u,upperWidth:c,lowerWidth:f,height:h}=e,p=s,v=s+(c-f)/2,y=(p+v)/2,C=(c+f)/2,S=p+c/2,b=h>=0?1:-1,T=b*r,D=b>0?"end":"start",I=b>0?"start":"end",P=c>=0?1:-1,M=P*r,O=P>0?"end":"start",L=P>0?"start":"end";if(i==="top"){var z={x:p+c/2,y:u-T,textAnchor:"middle",verticalAnchor:D};return An(An({},z),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var B={x:v+f/2,y:u+h+T,textAnchor:"middle",verticalAnchor:I};return An(An({},B),a?{height:Math.max(a.y+a.height-(u+h),0),width:f}:{})}if(i==="left"){var q={x:y-M,y:u+h/2,textAnchor:O,verticalAnchor:"middle"};return An(An({},q),a?{width:Math.max(q.x-a.x,0),height:h}:{})}if(i==="right"){var Y={x:y+C+M,y:u+h/2,textAnchor:L,verticalAnchor:"middle"};return An(An({},Y),a?{width:Math.max(a.x+a.width-Y.x,0),height:h}:{})}var W=a?{width:C,height:h}:{};return i==="insideLeft"?An({x:y+M,y:u+h/2,textAnchor:L,verticalAnchor:"middle"},W):i==="insideRight"?An({x:y+C-M,y:u+h/2,textAnchor:O,verticalAnchor:"middle"},W):i==="insideTop"?An({x:p+c/2,y:u+T,textAnchor:"middle",verticalAnchor:I},W):i==="insideBottom"?An({x:v+f/2,y:u+h-T,textAnchor:"middle",verticalAnchor:D},W):i==="insideTopLeft"?An({x:p+M,y:u+T,textAnchor:L,verticalAnchor:I},W):i==="insideTopRight"?An({x:p+c-M,y:u+T,textAnchor:O,verticalAnchor:I},W):i==="insideBottomLeft"?An({x:v+M,y:u+h-T,textAnchor:L,verticalAnchor:D},W):i==="insideBottomRight"?An({x:v+f-M,y:u+h-T,textAnchor:O,verticalAnchor:D},W):i&&typeof i=="object"&&(dt(i.x)||ya(i.x))&&(dt(i.y)||ya(i.y))?An({x:s+po(i.x,C),y:u+po(i.y,h),textAnchor:"end",verticalAnchor:"end"},W):An({x:S,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},W)},FJ={angle:0,offset:5,zIndex:Dr.label,position:"middle",textBreakAll:!1};function oo(t){var e=Gr(t,FJ),{viewBox:n,position:r,value:i,children:a,content:s,className:u="",textBreakAll:c,labelRef:f}=e,h=PJ(),p=OM(),v=r==="center"?p:h??p,y,C,S;if(n==null?y=v:Hy(n)?y=n:y=$3(n),!y||$n(i)&&$n(a)&&!R.isValidElement(s)&&typeof s!="function")return null;var b=An(An({},e),{},{viewBox:y});if(R.isValidElement(s)){var{labelRef:T}=b,D=NJ(b,CJ);return R.cloneElement(s,D)}if(typeof s=="function"){if(C=R.createElement(s,b),R.isValidElement(C))return C}else C=LJ(e);var I=gr(e);if(Hy(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return BJ(e,r,C,I,y);S=jJ(y,e.offset,e.position)}else S=zJ(e,y);return R.createElement(Eo,{zIndex:e.zIndex},R.createElement(Ub,ua({ref:f,className:Jt("recharts-label",u)},I,S,{textAnchor:EJ(I.textAnchor)?I.textAnchor:S.textAnchor,breakAll:c}),C))}oo.displayName="Label";var qJ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(oo,ua({key:"label-implicit"},r)):zi(t)?R.createElement(oo,ua({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===oo?R.cloneElement(t,An({key:"label-implicit"},r)):R.createElement(oo,ua({key:"label-implicit",content:t},r)):Bb(t)?R.createElement(oo,ua({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(oo,ua({},t,{key:"label-implicit"},r)):null};function HJ(t){var{label:e,labelRef:n}=t,r=OM();return qJ(e,r,n)||null}var _v={},Sv={},P5;function GJ(){return P5||(P5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Sv)),Sv}var Av={},L5;function VJ(){return L5||(L5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Av)),Av}var U5;function $J(){return U5||(U5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GJ(),n=VJ(),r=Sx();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(_v)),_v}var Tv,B5;function YJ(){return B5||(B5=1,Tv=$J().last),Tv}var WJ=YJ();const KJ=hr(WJ);var XJ=["valueAccessor"],ZJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rh.apply(null,arguments)}function j5(t,e){if(t==null)return{};var n,r,i=JJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QJ=t=>Array.isArray(t.value)?KJ(t.value):t.value,kM=R.createContext(void 0),eQ=kM.Provider,PM=R.createContext(void 0);PM.Provider;function tQ(){return R.useContext(kM)}function nQ(){return R.useContext(PM)}function ld(t){var{valueAccessor:e=QJ}=t,n=j5(t,XJ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:u}=n,c=j5(n,ZJ),f=tQ(),h=nQ(),p=f||h;return!p||!p.length?null:R.createElement(Eo,{zIndex:u??Dr.label},R.createElement(ho,{className:"recharts-label-list"},p.map((v,y)=>{var C,S=$n(r)?e(v,y):dr(v&&v.payload,r),b=$n(a)?{}:{id:"".concat(a,"-").concat(y)};return R.createElement(oo,rh({key:"label-".concat(y)},gr(v),c,b,{fill:(C=n.fill)!==null&&C!==void 0?C:v.fill,parentViewBox:v.parentViewBox,value:S,textBreakAll:s,viewBox:v.viewBox,index:y,zIndex:0}))})))}ld.displayName="LabelList";function rQ(t){var{label:e}=t;return e?e===!0?R.createElement(ld,{key:"labelList-implicit"}):R.isValidElement(e)||Bb(e)?R.createElement(ld,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(ld,rh({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(null,arguments)}var LM=t=>{var{cx:e,cy:n,r,className:i}=t,a=Jt("recharts-dot",i);return dt(e)&&dt(n)&&dt(r)?R.createElement("circle",Gy({},ga(t),_x(t),{className:a,cx:e,cy:n,r})):null},iQ={radiusAxis:{},angleAxis:{}},UM=Rr({name:"polarAxis",initialState:iQ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Dre,removeRadiusAxis:Rre,addAngleAxis:Ire,removeAngleAxis:Mre}=UM.actions,aQ=UM.reducer,BM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Cv={},z5;function oQ(){return z5||(z5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Cv)),Cv}var Nv,F5;function sQ(){return F5||(F5=1,Nv=oQ().isPlainObject),Nv}var lQ=sQ();const uQ=hr(lQ);function q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(n),!0).forEach(function(r){cQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cQ(t,e,n){return(e=fQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=dQ(t,"string");return typeof e=="symbol"?e:e+""}function dQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(null,arguments)}var G5=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},hQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pQ=t=>{var e=Gr(t,hQ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,v=R.useRef(null),[y,C]=R.useState(-1),S=R.useRef(i),b=R.useRef(a),T=R.useRef(s),D=R.useRef(n),I=R.useRef(r),P=Bx(t,"trapezoid-");if(R.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var me=v.current.getTotalLength();me&&C(me)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var M=Jt("recharts-trapezoid",u);if(!p)return R.createElement("g",null,R.createElement("path",ih({},gr(e),{className:M,d:G5(n,r,i,a,s)})));var O=S.current,L=b.current,z=T.current,B=D.current,q=I.current,Y="0px ".concat(y===-1?1:y,"px"),W="".concat(y,"px 0px"),re=nR(["strokeDasharray"],f,c);return R.createElement(Ux,{animationId:P,key:P,canBegin:y>0,duration:f,easing:c,isActive:p,begin:h},me=>{var Z=Cr(O,i,me),X=Cr(L,a,me),Q=Cr(z,s,me),oe=Cr(B,n,me),de=Cr(q,r,me);v.current&&(S.current=Z,b.current=X,T.current=Q,D.current=oe,I.current=de);var Ce=me>0?{transition:re,strokeDasharray:W}:{strokeDasharray:Y};return R.createElement("path",ih({},gr(e),{className:M,d:G5(oe,de,Z,X,Q),ref:v,style:H5(H5({},Ce),e.style)}))})},mQ=["option","shapeType","propTransformer","activeClassName"];function gQ(t,e){if(t==null)return{};var n,r,i=vQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function V5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(n),!0).forEach(function(r){yQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yQ(t,e,n){return(e=xQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQ(t){var e=bQ(t,"string");return typeof e=="symbol"?e:e+""}function bQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wQ(t,e){return ah(ah({},e),t)}function EQ(t,e){return t==="symbols"}function $5(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(oR,n);case"trapezoid":return R.createElement(pQ,n);case"sector":return R.createElement(uR,n);case"symbols":if(EQ(e))return R.createElement(KD,n);break;case"curve":return R.createElement(tR,n);default:return null}}function _Q(t){return R.isValidElement(t)?t.props:t}function SQ(t){var{option:e,shapeType:n,propTransformer:r=wQ,activeClassName:i="recharts-active-shape"}=t,a=gQ(t,mQ),s;if(R.isValidElement(e))s=R.cloneElement(e,ah(ah({},a),_Q(e)));else if(typeof e=="function")s=e(a,a.index);else if(uQ(e)&&typeof e!="boolean"){var u=r(e,a);s=R.createElement($5,{shapeType:n,elementProps:u})}else{var c=a;s=R.createElement($5,{shapeType:n,elementProps:c})}return a.isActive?R.createElement(ho,{className:i},s):s}function AQ(t){var{tooltipEntrySettings:e}=t,n=Wn(),r=Vr(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(VK(e)):i.current!==e&&n($K({prev:i.current,next:e})),i.current=e)},[e,n,r]),R.useLayoutEffect(()=>()=>{i.current&&(n(YK(i.current)),i.current=null)},[n]),null}function TQ(t){var{legendPayload:e}=t,n=Wn(),r=Vr(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(SG(e)):i.current!==e&&n(AG({prev:i.current,next:e})),i.current=e)},[n,r,e]),R.useLayoutEffect(()=>()=>{i.current&&(n(TG(i.current)),i.current=null)},[n]),null}var Dv,CQ=()=>{var[t]=R.useState(()=>Bu("uid-"));return t},NQ=(Dv=Dk.useId)!==null&&Dv!==void 0?Dv:CQ;function jM(t,e){var n=NQ();return e||(t?"".concat(t,"-").concat(n):n)}var DQ=R.createContext(void 0),RQ=t=>{var{id:e,type:n,children:r}=t,i=jM("recharts-".concat(n),e);return R.createElement(DQ.Provider,{value:i},r(i))},IQ={cartesianItems:[],polarItems:[]},zM=Rr({name:"graphicalItems",initialState:IQ,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:cn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ti(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:cn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ti(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:cn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:cn()},removePolarGraphicalItem:{reducer(t,e){var n=Ti(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:cn()}}}),{addCartesianGraphicalItem:MQ,replaceCartesianGraphicalItem:OQ,removeCartesianGraphicalItem:kQ,addPolarGraphicalItem:Ore,removePolarGraphicalItem:kre}=zM.actions,PQ=zM.reducer,LQ=t=>{var e=Wn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(MQ(t)):n.current!==t&&e(OQ({prev:n.current,next:t})),n.current=t},[e,t]),R.useLayoutEffect(()=>()=>{n.current&&(e(kQ(n.current)),n.current=null)},[e]),null},UQ=R.memo(LQ),BQ=["points"];function Y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(n),!0).forEach(function(r){jQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jQ(t,e,n){return(e=zQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zQ(t){var e=FQ(t,"string");return typeof e=="symbol"?e:e+""}function FQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oh.apply(null,arguments)}function qQ(t,e){if(t==null)return{};var n,r,i=HQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GQ(t){var{option:e,dotProps:n,className:r}=t;if(R.isValidElement(e))return R.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Jt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,u=qQ(a,BQ);return R.createElement(LM,oh({},u,{className:i}))}function VQ(t,e){return t==null?!1:e?!0:t.length===1}function $Q(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:u,clipPathId:c,zIndex:f=Dr.scatter}=t;if(!VQ(e,n))return null;var h=BM(n),p=hz(n),v=e.map((C,S)=>{var b,T,D=Rv(Rv(Rv({r:3},s),p),{},{index:S,cx:(b=C.x)!==null&&b!==void 0?b:void 0,cy:(T=C.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:C.value,payload:C.payload,points:e});return R.createElement(GQ,{key:"dot-".concat(S),option:n,dotProps:D,className:i})}),y={};return u&&c!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),R.createElement(Eo,{zIndex:f},R.createElement(ho,oh({className:r},y),v))}function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return(e=WQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=KQ(t,"string");return typeof e=="symbol"?e:e+""}function KQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XQ={xAxis:{},yAxis:{},zAxis:{}},FM=Rr({name:"cartesianAxis",initialState:XQ,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:cn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:cn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:cn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:cn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:cn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:cn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:cn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:cn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:cn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=K5(K5({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:ZQ,replaceXAxis:JQ,removeXAxis:QQ,addYAxis:eee,replaceYAxis:tee,removeYAxis:nee,addZAxis:Pre,replaceZAxis:Lre,removeZAxis:Ure,updateYAxisWidth:ree}=FM.actions,iee=FM.reducer,aee=Se([ar],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),oee=Se([aee,Ta,Ca],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),jb=()=>lt(oee),see=()=>lt(jX);function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(r){lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lee(t,e,n){return(e=uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=cee(t,"string");return typeof e=="symbol"?e:e+""}function cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fee=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=Iv(Iv(Iv({},u),yh(i)),_x(i)),f;return R.isValidElement(i)?f=R.cloneElement(i,c):typeof i=="function"?f=i(c):f=R.createElement(LM,c),R.createElement(ho,{className:"recharts-active-dot",clipPath:s},f)};function dee(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Dr.activeDot}=t,u=lt(Zu),c=see();if(e==null||c==null)return null;var f=e.find(h=>c.includes(h.payload));return $n(f)?null:R.createElement(Eo,{zIndex:s},R.createElement(fee,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var hee={},qM=Rr({name:"errorBars",initialState:hee,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Bre,replaceErrorBar:jre,removeErrorBar:zre}=qM.actions,pee=qM.reducer,mee=["children"];function gee(t,e){if(t==null)return{};var n,r,i=vee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yee={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xee=R.createContext(yee);function bee(t){var{children:e}=t,n=gee(t,mee);return R.createElement(xee.Provider,{value:n},e)}function HM(t,e){var n,r,i=lt(f=>Da(f,t)),a=lt(f=>Ra(f,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Hn.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function wee(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=jb(),{needClipX:a,needClipY:s,needClip:u}=HM(e,n);if(!u||!i)return null;var{x:c,y:f,width:h,height:p}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?c:c-h/2,y:s?f:f-p/2,width:a?h:h*2,height:s?p:p*2}))}var Mv={exports:{}},Ov={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5;function Eee(){if(Z5)return Ov;Z5=1;var t=yl();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,u=t.useDebugValue;return Ov.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var y=i(null);if(y.current===null){var C={hasValue:!1,value:null};y.current=C}else C=y.current;y=s(function(){function b(M){if(!T){if(T=!0,D=M,M=p(M),v!==void 0&&C.hasValue){var O=C.value;if(v(O,M))return I=O}return I=M}if(O=I,n(D,M))return O;var L=p(M);return v!==void 0&&v(O,L)?(D=M,O):(D=M,I=L)}var T=!1,D,I,P=h===void 0?null:h;return[function(){return b(f())},P===null?void 0:function(){return b(P())}]},[f,h,p,v]);var S=r(c,y[0],y[1]);return a(function(){C.hasValue=!0,C.value=S},[S]),u(S),S},Ov}var J5;function _ee(){return J5||(J5=1,Mv.exports=Eee()),Mv.exports}_ee();function See(t){t()}function Aee(){let t=null,e=null;return{clear(){t=null,e=null},notify(){See(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Q5={notify(){},get:()=>[]};function Tee(t,e){let n,r=Q5,i=0,a=!1;function s(S){h();const b=r.subscribe(S);let T=!1;return()=>{T||(T=!0,b(),p())}}function u(){r.notify()}function c(){C.onStateChange&&C.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(c),r=Aee())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Q5)}function v(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const C={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return C}var Cee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nee=Cee(),Dee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ree=Dee(),Iee=()=>Nee||Ree?R.useLayoutEffect:R.useEffect,Mee=Iee();function eN(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Oee(t,e){if(eN(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!eN(t[n[i]],e[n[i]]))return!1;return!0}var kv=Symbol.for("react-redux-context"),Pv=typeof globalThis<"u"?globalThis:{};function kee(){if(!R.createContext)return{};const t=Pv[kv]??(Pv[kv]=new Map);let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var Pee=kee();function Lee(t){const{children:e,context:n,serverState:r,store:i}=t,a=R.useMemo(()=>{const c=Tee(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=R.useMemo(()=>i.getState(),[i]);Mee(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const u=n||Pee;return R.createElement(u.Provider,{value:a},e)}var Uee=Lee,Bee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function jee(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function zb(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Bee.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Oee(t[r],e[r]))return!1}else if(!jee(t[r],e[r]))return!1;return!0}var zee=t=>{var{chartData:e}=t,n=Wn(),r=Vr();return R.useEffect(()=>r?()=>{}:(n(x5(e)),()=>{n(x5(void 0))}),[e,n,r]),null},tN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},GM=Rr({name:"brush",initialState:tN,reducers:{setBrushSettings(t,e){return e.payload==null?tN:e.payload}}}),{setBrushSettings:Fre}=GM.actions,Fee=GM.reducer;function qee(t,e,n){return(e=Hee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hee(t){var e=Gee(t,"string");return typeof e=="symbol"?e:e+""}function Gee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fb{static create(e){return new Fb(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}qee(Fb,"EPS",1e-4);function Vee(t){return(t%180+180)%180}var $ee=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Vee(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Yee={dots:[],areas:[],lines:[]},VM=Rr({name:"referenceElements",initialState:Yee,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ti(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ti(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ti(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:qre,removeDot:Hre,addArea:Gre,removeArea:Vre,addLine:$re,removeLine:Yre}=VM.actions,Wee=VM.reducer,Kee=R.createContext(void 0),Xee=t=>{var{children:e}=t,[n]=R.useState("".concat(Bu("recharts"),"-clip")),r=jb();if(r==null)return null;var{x:i,y:a,width:s,height:u}=r;return R.createElement(Kee.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:u,width:s}))),e)};function $M(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Zee(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return $ee(r,n)}function Jee(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:u}=t;return e===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function sh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Qee(t,e){return $M(t,e+1)}function ete(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:u}=e,c=0,f=1,h=s,p=function(){var C=r==null?void 0:r[c];if(C===void 0)return{v:$M(r,f)};var S=c,b,T=()=>(b===void 0&&(b=n(C,S)),b),D=C.coordinate,I=c===0||sh(t,D,T,h,u);I||(c=0,h=s,f+=1),I&&(h=D+t*(T()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){tte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tte(t,e,n){return(e=nte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nte(t){var e=rte(t,"string");return typeof e=="symbol"?e:e+""}function rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ite(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:u}=e,{end:c}=e,f=function(v){var y=a[v],C,S=()=>(C===void 0&&(C=n(y,v)),C);if(v===s-1){var b=t*(y.coordinate+t*S()/2-c);a[v]=y=cr(cr({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else a[v]=y=cr(cr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var T=sh(t,y.tickCoord,S,u,c);T&&(c=y.tickCoord-t*(S()/2+i),a[v]=cr(cr({},y),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return a}function ate(t,e,n,r,i,a){var s=(r||[]).slice(),u=s.length,{start:c,end:f}=e;if(a){var h=r[u-1],p=n(h,u-1),v=t*(h.coordinate+t*p/2-f);if(s[u-1]=h=cr(cr({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate}),h.tickCoord!=null){var y=sh(t,h.tickCoord,()=>p,c,f);y&&(f=h.tickCoord-t*(p/2+i),s[u-1]=cr(cr({},h),{},{isShow:!0}))}}for(var C=a?u-1:u,S=function(D){var I=s[D],P,M=()=>(P===void 0&&(P=n(I,D)),P);if(D===0){var O=t*(I.coordinate-t*M()/2-c);s[D]=I=cr(cr({},I),{},{tickCoord:O<0?I.coordinate-O*t:I.coordinate})}else s[D]=I=cr(cr({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var L=sh(t,I.tickCoord,M,c,f);L&&(c=I.tickCoord+t*(M()/2+i),s[D]=cr(cr({},I),{},{isShow:!0}))}},b=0;b<C;b++)S(b);return s}function ote(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:u,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(dt(c)||uc.isSsr){var v;return(v=Qee(i,dt(c)?c:0))!==null&&v!==void 0?v:[]}var y=[],C=u==="top"||u==="bottom"?"width":"height",S=h&&C==="width"?Pu(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=(I,P)=>{var M=typeof f=="function"?f(I.value,P):I.value;return C==="width"?Zee(Pu(M,{fontSize:e,letterSpacing:n}),S,p):Pu(M,{fontSize:e,letterSpacing:n})[C]},T=i.length>=2?Si(i[1].coordinate-i[0].coordinate):1,D=Jee(a,T,C);return c==="equidistantPreserveStart"?ete(T,D,b,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=ate(T,D,b,i,s,c==="preserveStartEnd"):y=ite(T,D,b,i,s),y.filter(I=>I.isShow))}var ste=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,f=s+c+u+(n?r:0);return Math.round(f)}return 0},lte=["axisLine","width","height","className","hide","ticks","axisType"];function ute(t,e){if(t==null)return{};var n,r,i=cte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(null,arguments)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e,n){return(e=dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=hte(t,"string");return typeof e=="symbol"?e:e+""}function hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ko={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Dr.axis};function pte(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var f=Mn(Mn(Mn({},c),ga(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);f=Mn(Mn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=Mn(Mn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return R.createElement("line",Qo({},f,{className:Jt("recharts-cartesian-axis-line",Eh(u,"className"))}))}function mte(t,e,n,r,i,a,s,u,c){var f,h,p,v,y,C,S=u?-1:1,b=t.tickSize||s,T=dt(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,v=n+ +!u*i,p=v-S*b,C=p-S*c,y=T;break;case"left":p=v=t.coordinate,h=e+ +!u*r,f=h-S*b,y=f-S*c,C=T;break;case"right":p=v=t.coordinate,h=e+ +u*r,f=h+S*b,y=f+S*c,C=T;break;default:f=h=t.coordinate,v=n+ +u*i,p=v+S*b,C=p+S*c,y=T;break}return{line:{x1:f,y1:p,x2:h,y2:v},tick:{x:y,y:C}}}function gte(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function vte(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function yte(t){var{option:e,tickProps:n,value:r}=t,i,a=Jt(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,Mn(Mn({},n),{},{className:a}));else if(typeof e=="function")i=e(Mn(Mn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Jt(s,e==null?void 0:e.className)),i=R.createElement(Ub,Qo({},n,{className:s}),r)}return i}var xte=R.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:u,padding:c,tickTextProps:f,orientation:h,mirror:p,x:v,y,width:C,height:S,tickSize:b,tickMargin:T,fontSize:D,letterSpacing:I,getTicksConfig:P,events:M,axisType:O}=t,L=ote(Mn(Mn({},P),{},{ticks:n}),D,I),z=gte(h,p),B=vte(h,p),q=ga(P),Y=yh(r),W={};typeof i=="object"&&(W=i);var re=Mn(Mn({},q),{},{fill:"none"},W),me=L.map(Q=>Mn({entry:Q},mte(Q,v,y,C,S,h,b,p,T))),Z=me.map(Q=>{var{entry:oe,line:de}=Q;return R.createElement(ho,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&R.createElement("line",Qo({},re,de,{className:Jt("recharts-cartesian-axis-tick-line",Eh(i,"className"))})))}),X=me.map((Q,oe)=>{var{entry:de,tick:Ce}=Q,$=Mn(Mn(Mn(Mn({textAnchor:z,verticalAnchor:B},q),{},{stroke:"none",fill:a},Y),Ce),{},{index:oe,payload:de,visibleTicksCount:L.length,tickFormatter:s,padding:c},f);return R.createElement(ho,Qo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},vF(M,de,oe)),r&&R.createElement(yte,{option:r,tickProps:$,value:"".concat(typeof s=="function"?s(de.value,oe):de.value).concat(u||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},X.length>0&&R.createElement(Eo,{zIndex:Dr.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},X)),Z.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},Z))}),bte=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:u,axisType:c}=t,f=ute(t,lte),[h,p]=R.useState(""),[v,y]=R.useState(""),C=R.useRef(null);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var b;return ste({ticks:C.current,label:(b=t.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=R.useCallback(b=>{if(b){var T=b.getElementsByClassName("recharts-cartesian-axis-tick-value");C.current=T;var D=T[0];if(D){var I=window.getComputedStyle(D),P=I.fontSize,M=I.letterSpacing;(P!==h||M!==v)&&(p(P),y(M))}}},[h,v]);return s||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(Eo,{zIndex:t.zIndex},R.createElement(ho,{className:Jt("recharts-cartesian-axis",a)},R.createElement(pte,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ga(t)}),R.createElement(xte,{ref:S,axisType:c,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),R.createElement(OJ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},R.createElement(HJ,{label:t.label,labelRef:t.labelRef}),t.children)))}),qb=R.forwardRef((t,e)=>{var n=Gr(t,Ko);return R.createElement(bte,Qo({},n,{ref:e}))});qb.displayName="CartesianAxis";var YM=(t,e,n,r)=>XI(t,"xAxis",e,r),WM=(t,e,n,r)=>KI(t,"xAxis",e,r),KM=(t,e,n,r)=>XI(t,"yAxis",n,r),XM=(t,e,n,r)=>KI(t,"yAxis",n,r),wte=Se([on,YM,KM,WM,XM],(t,e,n,r,i)=>yo(t,"xAxis")?Pd(e,r,!1):Pd(n,i,!1)),Ete=(t,e,n,r,i)=>i;function _te(t){return t.type==="line"}var Ste=Se([yI,Ete],(t,e)=>t.filter(_te).find(n=>n.id===e)),Ate=Se([on,YM,KM,WM,XM,Ste,wte,lb],(t,e,n,r,i,a,s,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:v}=a,y;if(v!=null&&v.length>0?y=v:y=c==null?void 0:c.slice(f,h+1),y!=null)return $te({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:y})}});function Tte(t){var e=yh(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),u=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(u)||u<0)&&(u=r),{r:s,strokeWidth:u}}return{r:n,strokeWidth:r}}var Cte=["id"],Nte=["type","layout","connectNulls","needClip","shape"],Dte=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(null,arguments)}function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Mte(t,"string");return typeof e=="symbol"?e:e+""}function Mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hb(t,e){if(t==null)return{};var n,r,i=Ote(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ote(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kte=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:z3(n,e),payload:t}]},Pte=R.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:u,unit:c,tooltipType:f}=t,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:z3(s,e),hide:u,type:f,color:r,unit:c}};return R.createElement(AQ,{tooltipEntrySettings:h})}),ZM=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Lte(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Ute=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return ZM(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,u=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>a){u=[...n.slice(0,c),a-f];break}var h=u.length%2===0?[0,s]:[s];return[...Lte(n,i),...u,...h].map(p=>"".concat(p,"px")).join(", ")};function Bte(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:u}=r,c=Hb(r,Cte),f=ga(c);return R.createElement($Q,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:s,clipPathId:e})}function jte(t){var{showLabels:e,children:n,points:r}=t,i=R.useMemo(()=>r==null?void 0:r.map(a=>{var s,u,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Pi(Pi({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return R.createElement(eQ,{value:e?i:void 0},n)}function aN(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:u,connectNulls:c,needClip:f,shape:h}=a,p=Hb(a,Nte),v=Pi(Pi({},gr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:u,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return R.createElement(R.Fragment,null,(r==null?void 0:r.length)>1&&R.createElement(SQ,Qu({shapeType:"curve",option:h},v,{pathRef:n})),R.createElement(Bte,{points:r,clipPathId:e,props:a}))}function zte(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Fte(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:u,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:v,width:y,height:C,onAnimationEnd:S,onAnimationStart:b}=n,T=i.current,D=Bx(s,"recharts-line-"),I=R.useRef(D),[P,M]=R.useState(!1),O=!P,L=R.useCallback(()=>{typeof S=="function"&&S(),M(!1)},[S]),z=R.useCallback(()=>{typeof b=="function"&&b(),M(!0)},[b]),B=zte(r.current),q=R.useRef(0);I.current!==D&&(q.current=a.current,I.current=D);var Y=q.current;return R.createElement(jte,{points:s,showLabels:O},n.children,R.createElement(Ux,{animationId:D,begin:f,duration:h,isActive:c,easing:p,onAnimationEnd:L,onAnimationStart:z,key:D},W=>{var re=Cr(Y,B+Y,W),me=Math.min(re,B),Z;if(c)if(u){var X="".concat(u).split(/[,\s]+/gim).map(de=>parseFloat(de));Z=Ute(me,B,X)}else Z=ZM(B,me);else Z=u==null?void 0:String(u);if(W>0&&B>0&&(i.current=s,a.current=Math.max(a.current,me)),T){var Q=T.length/s.length,oe=W===1?s:s.map((de,Ce)=>{var $=Math.floor(Ce*Q);if(T[$]){var se=T[$];return Pi(Pi({},de),{},{x:Cr(se.x,de.x,W),y:Cr(se.y,de.y,W)})}return v?Pi(Pi({},de),{},{x:Cr(y*2,de.x,W),y:Cr(C/2,de.y,W)}):Pi(Pi({},de),{},{x:de.x,y:de.y})});return i.current=oe,R.createElement(aN,{props:n,points:oe,clipPathId:e,pathRef:r,strokeDasharray:Z})}return R.createElement(aN,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:Z})}),R.createElement(rQ,{label:n.label}))}function qte(t){var{clipPathId:e,props:n}=t,r=R.useRef(null),i=R.useRef(0),a=R.useRef(null);return R.createElement(Fte,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Hte=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:dr(t.payload,e)}};class Gte extends R.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:u,left:c,width:f,height:h,id:p,needClip:v,zIndex:y}=this.props;if(e)return null;var C=Jt("recharts-line",i),S=p,{r:b,strokeWidth:T}=Tte(n),D=BM(n),I=b*2+T,P=v?"url(#clipPath-".concat(D?"":"dots-").concat(S,")"):void 0;return R.createElement(Eo,{zIndex:y},R.createElement(ho,{className:C},v&&R.createElement("defs",null,R.createElement(wee,{clipPathId:S,xAxisId:a,yAxisId:s}),!D&&R.createElement("clipPath",{id:"clipPath-dots-".concat(S)},R.createElement("rect",{x:c-I/2,y:u-I/2,width:f+I,height:h+I}))),R.createElement(bee,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Hte,errorBarOffset:0},R.createElement(qte,{props:this.props,clipPathId:S}))),R.createElement(dee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:P}))}}var JM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Dr.line,type:"linear"};function Vte(t){var e=Gr(t,JM),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:u,dot:c,hide:f,isAnimationActive:h,label:p,legendType:v,xAxisId:y,yAxisId:C,id:S}=e,b=Hb(e,Dte),{needClip:T}=HM(y,C),D=jb(),I=Uh(),P=Vr(),M=lt(q=>Ate(q,y,C,P,S));if(I!=="horizontal"&&I!=="vertical"||M==null||D==null)return null;var{height:O,width:L,x:z,y:B}=D;return R.createElement(Gte,Qu({},b,{id:S,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:h,hide:f,label:p,legendType:v,xAxisId:y,yAxisId:C,points:M,layout:I,height:O,width:L,left:z,top:B,needClip:T}))}function $te(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:u,displayedData:c}=t;return c.map((f,h)=>{var p=dr(f,s);if(e==="horizontal"){var v=RT({axis:n,ticks:i,bandSize:u,entry:f,index:h}),y=$n(p)?null:r.scale(p);return{x:v,y,value:p,payload:f}}var C=$n(p)?null:n.scale(p),S=RT({axis:r,ticks:a,bandSize:u,entry:f,index:h});return C==null||S==null?null:{x:C,y:S,value:p,payload:f}}).filter(Boolean)}function Yte(t){var e=Gr(t,JM),n=Vr();return R.createElement(RQ,{id:e.id,type:"line"},r=>R.createElement(R.Fragment,null,R.createElement(TQ,{legendPayload:kte(e)}),R.createElement(Pte,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),R.createElement(UQ,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),R.createElement(Vte,Qu({},e,{id:r}))))}var QM=R.memo(Yte,zb);QM.displayName="Line";var Wte=["domain","range"],Kte=["domain","range"];function oN(t,e){if(t==null)return{};var n,r,i=Xte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sN(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function e4(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=oN(t,Wte),{domain:a,range:s}=e,u=oN(e,Kte);return!sN(n,a)||!sN(r,s)?!1:zb(i,u)}var Zte=["dangerouslySetInnerHTML","ticks"],Jte=["id"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(null,arguments)}function lN(t,e){if(t==null)return{};var n,r,i=Qte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ene(t){var e=Wn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(ZQ(t)):n.current!==t&&e(JQ({prev:n.current,next:t})),n.current=t},[t,e]),R.useLayoutEffect(()=>()=>{n.current&&(e(QQ(n.current)),n.current=null)},[e]),null}var tne=t=>{var{xAxisId:e,className:n}=t,r=lt(q3),i=Vr(),a="xAxis",s=lt(b=>Cl(b,a,e,i)),u=lt(b=>WI(b,a,e,i)),c=lt(b=>NK(b,e)),f=lt(b=>kK(b,e)),h=lt(b=>pI(b,e));if(c==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,y=lN(t,Zte),{id:C}=h,S=lN(h,Jte);return R.createElement(qb,Vy({},y,S,{scale:s,x:f.x,y:f.y,width:c.width,height:c.height,className:Jt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},nne={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:Ko.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:Ko.tickLine,tickSize:Ko.tickSize,type:Hn.type,xAxisId:0},rne=t=>{var e=Gr(t,nne);return R.createElement(R.Fragment,null,R.createElement(ene,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),R.createElement(tne,e))},t4=R.memo(rne,e4);t4.displayName="XAxis";var ine=["dangerouslySetInnerHTML","ticks"],ane=["id"];function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(null,arguments)}function uN(t,e){if(t==null)return{};var n,r,i=one(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function one(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sne(t){var e=Wn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(eee(t)):n.current!==t&&e(tee({prev:n.current,next:t})),n.current=t},[t,e]),R.useLayoutEffect(()=>()=>{n.current&&(e(nee(n.current)),n.current=null)},[e]),null}var lne=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=R.useRef(null),s=R.useRef(null),u=lt(q3),c=Vr(),f=Wn(),h="yAxis",p=lt(M=>Cl(M,h,e,c)),v=lt(M=>UK(M,e)),y=lt(M=>LK(M,e)),C=lt(M=>WI(M,h,e,c)),S=lt(M=>mI(M,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Bb(i)||R.isValidElement(i)||S==null)){var M=a.current;if(M){var O=M.getCalculatedWidth();Math.round(v.width)!==Math.round(O)&&f(ree({id:e,width:O}))}}},[C,v,f,i,e,r,S]),v==null||y==null||S==null)return null;var{dangerouslySetInnerHTML:b,ticks:T}=t,D=uN(t,ine),{id:I}=S,P=uN(S,ane);return R.createElement(qb,$y({},D,P,{ref:a,labelRef:s,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Jt("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:C,axisType:h}))},une={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:Ko.axisLine,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:Ko.tickLine,tickSize:Ko.tickSize,type:Gn.type,width:Gn.width,yAxisId:0},cne=t=>{var e=Gr(t,une);return R.createElement(R.Fragment,null,R.createElement(sne,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),R.createElement(lne,e))},n4=R.memo(cne,e4);n4.displayName="YAxis";var fne=(t,e)=>e,Gb=Se([fne,on,fI,jn,fM,Ia,JX,ar],aZ),Vb=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},r4=ui("mouseClick"),i4=oc();i4.startListening({actionCreator:r4,effect:(t,e)=>{var n=t.payload,r=Gb(e.getState(),Vb(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(XK({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Yy=ui("mouseMove"),a4=oc(),Jf=null;a4.startListening({actionCreator:Yy,effect:(t,e)=>{var n=t.payload;Jf!==null&&cancelAnimationFrame(Jf);var r=Vb(n);Jf=requestAnimationFrame(()=>{var i=e.getState(),a=Cb(i,i.tooltip.settings.shared);if(a==="axis"){var s=Gb(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(rM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(nM())}Jf=null})}});var cN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},o4=Rr({name:"rootProps",initialState:cN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:cN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),dne=o4.reducer,{updateOptions:hne}=o4.actions,s4=Rr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Wre}=s4.actions,pne=s4.reducer,l4=ui("keyDown"),u4=ui("focus"),$b=oc();$b.startListening({actionCreator:l4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Nb(i,Dl(n),gc(n),wc(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=Ia(n);if(a==="Enter"){var f=nh(n,"axis","hover",String(i.index));e.dispatch(jy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=FK(n),p=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,y=u+v*p;if(!(c==null||y>=c.length||y<0)){var C=nh(n,"axis","hover",String(y));e.dispatch(jy({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:C}))}}}}}});$b.startListening({actionCreator:u4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=nh(n,"axis","hover",String(a));e.dispatch(jy({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ai=ui("externalEvent"),c4=oc(),Lv=new Map;c4.startListening({actionCreator:ai,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=Lv.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:LX(u),activeDataKey:kX(u),activeIndex:Zu(u),activeLabel:pM(u),activeTooltipIndex:Zu(u),isTooltipActive:UX(u)};n(c,r)}finally{Lv.delete(i)}});Lv.set(i,s)}}});var mne=Se([Nl],t=>t.tooltipItemPayloads),gne=Se([mne,xc,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),f4=ui("touchMove"),d4=oc();d4.startListening({actionCreator:f4,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=Cb(r,r.tooltip.settings.shared);if(i==="axis"){var a=Gb(r,Vb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(rM({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(IH),h=(s=c.getAttribute(MH))!==null&&s!==void 0?s:void 0,p=gne(e.getState(),f,h);e.dispatch(KK({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}}});var vne=f3({brush:Fee,cartesianAxis:iee,chartData:UZ,errorBars:pee,graphicalItems:PQ,layout:mH,legend:CG,options:MZ,polarAxis:aQ,polarOptions:pne,referenceElements:Wee,rootProps:dne,tooltip:ZK,zIndex:xZ}),yne=function(e){return zq({reducer:vne,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([i4.middleware,a4.middleware,$b.middleware,c4.middleware,d4.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(T3({type:"raf"}))},devTools:uc.devToolsEnabled})};function xne(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Vr(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=yne(e));var s=Ax;return R.createElement(Uee,{context:s,store:a.current},n)}function bne(t){var{layout:e,margin:n}=t,r=Wn(),i=Vr();return R.useEffect(()=>{i||(r(dH(e)),r(fH(n)))},[r,i,e,n]),null}var wne=R.memo(bne,zb);function Ene(t){var e=Wn();return R.useEffect(()=>{e(hne(t))},[e,t]),null}function fN(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=jM("".concat(r).concat(e)),a=Wn();return R.useLayoutEffect(()=>(a(vZ({zIndex:e,elementId:i,isPanorama:n})),()=>{a(yZ({zIndex:e,isPanorama:n}))}),[a,e,i,n]),R.createElement("g",{tabIndex:-1,id:i})}function dN(t){var{children:e,isPanorama:n}=t,r=lt(sZ);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return R.createElement(R.Fragment,null,i.map(s=>R.createElement(fN,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>R.createElement(fN,{key:s,zIndex:s,isPanorama:n})))}var _ne=["children"];function Sne(t,e){if(t==null)return{};var n,r,i=Ane(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ane(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(null,arguments)}var Tne={width:"100%",height:"100%",display:"block"},Cne=R.forwardRef((t,e)=>{var n=uG(),r=cG(),i=eR();if(!mo(n)||!mo(r))return null;var{children:a,otherAttributes:s,title:u,desc:c}=t,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),R.createElement(CD,lh({},s,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:Tne,ref:e}),a)}),Nne=t=>{var{children:e}=t,n=lt(Ph);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return R.createElement(CD,{width:r,height:i,x:s,y:a},e)},hN=R.forwardRef((t,e)=>{var{children:n}=t,r=Sne(t,_ne),i=Vr();return i?R.createElement(Nne,null,R.createElement(dN,{isPanorama:!0},n)):R.createElement(Cne,lh({ref:e},r),R.createElement(dN,{isPanorama:!1},n))});function Dne(){var t=Wn(),[e,n]=R.useState(null),r=lt(RH);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Yn(a)&&a!==r&&t(pH(a))}},[e,t,r]),n}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e,n){return(e=Mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(null,arguments)}var kne=()=>($Z(),null);function uh(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Pne=R.forwardRef((t,e)=>{var n,r,i=R.useRef(null),[a,s]=R.useState({containerWidth:uh((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:uh((r=t.style)===null||r===void 0?void 0:r.height)}),u=R.useCallback((f,h)=>{s(p=>{var v=Math.round(f),y=Math.round(h);return p.containerWidth===v&&p.containerHeight===y?p:{containerWidth:v,containerHeight:y}})},[]),c=R.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var v=C=>{var{width:S,height:b}=C[0].contentRect;u(S,b)},y=new ResizeObserver(v);y.observe(f),i.current=y}},[e,u]);return R.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),R.createElement(R.Fragment,null,R.createElement(Bh,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",es({ref:c},t)))}),Lne=R.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=R.useState({containerWidth:uh(n),containerHeight:uh(r)}),s=R.useCallback((c,f)=>{a(h=>{var p=Math.round(c),v=Math.round(f);return h.containerWidth===p&&h.containerHeight===v?h:{containerWidth:p,containerHeight:v}})},[]),u=R.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();s(f,h)}},[e,s]);return R.createElement(R.Fragment,null,R.createElement(Bh,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",es({ref:u},t)))}),Une=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return R.createElement(R.Fragment,null,R.createElement(Bh,{width:n,height:r}),R.createElement("div",es({ref:e},t)))}),Bne=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return ya(n)||ya(r)?R.createElement(Lne,es({},t,{ref:e})):R.createElement(Une,es({},t,{ref:e}))});function jne(t){return t===!0?Pne:Bne}var zne=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:y,onTouchMove:C,onTouchStart:S,style:b,width:T,responsive:D,dispatchTouchEvents:I=!0}=t,P=R.useRef(null),M=Wn(),[O,L]=R.useState(null),[z,B]=R.useState(null),q=Dne(),Y=kx(),W=(Y==null?void 0:Y.width)>0?Y.width:T,re=(Y==null?void 0:Y.height)>0?Y.height:i,me=R.useCallback(ye=>{q(ye),typeof e=="function"&&e(ye),L(ye),B(ye),ye!=null&&(P.current=ye)},[q,e,L,B]),Z=R.useCallback(ye=>{M(r4(ye)),M(ai({handler:a,reactEvent:ye}))},[M,a]),X=R.useCallback(ye=>{M(Yy(ye)),M(ai({handler:f,reactEvent:ye}))},[M,f]),Q=R.useCallback(ye=>{M(nM()),M(ai({handler:h,reactEvent:ye}))},[M,h]),oe=R.useCallback(ye=>{M(Yy(ye)),M(ai({handler:p,reactEvent:ye}))},[M,p]),de=R.useCallback(()=>{M(u4())},[M]),Ce=R.useCallback(ye=>{M(l4(ye.key))},[M]),$=R.useCallback(ye=>{M(ai({handler:s,reactEvent:ye}))},[M,s]),se=R.useCallback(ye=>{M(ai({handler:u,reactEvent:ye}))},[M,u]),Ae=R.useCallback(ye=>{M(ai({handler:c,reactEvent:ye}))},[M,c]),we=R.useCallback(ye=>{M(ai({handler:v,reactEvent:ye}))},[M,v]),Ue=R.useCallback(ye=>{M(ai({handler:S,reactEvent:ye}))},[M,S]),$e=R.useCallback(ye=>{I&&M(f4(ye)),M(ai({handler:C,reactEvent:ye}))},[M,I,C]),qe=R.useCallback(ye=>{M(ai({handler:y,reactEvent:ye}))},[M,y]),Ge=jne(D);return R.createElement(wM.Provider,{value:O},R.createElement(bz.Provider,{value:z},R.createElement(Ge,{width:W??(b==null?void 0:b.width),height:re??(b==null?void 0:b.height),className:Jt("recharts-wrapper",r),style:Rne({position:"relative",cursor:"default",width:W,height:re},b),onClick:Z,onContextMenu:$,onDoubleClick:se,onFocus:de,onKeyDown:Ce,onMouseDown:Ae,onMouseEnter:X,onMouseLeave:Q,onMouseMove:oe,onMouseUp:we,onTouchEnd:qe,onTouchMove:$e,onTouchStart:Ue,ref:me},R.createElement(kne,null),n)))}),Fne=["width","height","responsive","children","className","style","compact","title","desc"];function qne(t,e){if(t==null)return{};var n,r,i=Hne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gne=R.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:u,compact:c,title:f,desc:h}=t,p=qne(t,Fne),v=ga(p);return c?R.createElement(R.Fragment,null,R.createElement(Bh,{width:n,height:r}),R.createElement(hN,{otherAttributes:v,title:f,desc:h},a)):R.createElement(zne,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(hN,{otherAttributes:v,title:f,desc:h,ref:e},R.createElement(Xee,null,a)))});function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(null,arguments)}var Vne={top:5,right:5,bottom:5,left:5},$ne={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Vne,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Yne=R.forwardRef(function(e,n){var r,i=Gr(e.categoricalChartProps,$ne),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return R.createElement(xne,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},R.createElement(zee,{chartData:f.data}),R.createElement(wne,{layout:i.layout,margin:i.margin}),R.createElement(Ene,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(Gne,Wy({},i,{ref:n})))}),Wne=["axis"],Kne=R.forwardRef((t,e)=>R.createElement(Yne,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wne,tooltipPayloadSearcher:RZ,categoricalChartProps:t,ref:e}));const Xne=({logs:t,users:e})=>{const n=b=>{if(!b)return{content:""};try{const T=JSON.parse(b);if(typeof T=="object"&&T!==null)return{content:T.content||b,ip:T.ip||"",userAgent:T.userAgent||""}}catch{}return{content:b}},[r,i]=R.useState(""),[a,s]=R.useState(""),[u,c]=R.useState(""),f=new Set(e.filter(b=>b.role===nr.PARTICIPANT).map(b=>b.phone_number)),h=t.filter(b=>f.has(b.userId)),p=e.filter(b=>b.role===nr.PARTICIPANT).length,v=h.filter(b=>b.action==="OPEN_MATERIAL").length,y=h.filter(b=>b.action==="AI_QUERY").length,C=t.reduce((b,T)=>{const D=new Date(T.timestamp).getHours()+":00",I=b.find(P=>P.time===D);return I?I.count++:b.push({time:D,count:1}),b},[]).sort((b,T)=>parseInt(b.time)-parseInt(T.time)),S=t.filter(b=>{var M;const D=(b.userName==="Unknown User"&&((M=e.find(O=>O.phone_number===b.userId))==null?void 0:M.name)||b.userName).toLowerCase().includes(r.toLowerCase()),I=b.action.toLowerCase().includes(a.toLowerCase()),P=(b.details||"").toLowerCase().includes(u.toLowerCase());return D&&I&&P});return E.jsxs("div",{className:"space-y-8 animate-fade-in",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-between h-32",children:[E.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:""}),E.jsxs("div",{className:"flex items-end justify-between",children:[E.jsx("p",{className:"text-4xl font-bold text-gray-900",children:p}),E.jsx(ud,{className:"w-8 h-8 text-brand-200"})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-between h-32",children:[E.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:""}),E.jsxs("div",{className:"flex items-end justify-between",children:[E.jsx("p",{className:"text-4xl font-bold text-gray-900",children:v}),E.jsx(ul,{className:"w-8 h-8 text-green-200"})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-between h-32",children:[E.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"AI"}),E.jsxs("div",{className:"flex items-end justify-between",children:[E.jsx("p",{className:"text-4xl font-bold text-gray-900",children:y}),E.jsx(EN,{className:"w-8 h-8 text-purple-200"})]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 h-96 flex flex-col",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:""}),E.jsx("div",{className:"flex-1 w-full min-h-0",children:E.jsx(oG,{width:"100%",height:"100%",children:E.jsxs(Kne,{data:C,children:[E.jsx(t4,{dataKey:"time",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),E.jsx(n4,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),E.jsx(eJ,{contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{stroke:"#cbd5e1",strokeWidth:1,strokeDasharray:"4 4"}}),E.jsx(QM,{type:"monotone",dataKey:"count",stroke:"#0ea5e9",strokeWidth:3,dot:{r:4,fill:"#0ea5e9",strokeWidth:0},activeDot:{r:6}})]})})})]}),E.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 bg-gray-50/50 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:""}),E.jsx("p",{className:"text-sm text-gray-500",children:""})]}),E.jsxs("div",{className:"flex flex-wrap gap-3",children:[E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",placeholder:"...",value:r,onChange:b=>i(b.target.value),className:"pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-xl focus:ring-brand-500 focus:border-brand-500 w-32 md:w-40"}),E.jsx(ud,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",placeholder:"...",value:a,onChange:b=>s(b.target.value),className:"pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-xl focus:ring-brand-500 focus:border-brand-500 w-32 md:w-40"}),E.jsx(f6,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",placeholder:"...",value:u,onChange:b=>c(b.target.value),className:"pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-xl focus:ring-brand-500 focus:border-brand-500 w-32 md:w-40"}),E.jsx(ul,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"})]})]})]}),E.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs sticky top-0 z-10",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 font-semibold",children:""}),E.jsx("th",{className:"px-6 py-3 font-semibold",children:""}),E.jsx("th",{className:"px-6 py-3 font-semibold",children:""}),E.jsx("th",{className:"px-6 py-3 font-semibold",children:""}),E.jsx("th",{className:"px-6 py-3 font-semibold",children:"IP"}),E.jsx("th",{className:"px-6 py-3 font-semibold",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100",children:S.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:""})}):S.map(b=>{var D;const T=n(b.details);return E.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[E.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-gray-400 font-mono text-xs",children:new Date(b.timestamp).toLocaleTimeString()}),E.jsx("td",{className:"px-6 py-3 font-medium text-gray-900",children:b.userName==="Unknown User"&&((D=e.find(I=>I.phone_number===b.userId))==null?void 0:D.name)||b.userName}),E.jsx("td",{className:"px-6 py-3",children:E.jsx("span",{className:`
                      px-2.5 py-1 rounded-full text-xs font-bold
                      ${b.action==="AI_QUERY"?"bg-purple-100 text-purple-700":b.action.includes("MEDIA")?"bg-blue-100 text-blue-700":b.action==="OPEN_MATERIAL"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}
                    `,children:b.action})}),E.jsx("td",{className:"px-6 py-3 text-gray-600 max-w-xs truncate",title:T.content,children:T.content}),E.jsx("td",{className:"px-6 py-3 text-gray-500 font-mono text-xs whitespace-nowrap",children:T.ip||"-"}),E.jsx("td",{className:"px-6 py-3 text-gray-500 text-xs max-w-xs truncate",title:T.userAgent,children:T.userAgent||"-"})]},b.id)})})]})})]})]})},Zne=({forms:t,setForms:e})=>{const[n,r]=R.useState([]);R.useEffect(()=>{},[]);const[i,a]=R.useState(!1),[s,u]=R.useState(!1),[c,f]=R.useState(""),[h,p]=R.useState({title:"",type:"CONSENT",content:"",questions:[],currentQuestionText:"",currentQuestionType:"text",currentQuestionOptions:""}),[v,y]=R.useState(null),C=()=>{if(h.currentQuestionText.trim()){const D={id:Math.random().toString(36).substring(7),text:h.currentQuestionText.trim(),type:h.currentQuestionType,options:h.currentQuestionType==="choice"?h.currentQuestionOptions.split(/,|/).map(I=>I.trim()).filter(Boolean):void 0};p(I=>({...I,questions:[...I.questions,D],currentQuestionText:"",currentQuestionType:"text",currentQuestionOptions:""}))}},S=D=>{f(D.id),p({title:D.title,type:D.type,content:D.content,questions:D.questions||[],currentQuestionText:"",currentQuestionType:"text",currentQuestionOptions:""}),u(!0)},b=async D=>{if(D.preventDefault(),!h.title)return;const I={id:c||Math.random().toString(36).substring(7),title:h.title,type:h.type,content:h.content,questions:h.type==="QUESTIONNAIRE"?h.questions:void 0};try{let P;if(s?P=await fetch(`/api/forms/${c}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}):P=await fetch("/api/forms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}),P.ok){const M=await P.json();let O=Date.now();if(M.created_at){const z=M.created_at.replace(" ","T");O=new Date(z).getTime()}const L={...M,questions:M.questions?JSON.parse(M.questions):void 0,createdAt:isNaN(O)?Date.now():O};e(z=>s?z.map(B=>B.id===M.id?L:B):[L,...z]),a(!1),u(!1),f(""),p({title:"",type:"CONSENT",content:"",questions:[],currentQuestionText:"",currentQuestionType:"text",currentQuestionOptions:""})}else console.error(`${s?"Failed to update form":"Failed to create form"}:`,await P.json())}catch(P){console.error(`${s?"Error updating form":"Error creating form"}:`,P)}},T=async D=>{if(window.confirm(""))try{const I=await fetch(`/api/forms/${D}`,{method:"DELETE"});I.ok?e(P=>P.filter(M=>M.id!==D)):console.error("Failed to delete form:",await I.json())}catch(I){console.error("Error deleting form:",I)}};return E.jsxs("div",{className:"space-y-8 animate-fade-in",children:[E.jsxs("div",{className:"flex flex-col xl:flex-row justify-between xl:items-center gap-6",children:[E.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-2 px-8 py-4 bg-brand-600 text-white rounded-xl hover:bg-brand-700 shadow-md hover:shadow-lg font-semibold transition-all cursor-pointer",children:[E.jsx(Zy,{className:"w-5 h-5"}),""]}),E.jsxs("div",{className:"flex items-center justify-center gap-4 px-8 py-4 text-gray-800 rounded-xl font-semibold",children:[E.jsx(SN,{className:"w-5 h-5 text-brand-600"}),E.jsxs("span",{children:["",t.length]})]})]}),(i||s)&&E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-brand-100 animate-slide-in-top",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s?"":""}),E.jsx("button",{onClick:()=>{a(!1),u(!1),f(""),p({title:"",type:"CONSENT",content:"",questions:[],currentQuestionText:"",currentQuestionType:"text",currentQuestionOptions:""})},className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:E.jsx(ji,{className:"w-5 h-5 text-gray-600"})})]}),E.jsxs("form",{onSubmit:b,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),E.jsx("input",{required:!0,type:"text",value:h.title,onChange:D=>p({...h,title:D.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4",placeholder:"e.g. Pre-Reading Consent"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),E.jsxs("select",{value:h.type,onChange:D=>p({...h,type:D.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2.5 px-4 bg-white",children:[E.jsx("option",{value:"CONSENT",children:""}),E.jsx("option",{value:"QUESTIONNAIRE",children:""})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:h.type==="CONSENT"?"":""}),E.jsx("textarea",{required:!0,rows:4,value:h.content,onChange:D=>p({...h,content:D.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 p-4 text-sm",placeholder:h.type==="CONSENT"?"...":"..."})]}),h.type==="QUESTIONNAIRE"&&E.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[E.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:""}),E.jsxs("ul",{className:"space-y-3 mb-6",children:[h.questions.map((D,I)=>E.jsxs("li",{className:"flex items-start gap-3 bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[E.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-brand-100 text-brand-700 flex items-center justify-center text-xs font-bold mt-0.5",children:I+1}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"text-gray-900 font-medium break-words",children:typeof D=="string"?D:D.text}),typeof D!="string"&&E.jsxs("div",{className:"mt-1 flex flex-wrap gap-2 text-xs",children:[E.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded border border-gray-200",children:[D.type==="text"&&"",D.type==="choice"&&"",D.type==="scale"&&""]}),D.type==="choice"&&D.options&&E.jsxs("span",{className:"text-gray-500",children:[": ",D.options.join(", ")]})]})]}),E.jsx("button",{type:"button",onClick:()=>p(P=>({...P,questions:P.questions.filter((M,O)=>O!==I)})),className:"text-gray-400 hover:text-red-500 p-1",children:E.jsx(Jy,{className:"w-5 h-5"})})]},I)),h.questions.length===0&&E.jsx("p",{className:"text-sm text-gray-400 italic text-center py-4",children:""})]}),E.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[E.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:""}),E.jsx("div",{children:E.jsx("input",{type:"text",value:h.currentQuestionText,onChange:D=>p({...h,currentQuestionText:D.target.value}),placeholder:"...",className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2 px-4 text-sm"})}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsx("div",{className:"sm:w-1/3",children:E.jsxs("select",{value:h.currentQuestionType,onChange:D=>p({...h,currentQuestionType:D.target.value}),className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2 px-4 text-sm",children:[E.jsx("option",{value:"text",children:""}),E.jsx("option",{value:"choice",children:""}),E.jsx("option",{value:"scale",children:"5Likert"})]})}),h.currentQuestionType==="choice"&&E.jsx("div",{className:"flex-1",children:E.jsx("input",{type:"text",value:h.currentQuestionOptions,onChange:D=>p({...h,currentQuestionOptions:D.target.value}),placeholder:" (: A, B)",className:"w-full rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500 py-2 px-4 text-sm"})})]}),E.jsx("div",{className:"flex justify-end pt-2",children:E.jsx("button",{type:"button",onClick:C,disabled:!h.currentQuestionText.trim(),className:"px-6 py-2 bg-gray-900 text-white rounded-xl text-sm font-medium hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})})]})]}),E.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[E.jsx("button",{type:"button",onClick:()=>{a(!1),u(!1),f(""),p({title:"",type:"CONSENT",content:"",questions:[],currentQuestionText:"",currentQuestionType:"text",currentQuestionOptions:""})},className:"px-6 py-2.5 text-gray-700 hover:bg-gray-100 rounded-xl font-medium transition-colors cursor-pointer",children:""}),E.jsx("button",{type:"submit",className:"px-8 py-2.5 bg-brand-600 text-white rounded-xl font-medium hover:bg-brand-700 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5 cursor-pointer",children:s?"":""})]})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(D=>{var I,P,M;return E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col group hover:shadow-md transition-all",children:[E.jsx("div",{className:"flex justify-between items-start mb-4",children:E.jsx("span",{className:`
                px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide
                ${D.type==="CONSENT"?"bg-orange-100 text-orange-700":"bg-indigo-100 text-indigo-700"}
              `,children:D.type})}),E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 cursor-pointer hover:text-brand-600 transition-colors",onClick:()=>y(D),children:D.title}),E.jsx("p",{className:"text-sm text-gray-500 line-clamp-3 mb-6 flex-1 cursor-pointer hover:text-gray-700 transition-colors",onClick:()=>y(D),children:D.content}),D.type==="QUESTIONNAIRE"&&E.jsxs("div",{className:"mb-6 px-4 py-3 bg-gray-50 rounded-lg border border-gray-100 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>y(D),children:[E.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase mb-2",children:"Preview Questions"}),E.jsxs("ul",{className:"space-y-1",children:[(I=D.questions)==null?void 0:I.slice(0,2).map((O,L)=>E.jsxs("li",{className:"text-xs text-gray-700 truncate",children:[" ",typeof O=="string"?O:O.text]},L)),(((P=D.questions)==null?void 0:P.length)||0)>2&&E.jsxs("li",{className:"text-xs text-gray-400 italic",children:["+",(((M=D.questions)==null?void 0:M.length)||0)-2," more..."]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4 pt-4 border-t",children:[E.jsx("button",{onClick:()=>S(D),className:"py-2.5 bg-white text-brand-600 border border-brand-200 rounded-xl text-sm font-semibold hover:bg-brand-50 hover:border-brand-300 transition-all cursor-pointer",children:""}),E.jsx("button",{onClick:()=>T(D.id),className:"py-2.5 bg-red-50 text-red-600 border border-red-100 rounded-xl text-sm font-semibold hover:bg-red-100 hover:border-red-200 transition-all cursor-pointer",children:""})]})]},D.id)})}),v&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col animate-scale-in",children:[E.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50",children:[E.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${v.type==="CONSENT"?"bg-orange-100 text-orange-700":"bg-indigo-100 text-indigo-700"}`,children:v.type}),v.title]}),E.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-gray-200 rounded-full transition-colors cursor-pointer",children:E.jsx(ji,{className:"w-6 h-6 text-gray-500"})})]}),E.jsx("div",{className:"p-8 overflow-y-auto",children:E.jsxs("div",{className:"prose max-w-none",children:[E.jsx("div",{className:"mb-6 text-gray-600 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:v.content}}),v.type==="QUESTIONNAIRE"&&v.questions&&E.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-xl border border-gray-200",children:[E.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Questions Preview"}),E.jsx("ul",{className:"space-y-4",children:v.questions.map((D,I)=>E.jsxs("li",{className:"flex gap-4",children:[E.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-white border border-gray-200 text-gray-500 flex items-center justify-center text-sm font-bold shadow-sm",children:I+1}),E.jsx("p",{className:"text-gray-800 pt-1",children:typeof D=="string"?D:D.text})]},I))})]})]})}),E.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end",children:E.jsx("button",{onClick:()=>y(null),className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors shadow-lg cursor-pointer",children:""})})]})})]})},Jne=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,a]=R.useState(""),[s,u]=R.useState(!0),[c,f]=R.useState(null),[h,p]=R.useState(!1),[v,y]=R.useState(!1),[C,S]=R.useState(""),b=async()=>{u(!0);try{const O=await fetch("/api/admin/user-responses");if(O.ok){const L=await O.json();e(L),r(L)}else console.error("Failed to fetch responses")}catch(O){console.error("Error fetching responses:",O)}finally{u(!1)}};R.useEffect(()=>{b()},[]),R.useEffect(()=>{if(i.trim()==="")r(t);else{const O=i.toLowerCase();r(t.filter(L=>L.userName&&L.userName.toLowerCase().includes(O)||L.materialTitle&&L.materialTitle.toLowerCase().includes(O)||L.formTitle&&L.formTitle.toLowerCase().includes(O)||L.userId.includes(O)))}},[i,t]);const T=async O=>{if(window.confirm(""))try{(await fetch(`/api/admin/user-responses/${O}`,{method:"DELETE"})).ok?(e(z=>z.filter(B=>B.id!==O)),alert("")):alert("")}catch(L){console.error(":",L),alert("")}},D=async O=>{try{const L=await fetch(`/api/admin/user-responses/${O.id}/download`);if(L.ok){const z=await L.blob(),B=window.URL.createObjectURL(z),q=document.createElement("a");q.href=B,q.download=`response_${O.id}_${O.userId}.json`,document.body.appendChild(q),q.click(),window.URL.revokeObjectURL(B),document.body.removeChild(q)}else alert("")}catch(L){console.error(":",L)}},I=async()=>{try{const O=n.map(z=>z.id),L=await fetch("/api/admin/user-responses/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:O})});if(L.ok){const z=await L.blob(),B=window.URL.createObjectURL(z),q=document.createElement("a");q.href=B,q.download=`responses_export_${new Date().getTime()}.json`,document.body.appendChild(q),q.click(),window.URL.revokeObjectURL(B),document.body.removeChild(q)}else alert("")}catch(O){console.error(":",O)}},P=O=>{f(O),S(JSON.stringify(O.answers,null,2)),y(!0)},M=async()=>{if(c)try{const O=JSON.parse(C),L=await fetch(`/api/admin/user-responses/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:O})});if(L.ok){const z=await L.json();e(B=>B.map(q=>q.id===z.id?{...q,answers:z.answers}:q)),y(!1),f(null),alert("")}else alert("")}catch(O){console.error("Error updating response:",O),alert("Invalid JSON or update failed")}};return E.jsxs("div",{className:"space-y-6 animate-fade-in",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[E.jsx("div",{className:"relative w-full sm:w-64",children:E.jsx("input",{type:"text",placeholder:"",value:i,onChange:O=>a(O.target.value),className:"w-full pl-4 pr-10 py-2.5 rounded-xl border-gray-300 focus:ring-brand-500 focus:border-brand-500"})}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:b,className:"px-4 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:""}),E.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2.5 bg-brand-600 text-white rounded-xl hover:bg-brand-700 font-medium shadow-sm transition-colors cursor-pointer",children:[E.jsx(BE,{className:"w-5 h-5"}),""]})]})]}),E.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left text-sm text-gray-600",children:[E.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 font-semibold text-gray-900",children:"ID"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-gray-900",children:""}),E.jsx("th",{className:"px-6 py-4 font-semibold text-gray-900",children:""}),E.jsx("th",{className:"px-6 py-4 font-semibold text-gray-900",children:""}),E.jsx("th",{className:"px-6 py-4 font-semibold text-gray-900",children:""}),E.jsx("th",{className:"px-6 py-4 font-semibold text-gray-900 text-right",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100",children:s?E.jsx("tr",{children:E.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Loading responses..."})}):n.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:""})}):n.map(O=>E.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[E.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:["#",O.id]}),E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("div",{className:"font-medium text-gray-900",children:O.userName||"Unknown"}),E.jsx("div",{className:"text-xs text-gray-500",children:O.userId})]}),E.jsx("td",{className:"px-6 py-4 text-gray-900",children:O.materialTitle||"Unknown"}),E.jsx("td",{className:"px-6 py-4 text-gray-900",children:O.formTitle||"Unknown"}),E.jsx("td",{className:"px-6 py-4 text-gray-500",children:new Date(O.createdAt).toLocaleString("zh-CN")}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>{f(O),p(!0)},className:"p-1.5 text-gray-500 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-colors",title:"",children:E.jsx(s6,{className:"w-5 h-5"})}),E.jsx("button",{onClick:()=>P(O),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"JSON",children:E.jsx(_6,{className:"w-5 h-5"})}),E.jsx("button",{onClick:()=>D(O),className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"JSON",children:E.jsx(BE,{className:"w-5 h-5"})}),E.jsx("button",{onClick:()=>T(O.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:E.jsx(Jy,{className:"w-5 h-5"})})]})})]},O.id))})]})})}),h&&c&&E.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-slide-in-top",children:[E.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[E.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[" #",c.id]}),E.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:E.jsx(ji,{className:"w-5 h-5 text-gray-500"})})]}),E.jsxs("div",{className:"p-6 overflow-y-auto",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-sm",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500 block mb-1",children:""}),E.jsxs("span",{className:"font-medium",children:[c.userName," (",c.userId,")"]})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500 block mb-1",children:""}),E.jsx("span",{className:"font-medium",children:new Date(c.createdAt).toLocaleString("zh-CN")})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500 block mb-1",children:""}),E.jsx("span",{className:"font-medium",children:c.materialTitle})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500 block mb-1",children:""}),E.jsx("span",{className:"font-medium",children:c.formTitle})]})]}),E.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[E.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:""}),E.jsx("pre",{className:"text-xs font-mono text-gray-600 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(c.answers,null,2)})]})]}),E.jsx("div",{className:"p-6 border-t bg-gray-50 rounded-b-2xl flex justify-end",children:E.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2.5 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:""})})]})}),v&&c&&E.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col animate-slide-in-top",children:[E.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900",children:""}),E.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:E.jsx(ji,{className:"w-5 h-5 text-gray-500"})})]}),E.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[E.jsx("div",{className:"mb-4 text-sm text-yellow-600 bg-yellow-50 p-3 rounded-lg",children:"  JSON  JSON "}),E.jsx("textarea",{value:C,onChange:O=>S(O.target.value),className:"w-full h-96 font-mono text-sm p-4 border border-gray-300 rounded-xl focus:ring-brand-500 focus:border-brand-500 resize-none"})]}),E.jsxs("div",{className:"p-6 border-t bg-gray-50 rounded-b-2xl flex justify-end gap-4",children:[E.jsx("button",{onClick:()=>y(!1),className:"px-6 py-2.5 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 font-medium transition-colors cursor-pointer",children:""}),E.jsx("button",{onClick:M,className:"px-6 py-2.5 bg-brand-600 text-white rounded-xl hover:bg-brand-700 font-medium shadow-sm transition-colors cursor-pointer",children:""})]})]})})]})},Qne=({onOpenMaterial:t})=>{const[e,n]=R.useState("materials"),[r,i]=R.useState([]),[a,s]=R.useState([]),[u,c]=R.useState([]),[f,h]=R.useState([]);R.useEffect(()=>{(async()=>{try{const C=await fetch("/api/materials");if(C.ok){const S=await C.json();h(S)}}catch(C){console.error("Failed to fetch materials:",C)}})()},[]),R.useEffect(()=>{(async()=>{try{const C=await fetch("/api/users");if(C.ok){const S=await C.json();c(S)}}catch(C){console.error("Failed to fetch users:",C)}})()},[]);const p=async()=>{try{const y=await fetch("/api/logs");if(y.ok){const S=(await y.json()).map(b=>({id:b.id.toString(),timestamp:new Date(b.createdAt).getTime(),userId:b.userId,userName:"Unknown User",action:b.action,details:b.details,materialId:b.materialId}));i(S)}else console.error("Failed to fetch logs from backend")}catch(y){console.error("Error fetching logs:",y)}},v=async()=>{try{const y=await fetch("/api/forms");if(y.ok){const S=(await y.json()).map(b=>{let T=Date.now();return b.created_at&&(T=b.created_at.split("T")[0]),{id:b.id,title:b.title,type:b.type,content:b.content,questions:b.questions?JSON.parse(b.questions):void 0,createdAt:T}});s(S)}else console.error("Failed to fetch forms from backend")}catch(y){console.error("Error fetching forms:",y)}};return R.useEffect(()=>{p(),v();const y=setInterval(p,3e4);return()=>clearInterval(y)},[]),E.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-8 pb-20",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),E.jsx("p",{className:"text-gray-500",children:""})]}),E.jsx("div",{className:"flex flex-wrap gap-2 bg-white p-1.5 rounded-xl shadow-sm border border-gray-200",children:[{id:"materials",icon:ul,label:""},{id:"participants",icon:ud,label:""},{id:"statistics",icon:EN,label:""},{id:"forms",icon:SN,label:""},{id:"results",icon:zk,label:""}].map(y=>E.jsxs("button",{onClick:()=>n(y.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all cursor-pointer ${e===y.id?"bg-brand-50 text-brand-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[E.jsx(y.icon,{className:"w-5 h-5"}),E.jsx("span",{className:"hidden sm:inline",children:y.label})]},y.id))})]}),e==="statistics"&&E.jsx(Xne,{logs:r,users:u}),e==="materials"&&E.jsx(lz,{materials:f,setMaterials:h,onOpenMaterial:t}),e==="participants"&&E.jsx(uz,{logs:r}),e==="forms"&&E.jsx(Zne,{forms:a,setForms:s}),e==="results"&&E.jsx(Jne,{})]})},ere=({user:t,materials:e,onOpenMaterial:n})=>{const r=e.filter(f=>f.assignedToUserIds.includes(t.phone_number)),i=r.length,a=r.filter(f=>f.readStatus).length,s=i-a,u=f=>{switch(f){case"VIDEO":return E.jsx(rP,{className:"w-8 h-8 text-white/90"});case"AUDIO":return E.jsx(Q6,{className:"w-8 h-8 text-white/90"});case"IMAGE":return E.jsx(tP,{className:"w-8 h-8 text-white/90"});default:return E.jsx(Z6,{className:"w-8 h-8 text-white/90"})}},c=f=>{switch(f){case"VIDEO":return"";case"AUDIO":return"";case"IMAGE":return"";default:return""}};return E.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-10 pb-20",children:[E.jsxs("header",{className:"flex items-center gap-4 py-6 border-b border-gray-100",children:[E.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-brand-200 bg-brand-100 flex items-center justify-center text-brand-600 font-bold text-xl",children:t.name.charAt(0)}),E.jsxs("div",{children:[E.jsxs("h1",{className:"text-3xl font-serif font-bold text-gray-900",children:["",t.name.split(" ")[0]]}),E.jsx("p",{className:"text-gray-500",children:""})]})]}),E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-brand-50 flex items-center gap-4 hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl",children:E.jsx(wN,{className:"w-8 h-8"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:""}),E.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-brand-50 flex items-center gap-4 hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-xl",children:E.jsx(qo,{className:"w-8 h-8"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:""}),E.jsx("p",{className:"text-3xl font-bold text-gray-900",children:a})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-brand-50 flex items-center gap-4 hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"p-3 bg-orange-50 text-orange-600 rounded-xl",children:E.jsx(Y6,{className:"w-8 h-8"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:""}),E.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s})]})]})]}),E.jsxs("section",{children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[E.jsx("span",{className:"w-1 h-6 bg-brand-500 rounded-full block"}),""]}),r.length===0?E.jsx("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:E.jsx("p",{className:"text-gray-400",children:""})}):s===0?E.jsx("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:E.jsx("p",{className:"text-gray-600 font-medium",children:""})}):E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.filter(f=>!f.readStatus).map(f=>E.jsxs("div",{onClick:()=>n(f),className:"group cursor-pointer flex flex-col gap-3 relative",children:[E.jsxs("div",{className:"aspect-[2/3] relative rounded-xl overflow-hidden shadow-md group-hover:shadow-xl group-hover:-translate-y-1 transition-all duration-300 bg-gray-200",children:[E.jsx("img",{src:Zv(f.coverUrl),alt:f.title,className:"w-full h-full object-cover"}),E.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:E.jsx("div",{className:"bg-black/30 p-3 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity scale-75 group-hover:scale-100 duration-300",children:u(f.type)})}),E.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 bg-black/60 backdrop-blur-md rounded text-[10px] text-white font-medium uppercase tracking-wide",children:c(f.type)})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1 group-hover:text-brand-600 transition-colors",children:f.title}),E.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:f.author})]})]},f.id))})]}),a>0&&E.jsxs("section",{children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[E.jsx("span",{className:"w-1 h-6 bg-green-500 rounded-full block"}),""]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.filter(f=>f.readStatus).map(f=>E.jsxs("div",{className:"group flex flex-col gap-3 relative cursor-not-allowed opacity-80",children:[E.jsxs("div",{className:"aspect-[3/4] relative rounded-xl overflow-hidden shadow-md bg-gray-200",children:[f.coverUrl?E.jsx("img",{src:Zv(f.coverUrl),alt:f.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:h=>{h.target.src="https://via.placeholder.com/300x400?text=No+Cover"}}):E.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400 text-sm",children:"No Cover"}),E.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:E.jsx("div",{className:"bg-black/30 p-3 rounded-full backdrop-blur-sm",children:u(f.type)})}),E.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 bg-black/60 backdrop-blur-md rounded text-[10px] text-white font-medium uppercase tracking-wide",children:f.type}),E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-green-500"}),E.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur rounded-full p-1 shadow-sm",children:E.jsx(qo,{className:"w-4 h-4 text-green-600"})})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1",children:f.title}),E.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:f.author})]})]},f.id))})]})]})},tre=({user:t,onConsentGiven:e})=>{const[n,r]=R.useState(null),[i,a]=R.useState(!0),[s,u]=R.useState(""),[c,f]=R.useState(!1);R.useEffect(()=>{(async()=>{try{const v=await fetch("/api/forms");if(v.ok){const C=(await v.json()).find(S=>S.type==="CONSENT");C?r(C):u("")}else u("")}catch{u("")}finally{a(!1)}})()},[]);const h=async p=>{if(p.preventDefault(),!c){u("");return}try{(await fetch(`/api/users/${t.phone_number}/consent`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({consent_given:!0})})).ok?e():u("")}catch{u("")}};return i?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600 mb-4"}),E.jsx("p",{className:"text-gray-600",children:"..."})]})}):s||!n?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:E.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-xl overflow-hidden p-8 text-center",children:[E.jsx("div",{className:"text-red-500 mb-4",children:E.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),E.jsx("p",{className:"text-gray-600 mb-6",children:s||""}),E.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 bg-brand-600 text-white rounded-xl hover:bg-brand-700 shadow-md hover:shadow-lg font-semibold transition-all",children:""})]})}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:E.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-3xl shadow-xl overflow-hidden",children:[E.jsxs("div",{className:"bg-brand-500 p-8 text-center",children:[E.jsx("h1",{className:"text-3xl font-serif font-bold text-white mb-2",children:"ReadLab"}),E.jsx("p",{className:"text-brand-100 text-lg",children:""})]}),E.jsxs("div",{className:"p-8",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title}),E.jsxs("p",{className:"text-gray-500",children:[" ",E.jsx("strong",{children:t.name}),""]})]}),s&&E.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded-xl text-sm mb-6",children:s}),E.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 mb-6 max-h-[50vh] overflow-y-auto",dangerouslySetInnerHTML:{__html:n.content}}),E.jsxs("form",{onSubmit:h,className:"space-y-6",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("input",{type:"checkbox",id:"agree",checked:c,onChange:p=>f(p.target.checked),className:"mt-1 h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300 rounded"}),E.jsx("label",{htmlFor:"agree",className:"text-sm text-gray-700",children:""})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{type:"submit",disabled:!c,className:"flex-1 flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 transition-all disabled:opacity-70 disabled:cursor-wait",children:""}),E.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"flex-1 flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all",children:""})]})]})]})]})})},nre=({onLogin:t,onSwitchToRegister:e})=>{const[n,r]=R.useState(""),[i,a]=R.useState(""),[s,u]=R.useState(!1),[c,f]=R.useState(""),h=p=>{p.preventDefault(),u(!0),f(""),setTimeout(async()=>{try{const v=await V6(n,i);v&&v.success?t(n):f("")}catch(v){f(""),console.error(":",v)}finally{u(!1)}},800)};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:E.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-xl overflow-hidden",children:[E.jsxs("div",{className:"bg-brand-500 p-8 text-center",children:[E.jsx("h1",{className:"text-3xl font-serif font-bold text-white mb-2",children:"ReadLab"}),E.jsx("p",{className:"text-brand-100 text-lg",children:""})]}),E.jsxs("div",{className:"p-8 space-y-6",children:[E.jsxs("form",{onSubmit:h,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"password",value:i,onChange:p=>a(p.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"}),E.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["",E.jsx("a",{href:"#",onClick:e,className:"text-brand-600 font-medium cursor-pointer",children:""}),""]})]}),c&&E.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded-xl text-sm",children:c}),E.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 transition-all disabled:opacity-70 disabled:cursor-wait cursor-pointer",children:s?"...":""})]}),E.jsx("div",{className:"pt-4 border-t text-center",children:E.jsxs("p",{className:"text-xs text-gray-400",children:["Protected by ReadLab Secure Access. ",E.jsx("br",{}),""]})})]})]})})},rre={};var Ky=null;function ire(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return rre.randomBytes(t)}catch{}if(!Ky)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Ky(t)}function are(t){Ky=t}function Yb(t,e){if(t=t||Wb,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(ch(ire(ec),ec)),n.join("")}function h4(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=Wb;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function r(i){Ai(function(){try{i(null,Yb(t))}catch(a){i(a)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(i,a){r(function(s,u){if(s){a(s);return}i(u)})})}function p4(t,e){if(typeof e>"u"&&(e=Wb),typeof e=="number"&&(e=Yb(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Xy(t,e)}function m4(t,e,n,r){function i(a){typeof t=="string"&&typeof e=="number"?h4(e,function(s,u){Xy(t,u,a,r)}):typeof t=="string"&&typeof e=="string"?Xy(t,e,a,r):Ai(a.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(a,s){i(function(u,c){if(u){s(u);return}a(c)})})}function g4(t,e){for(var n=t.length^e.length,r=0;r<t.length;++r)n|=t.charCodeAt(r)^e.charCodeAt(r);return n===0}function ore(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:g4(p4(t,e.substring(0,e.length-31)),e)}function sre(t,e,n,r){function i(a){if(typeof t!="string"||typeof e!="string"){Ai(a.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Ai(a.bind(this,null,!1));return}m4(t,e.substring(0,29),function(s,u){s?a(s):a(null,g4(u,e))},r)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(a,s){i(function(u,c){if(u){s(u);return}a(c)})})}function lre(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function ure(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function cre(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return v4(t)>72}var Ai=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function v4(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function fre(t){for(var e=0,n,r,i=new Array(v4(t)),a=0,s=t.length;a<s;++a)n=t.charCodeAt(a),n<128?i[e++]=n:n<2048?(i[e++]=n>>6|192,i[e++]=n&63|128):(n&64512)===55296&&((r=t.charCodeAt(a+1))&64512)===56320?(n=65536+((n&1023)<<10)+(r&1023),++a,i[e++]=n>>18|240,i[e++]=n>>12&63|128,i[e++]=n>>6&63|128,i[e++]=n&63|128):(i[e++]=n>>12|224,i[e++]=n>>6&63|128,i[e++]=n&63|128);return i}var Ws="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),io=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function ch(t,e){var n=0,r=[],i,a;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(i=t[n++]&255,r.push(Ws[i>>2&63]),i=(i&3)<<4,n>=e){r.push(Ws[i&63]);break}if(a=t[n++]&255,i|=a>>4&15,r.push(Ws[i&63]),i=(a&15)<<2,n>=e){r.push(Ws[i&63]);break}a=t[n++]&255,i|=a>>6&3,r.push(Ws[i&63]),r.push(Ws[a&63])}return r.join("")}function y4(t,e){var n=0,r=t.length,i=0,a=[],s,u,c,f,h,p;if(e<=0)throw Error("Illegal len: "+e);for(;n<r-1&&i<e&&(p=t.charCodeAt(n++),s=p<io.length?io[p]:-1,p=t.charCodeAt(n++),u=p<io.length?io[p]:-1,!(s==-1||u==-1||(h=s<<2>>>0,h|=(u&48)>>4,a.push(String.fromCharCode(h)),++i>=e||n>=r)||(p=t.charCodeAt(n++),c=p<io.length?io[p]:-1,c==-1)||(h=(u&15)<<4>>>0,h|=(c&60)>>2,a.push(String.fromCharCode(h)),++i>=e||n>=r)));)p=t.charCodeAt(n++),f=p<io.length?io[p]:-1,h=(c&3)<<6>>>0,h|=f,a.push(String.fromCharCode(h)),++i;var v=[];for(n=0;n<i;n++)v.push(a[n].charCodeAt(0));return v}var ec=16,Wb=10,dre=16,hre=100,mN=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],gN=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],x4=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function tc(t,e,n,r){var i,a=t[e],s=t[e+1];return a^=n[0],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],s^=i^n[1],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],a^=i^n[2],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],s^=i^n[3],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],a^=i^n[4],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],s^=i^n[5],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],a^=i^n[6],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],s^=i^n[7],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],a^=i^n[8],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],s^=i^n[9],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],a^=i^n[10],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],s^=i^n[11],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],a^=i^n[12],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],s^=i^n[13],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],a^=i^n[14],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],s^=i^n[15],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],a^=i^n[16],t[e]=s^n[dre+1],t[e+1]=a,t}function Qs(t,e){for(var n=0,r=0;n<4;++n)r=r<<8|t[e]&255,e=(e+1)%t.length;return{key:r,offp:e}}function vN(t,e,n){for(var r=0,i=[0,0],a=e.length,s=n.length,u,c=0;c<a;c++)u=Qs(t,r),r=u.offp,e[c]=e[c]^u.key;for(c=0;c<a;c+=2)i=tc(i,0,e,n),e[c]=i[0],e[c+1]=i[1];for(c=0;c<s;c+=2)i=tc(i,0,e,n),n[c]=i[0],n[c+1]=i[1]}function pre(t,e,n,r){for(var i=0,a=[0,0],s=n.length,u=r.length,c,f=0;f<s;f++)c=Qs(e,i),i=c.offp,n[f]=n[f]^c.key;for(i=0,f=0;f<s;f+=2)c=Qs(t,i),i=c.offp,a[0]^=c.key,c=Qs(t,i),i=c.offp,a[1]^=c.key,a=tc(a,0,n,r),n[f]=a[0],n[f+1]=a[1];for(f=0;f<u;f+=2)c=Qs(t,i),i=c.offp,a[0]^=c.key,c=Qs(t,i),i=c.offp,a[1]^=c.key,a=tc(a,0,n,r),r[f]=a[0],r[f+1]=a[1]}function yN(t,e,n,r,i){var a=x4.slice(),s=a.length,u;if(n<4||n>31)if(u=Error("Illegal number of rounds (4-31): "+n),r){Ai(r.bind(this,u));return}else throw u;if(e.length!==ec)if(u=Error("Illegal salt length: "+e.length+" != "+ec),r){Ai(r.bind(this,u));return}else throw u;n=1<<n>>>0;var c,f,h=0,p;typeof Int32Array=="function"?(c=new Int32Array(mN),f=new Int32Array(gN)):(c=mN.slice(),f=gN.slice()),pre(e,t,c,f);function v(){if(i&&i(h/n),h<n)for(var C=Date.now();h<n&&(h=h+1,vN(t,c,f),vN(e,c,f),!(Date.now()-C>hre)););else{for(h=0;h<64;h++)for(p=0;p<s>>1;p++)tc(a,p<<1,c,f);var S=[];for(h=0;h<s;h++)S.push((a[h]>>24&255)>>>0),S.push((a[h]>>16&255)>>>0),S.push((a[h]>>8&255)>>>0),S.push((a[h]&255)>>>0);if(r){r(null,S);return}else return S}r&&Ai(v)}if(typeof r<"u")v();else for(var y;;)if(typeof(y=v())<"u")return y||[]}function Xy(t,e,n,r){var i;if(typeof t!="string"||typeof e!="string")if(i=Error("Invalid string / salt: Not a string"),n){Ai(n.bind(this,i));return}else throw i;var a,s;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(i=Error("Invalid salt version: "+e.substring(0,2)),n){Ai(n.bind(this,i));return}else throw i;if(e.charAt(2)==="$")a="\0",s=3;else{if(a=e.charAt(2),a!=="a"&&a!=="b"&&a!=="y"||e.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+e.substring(2,4)),n){Ai(n.bind(this,i));return}else throw i;s=4}if(e.charAt(s+2)>"$")if(i=Error("Missing salt rounds"),n){Ai(n.bind(this,i));return}else throw i;var u=parseInt(e.substring(s,s+1),10)*10,c=parseInt(e.substring(s+1,s+2),10),f=u+c,h=e.substring(s+3,s+25);t+=a>="a"?"\0":"";var p=fre(t),v=y4(h,ec);function y(C){var S=[];return S.push("$2"),a>="a"&&S.push(a),S.push("$"),f<10&&S.push("0"),S.push(f.toString()),S.push("$"),S.push(ch(v,v.length)),S.push(ch(C,x4.length*4-1)),S.join("")}if(typeof n>"u")return y(yN(p,v,f));yN(p,v,f,function(C,S){C?n(C,null):n(null,y(S))},r)}function mre(t,e){return ch(t,e)}function gre(t,e){return y4(t,e)}const vre={setRandomFallback:are,genSaltSync:Yb,genSalt:h4,hashSync:p4,hash:m4,compareSync:ore,compare:sre,getRounds:lre,getSalt:ure,truncates:cre,encodeBase64:mre,decodeBase64:gre},yre=({onRegister:t,onSwitchToLogin:e})=>{const[n,r]=R.useState(""),[i,a]=R.useState(""),[s,u]=R.useState(""),[c,f]=R.useState(""),[h,p]=R.useState(""),[v,y]=R.useState(""),[C,S]=R.useState(""),[b,T]=R.useState(""),[D,I]=R.useState(""),[P,M]=R.useState(""),[O,L]=R.useState(!1),[z,B]=R.useState(""),q=Y=>{if(Y.preventDefault(),L(!0),B(""),!n||!i||!s||!c||!h||!v||!C||!b||!D||!P){B(""),L(!1);return}if(!/^1[3-9]\d{9}$/.test(h)){B(""),L(!1);return}const re=parseInt(v);if(isNaN(re)||re<18||re>100){B(""),L(!1);return}if(i!==s){B(""),L(!1);return}setTimeout(async()=>{try{const me=vre.hashSync(i,10),Z={phone_number:h,email:n,name:c,role:nr.PARTICIPANT,password:me,age:parseInt(v),gender:C,education:b,income:parseInt(D),occupation:P};await q6(Z)?t(h):B("")}catch(me){B(""),console.error(":",me)}finally{L(!1)}},800)};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:E.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-xl overflow-hidden",children:[E.jsxs("div",{className:"bg-brand-500 p-8 text-center",children:[E.jsx("h1",{className:"text-3xl font-serif font-bold text-white mb-2",children:"ReadLab"}),E.jsx("p",{className:"text-brand-100 text-lg",children:""})]}),E.jsxs("div",{className:"p-8 space-y-6",children:[E.jsxs("form",{onSubmit:q,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"tel",value:h,onChange:Y=>p(Y.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"email",value:n,onChange:Y=>r(Y.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"text",value:c,onChange:Y=>f(Y.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"number",min:"1",max:"100",value:v,onChange:Y=>y(Y.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsxs("select",{value:C,onChange:Y=>S(Y.target.value),className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50",children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsxs("select",{value:b,onChange:Y=>T(Y.target.value),className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50",children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"/",children:"/"}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsx("input",{type:"number",min:"0",value:D,onChange:Y=>I(Y.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("div",{className:"relative",children:E.jsxs("select",{value:P,onChange:Y=>M(Y.target.value),className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50",children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"password",value:i,onChange:Y=>a(Y.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"password",value:s,onChange:Y=>u(Y.target.value),placeholder:"",className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 py-3 px-4 bg-gray-50"}),E.jsxs("p",{className:"text-s text-gray-400 mt-2",children:["",E.jsx("a",{href:"#",onClick:e,className:"text-brand-600 font-medium cursor-pointer",children:""}),""]})]}),z&&E.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded-xl text-sm",children:z}),E.jsx("button",{type:"submit",disabled:O,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 transition-all disabled:opacity-70 disabled:cursor-wait cursor-pointer",children:O?"...":""})]}),E.jsx("div",{className:"pt-4 border-t text-center",children:E.jsxs("p",{className:"text-xs text-gray-400",children:["Protected by ReadLab Secure Access. ",E.jsx("br",{}),""]})})]})]})})},xre=()=>{const[t,e]=R.useState(null),[n,r]=R.useState([]),[i,a]=R.useState(null),[s,u]=R.useState(!1),[c,f]=R.useState("dashboard"),[h,p]=R.useState(!0);R.useEffect(()=>{t&&t.role===nr.PARTICIPANT&&(async()=>{try{const P=await fetch(`/api/users/${t.phone_number}/materials`);if(P.ok){const M=await P.json();r(M)}}catch(P){console.error("Failed to fetch user materials:",P)}})()},[t]),R.useEffect(()=>{console.log("App initialized");const P=(M=>document.cookie.split("; ").reduce((O,L)=>{const z=L.split("=");return z[0]===M?decodeURIComponent(z[1]):O},""))("user_phone");P?(console.log("Found cookie, attempting auto-login for:",P),p0(P).then(M=>{M&&(e(M),pn.log(M,"AUTO_LOGIN","User auto-logged in via cookie"))}).finally(()=>{p(!1)})):p(!1)},[]);const v=async I=>{const P=await p0(I);if(P){e(P);const M=new Date(Date.now()+10080*60*1e3).toUTCString();document.cookie=`user_phone=${encodeURIComponent(P.phone_number)}; expires=${M}; path=/`,pn.log(P,"LOGIN","User logged in")}},y=async I=>{const P=await p0(I);P&&(e(P),pn.log(P,"REGISTER","User registered"))},C=()=>{t&&pn.log(t,"LOGOUT","User logged out"),document.cookie="user_phone=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",e(null),a(null),r([])},S=async I=>{if(t)try{const P=await AN(t.phone_number,I);P&&(e(M=>M?{...M,...P}:null),pn.log(t,"UPDATE_PROFILE","User updated profile"))}catch(P){console.error(":",P)}},b=I=>{a(I),t&&pn.log(t,"OPEN_MATERIAL",`Opened ${I.title}`,I.id)},T=I=>{a(null),t&&t.role===nr.PARTICIPANT&&fetch(`/api/users/${t.phone_number}/materials`).then(P=>P.json()).then(P=>{r(P)}).catch(P=>console.error("Failed to refresh materials:",P))};if(h)return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600"})});if(!t)return s?E.jsx(yre,{onRegister:y,onSwitchToLogin:()=>u(!1)}):E.jsx(nre,{onLogin:v,onSwitchToRegister:()=>u(!0)});if(i)return E.jsx(oz,{material:i,user:t,onClose:T});const D=()=>{t&&e({...t,consent_given:!0})};return t.consent_given?E.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[E.jsx("nav",{className:"bg-white border-b sticky top-0 z-30 shadow-sm",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"flex justify-between h-16",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-8 h-8 bg-brand-600 rounded-lg flex items-center justify-center text-white font-serif font-bold",children:"R"}),E.jsx("span",{className:"text-xl font-serif font-bold text-brand-900 tracking-tight",children:"ReadLab"}),t.role===nr.ADMIN&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"hidden sm:inline-block ml-2 px-2 py-0.5 bg-brand-100 text-brand-700 text-[10px] font-bold uppercase tracking-wider rounded-full",children:""}),E.jsx(D6,{className:"w-5 h-5 ml-1 text-brand-600 sm:hidden"})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("div",{className:"flex flex-col items-end hidden sm:flex",children:[E.jsx("span",{className:"text-sm font-semibold text-gray-800",children:t.name}),E.jsx("span",{className:"text-xs text-gray-500",children:t.role===nr.ADMIN?"":""})]}),E.jsxs("button",{onClick:()=>f("profile"),className:"text-sm text-brand-600 font-medium hover:text-white transition-colors px-3 py-2 sm:px-4 rounded-lg bg-white border border-brand-600 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 cursor-pointer mr-1 flex items-center justify-center",title:"",children:[E.jsx("span",{className:"hidden sm:inline",children:""}),E.jsx(L6,{className:"w-5 h-5 sm:hidden"})]}),E.jsxs("button",{onClick:C,className:"text-sm text-red-600 font-medium hover:text-white transition-colors px-3 py-2 sm:px-4 rounded-lg bg-white border border-red-600 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 cursor-pointer flex items-center justify-center",title:"",children:[E.jsx("span",{className:"hidden sm:inline",children:""}),E.jsx(Vk,{className:"w-5 h-5 sm:hidden"})]})]})]})})}),E.jsx("main",{className:"min-h-screen pb-16",children:c==="profile"?E.jsx("div",{className:"max-w-4xl mx-auto",children:E.jsx(_D,{user:t,onUpdate:S,onBack:()=>f("dashboard")})}):E.jsx(E.Fragment,{children:t.role===nr.ADMIN?E.jsx(Qne,{onOpenMaterial:b}):E.jsx(ere,{user:t,materials:n,onOpenMaterial:b})})})]}):E.jsx(tre,{user:t,onConsentGiven:D})},b4=document.getElementById("root");if(!b4)throw new Error("Could not find root element to mount to");const bre=Lk.createRoot(b4);bre.render(E.jsx(xN.StrictMode,{children:E.jsx(xre,{})}));
